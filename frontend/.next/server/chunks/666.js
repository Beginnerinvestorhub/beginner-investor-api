"use strict";exports.id=666,exports.ids=[666],exports.modules={872:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{$:()=>ar,A:()=>bv,B:()=>bu,C:()=>ap,D:()=>K,E:()=>aA,F:()=>o,G:()=>aX,H:()=>bp,I:()=>aS,J:()=>aZ,K:()=>bY,L:()=>Y,M:()=>aR,N:()=>D,O:()=>l,P:()=>bk,Q:()=>n,R:()=>aD,S:()=>P,T:()=>bl,U:()=>I,V:()=>aj,W:()=>Q,X:()=>al,Y:()=>aq,Z:()=>au,_:()=>W,a:()=>aC,a$:()=>aU,a0:()=>aB,a1:()=>by,a2:()=>bz,a3:()=>bJ,a4:()=>t,a5:()=>z,a6:()=>bK,a7:()=>bi,a8:()=>function a(b,c,d,e){let f={_cacheable:!1,_proxy:b,_context:c,_subProxy:d,_stack:new Set,_descriptors:aG(b,e),setContext:c=>a(b,c,d,e),override:f=>a(b.override(f),c,d,e)};return new Proxy(f,{deleteProperty:(a,c)=>(delete a[c],delete b[c],!0),get:(b,c,d)=>aH(b,c,()=>(function(b,c,d){let{_proxy:e,_context:f,_subProxy:g,_descriptors:h}=b,k=e[c];return bi(k)&&h.isScriptable(c)&&(k=function(a,b,c,d){let{_proxy:e,_context:f,_subProxy:g,_stack:h}=c;if(h.has(a))throw Error("Recursion detected: "+Array.from(h).join("->")+"->"+a);h.add(a);let i=b(f,g||d);return h.delete(a),bQ(a,i)&&(i=aI(e._scopes,e,a,i)),i}(c,k,b,d)),i(k)&&k.length&&(k=function(b,c,d,e){let{_proxy:f,_context:g,_subProxy:h,_descriptors:i}=d;if(void 0!==g.index&&e(b))return c[g.index%c.length];if(j(c[0])){let d=c,e=f._scopes.filter(a=>a!==d);for(let j of(c=[],d)){let d=aI(e,f,b,j);c.push(a(d,g,h&&h[b],i))}}return c}(c,k,b,h.isIndexable)),bQ(c,k)&&(k=a(k,f,g&&g[c],h)),k})(b,c,d)),getOwnPropertyDescriptor:(a,c)=>a._descriptors.allKeys?Reflect.has(b,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(b,c),getPrototypeOf:()=>Reflect.getPrototypeOf(b),has:(a,c)=>Reflect.has(b,c),ownKeys:()=>Reflect.ownKeys(b),set:(a,c,d)=>(b[c]=d,delete a[c],!0)})},a9:()=>aF,aA:()=>a1,aB:()=>a2,aC:()=>bA,aD:()=>a3,aE:()=>ao,aF:()=>L,aG:()=>g,aH:()=>G,aI:()=>C,aJ:()=>F,aK:()=>B,aL:()=>J,aM:()=>ae,aN:()=>bs,aO:()=>ak,aP:()=>T,aQ:()=>S,aR:()=>aa,aS:()=>ac,aT:()=>q,aU:()=>s,aV:()=>v,aW:()=>w,aX:()=>x,aY:()=>ai,aZ:()=>aN,a_:()=>aO,aa:()=>aG,ab:()=>u,ac:()=>bd,ad:()=>Z,ae:()=>aY,af:()=>am,ag:()=>bj,ah:()=>bc,ai:()=>p,aj:()=>A,ak:()=>R,al:()=>N,am:()=>ax,an:()=>aQ,ao:()=>a8,ap:()=>a7,aq:()=>a_,ar:()=>a0,as:()=>a$,at:()=>as,au:()=>at,av:()=>an,aw:()=>av,ax:()=>ay,ay:()=>az,az:()=>a6,b:()=>i,b0:()=>X,b1:()=>aw,b2:()=>bm,b3:()=>bn,b4:()=>bo,b5:()=>bq,b6:()=>br,b7:()=>M,c:()=>ab,d:()=>ah,e:()=>bE,f:()=>y,g:()=>k,h:()=>bh,i:()=>j,j:()=>aE,k:()=>h,l:()=>U,m:()=>be,n:()=>bf,o:()=>ad,p:()=>O,q:()=>$,r:()=>bx,s:()=>bt,t:()=>H,u:()=>V,v:()=>m,w:()=>_,x:()=>E,y:()=>aM,z:()=>aW});var e=c(3006),f=a([e]);function g(){}e=(f.then?(await f)():f)[0];let bd=(()=>{let a=0;return()=>a++})();function h(a){return null==a}function i(a){if(Array.isArray&&Array.isArray(a))return!0;let b=Object.prototype.toString.call(a);return"[object"===b.slice(0,7)&&"Array]"===b.slice(-6)}function j(a){return null!==a&&"[object Object]"===Object.prototype.toString.call(a)}function k(a){return("number"==typeof a||a instanceof Number)&&isFinite(+a)}function l(a,b){return k(a)?a:b}function m(a,b){return void 0===a?b:a}let be=(a,b)=>"string"==typeof a&&a.endsWith("%")?parseFloat(a)/100:a/b,bf=(a,b)=>"string"==typeof a&&a.endsWith("%")?parseFloat(a)/100*b:+a;function n(a,b,c){if(a&&"function"==typeof a.call)return a.apply(c,b)}function o(a,b,c,d){let e,f,g;if(i(a))if(f=a.length,d)for(e=f-1;e>=0;e--)b.call(c,a[e],e);else for(e=0;e<f;e++)b.call(c,a[e],e);else if(j(a))for(e=0,f=(g=Object.keys(a)).length;e<f;e++)b.call(c,a[g[e]],g[e])}function p(a,b){let c,d,e,f;if(!a||!b||a.length!==b.length)return!1;for(c=0,d=a.length;c<d;++c)if(e=a[c],f=b[c],e.datasetIndex!==f.datasetIndex||e.index!==f.index)return!1;return!0}function q(a){if(i(a))return a.map(q);if(j(a)){let b=Object.create(null),c=Object.keys(a),d=c.length,e=0;for(;e<d;++e)b[c[e]]=q(a[c[e]]);return b}return a}function r(a){return -1===["__proto__","prototype","constructor"].indexOf(a)}function s(a,b,c,d){if(!r(a))return;let e=b[a],f=c[a];j(e)&&j(f)?t(e,f,d):b[a]=q(f)}function t(a,b,c){let d,e=i(b)?b:[b],f=e.length;if(!j(a))return a;let g=(c=c||{}).merger||s;for(let b=0;b<f;++b){if(d=e[b],!j(d))continue;let f=Object.keys(d);for(let b=0,e=f.length;b<e;++b)g(f[b],a,d,c)}return a}function u(a,b){return t(a,b,{merger:v})}function v(a,b,c){if(!r(a))return;let d=b[a],e=c[a];j(d)&&j(e)?u(d,e):Object.prototype.hasOwnProperty.call(b,a)||(b[a]=q(e))}function w(a,b,c,d){void 0!==b&&console.warn(a+': "'+c+'" is deprecated. Please use "'+d+'" instead')}let bg={"":a=>a,x:a=>a.x,y:a=>a.y};function x(a){let b=a.split("."),c=[],d="";for(let a of b)(d+=a).endsWith("\\")?d=d.slice(0,-1)+".":(c.push(d),d="");return c}function y(a,b){return(bg[b]||(bg[b]=function(a){let b=x(a);return a=>{for(let c of b){if(""===c)break;a=a&&a[c]}return a}}(b)))(a)}function z(a){return a.charAt(0).toUpperCase()+a.slice(1)}let bh=a=>void 0!==a,bi=a=>"function"==typeof a,bj=(a,b)=>{if(a.size!==b.size)return!1;for(let c of a)if(!b.has(c))return!1;return!0};function A(a){return"mouseup"===a.type||"click"===a.type||"contextmenu"===a.type}let bk=Math.PI,bl=2*bk,bm=bl+bk,bn=1/0,bo=bk/180,bp=bk/2,bq=bk/4,br=2*bk/3,bs=Math.log10,bt=Math.sign;function B(a,b,c){return Math.abs(a-b)<c}function C(a){let b=Math.round(a);a=B(a,b,a/1e3)?b:a;let c=Math.pow(10,Math.floor(bs(a))),d=a/c;return(d<=1?1:d<=2?2:d<=5?5:10)*c}function D(a){let b,c=[],d=Math.sqrt(a);for(b=1;b<d;b++)a%b==0&&(c.push(b),c.push(a/b));return d===(0|d)&&c.push(d),c.sort((a,b)=>a-b).pop(),c}function E(a){return"symbol"!=typeof a&&("object"!=typeof a||null===a||!!(Symbol.toPrimitive in a||"toString"in a||"valueOf"in a))&&!isNaN(parseFloat(a))&&isFinite(a)}function F(a,b){let c=Math.round(a);return c-b<=a&&c+b>=a}function G(a,b,c){let d,e,f;for(d=0,e=a.length;d<e;d++)f=a[d][c],isNaN(f)||(b.min=Math.min(b.min,f),b.max=Math.max(b.max,f))}function H(a){return bk/180*a}function I(a){return 180/bk*a}function J(a){if(!k(a))return;let b=1,c=0;for(;Math.round(a*b)/b!==a;)b*=10,c++;return c}function K(a,b){let c=b.x-a.x,d=b.y-a.y,e=Math.sqrt(c*c+d*d),f=Math.atan2(d,c);return f<-.5*bk&&(f+=bl),{angle:f,distance:e}}function L(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))}function M(a,b){return(a-b+bm)%bl-bk}function N(a){return(a%bl+bl)%bl}function O(a,b,c,d){let e=N(a),f=N(b),g=N(c),h=N(f-e),i=N(g-e),j=N(e-f),k=N(e-g);return e===f||e===g||d&&f===g||h>i&&j<k}function P(a,b,c){return Math.max(b,Math.min(c,a))}function Q(a){return P(a,-32768,32767)}function R(a,b,c,d=1e-6){return a>=Math.min(b,c)-d&&a<=Math.max(b,c)+d}function S(a,b,c){let d;c=c||(c=>a[c]<b);let e=a.length-1,f=0;for(;e-f>1;)d=f+e>>1,c(d)?f=d:e=d;return{lo:f,hi:e}}let bu=(a,b,c,d)=>S(a,c,d?d=>{let e=a[d][b];return e<c||e===c&&a[d+1][b]===c}:d=>a[d][b]<c),bv=(a,b,c)=>S(a,c,d=>a[d][b]>=c);function T(a,b,c){let d=0,e=a.length;for(;d<e&&a[d]<b;)d++;for(;e>d&&a[e-1]>c;)e--;return d>0||e<a.length?a.slice(d,e):a}let bw=["push","pop","shift","splice","unshift"];function U(a,b){if(a._chartjs)return void a._chartjs.listeners.push(b);Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[b]}}),bw.forEach(b=>{let c="_onData"+z(b),d=a[b];Object.defineProperty(a,b,{configurable:!0,enumerable:!1,value(...b){let e=d.apply(this,b);return a._chartjs.listeners.forEach(a=>{"function"==typeof a[c]&&a[c](...b)}),e}})})}function V(a,b){let c=a._chartjs;if(!c)return;let d=c.listeners,e=d.indexOf(b);-1!==e&&d.splice(e,1),d.length>0||(bw.forEach(b=>{delete a[b]}),delete a._chartjs)}function W(a){let b=new Set(a);return b.size===a.length?a:Array.from(b)}function X(a,b,c){return b+" "+a+"px "+c}let bx=function(a){return a()};function Y(a,b){let c=[],d=!1;return function(...e){c=e,d||(d=!0,bx.call(window,()=>{d=!1,a.apply(b,c)}))}}function Z(a,b){let c;return function(...d){return b?(clearTimeout(c),c=setTimeout(a,b,d)):a.apply(this,d),b}}let by=a=>"start"===a?"left":"end"===a?"right":"center",bz=(a,b,c)=>"start"===a?b:"end"===a?c:(b+c)/2,bA=(a,b,c,d)=>a===(d?"left":"right")?c:"center"===a?(b+c)/2:b;function $(a,b,c){let d=b.length,e=0,f=d;if(a._sorted){let{iScale:g,vScale:i,_parsed:j}=a,k=a.dataset&&a.dataset.options?a.dataset.options.spanGaps:null,l=g.axis,{min:m,max:n,minDefined:o,maxDefined:p}=g.getUserBounds();if(o){if(e=Math.min(bu(j,l,m).lo,c?d:bu(b,l,g.getPixelForValue(m)).lo),k){let a=j.slice(0,e+1).reverse().findIndex(a=>!h(a[i.axis]));e-=Math.max(0,a)}e=P(e,0,d-1)}if(p){let a=Math.max(bu(j,g.axis,n,!0).hi+1,c?0:bu(b,l,g.getPixelForValue(n),!0).hi+1);if(k){let b=j.slice(a-1).findIndex(a=>!h(a[i.axis]));a+=Math.max(0,b)}f=P(a,e,d)-e}else f=d-e}return{start:e,count:f}}function _(a){let{xScale:b,yScale:c,_scaleRanges:d}=a,e={xmin:b.min,xmax:b.max,ymin:c.min,ymax:c.max};if(!d)return a._scaleRanges=e,!0;let f=d.xmin!==b.min||d.xmax!==b.max||d.ymin!==c.min||d.ymax!==c.max;return Object.assign(d,e),f}let bB=a=>0===a||1===a,bC=(a,b,c)=>-(Math.pow(2,10*(a-=1))*Math.sin((a-b)*bl/c)),bD=(a,b,c)=>Math.pow(2,-10*a)*Math.sin((a-b)*bl/c)+1,bE={linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>a*a*a,easeOutCubic:a=>(a-=1)*a*a+1,easeInOutCubic:a=>(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-((a-=1)*a*a*a-1),easeInOutQuart:a=>(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>(a-=1)*a*a*a*a+1,easeInOutQuint:a=>(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>-Math.cos(a*bp)+1,easeOutSine:a=>Math.sin(a*bp),easeInOutSine:a=>-.5*(Math.cos(bk*a)-1),easeInExpo:a=>0===a?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>1===a?1:-Math.pow(2,-10*a)+1,easeInOutExpo:a=>bB(a)?a:a<.5?.5*Math.pow(2,10*(2*a-1)):.5*(-Math.pow(2,-10*(2*a-1))+2),easeInCirc:a=>a>=1?a:-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1-(a-=1)*a),easeInOutCirc:a=>(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInElastic:a=>bB(a)?a:bC(a,.075,.3),easeOutElastic:a=>bB(a)?a:bD(a,.075,.3),easeInOutElastic:a=>bB(a)?a:a<.5?.5*bC(2*a,.1125,.45):.5+.5*bD(2*a-1,.1125,.45),easeInBack:a=>a*a*(2.70158*a-1.70158),easeOutBack:a=>(a-=1)*a*(2.70158*a+1.70158)+1,easeInOutBack(a){let b=1.70158;return(a/=.5)<1?.5*(a*a*(((b*=1.525)+1)*a-b)):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},easeInBounce:a=>1-bE.easeOutBounce(1-a),easeOutBounce:a=>a<.36363636363636365?7.5625*a*a:a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375,easeInOutBounce:a=>a<.5?.5*bE.easeInBounce(2*a):.5*bE.easeOutBounce(2*a-1)+.5};function aa(a){if(a&&"object"==typeof a){let b=a.toString();return"[object CanvasPattern]"===b||"[object CanvasGradient]"===b}return!1}function ab(a){return aa(a)?a:new e.Color(a)}function ac(a){return aa(a)?a:new e.Color(a).saturate(.5).darken(.1).hexString()}let bF=["x","y","borderWidth","radius","tension"],bG=["color","borderColor","backgroundColor"],bH=new Map;function ad(a,b,c){return(function(a,b){b=b||{};let c=a+JSON.stringify(b),d=bH.get(c);return d||(d=new Intl.NumberFormat(a,b),bH.set(c,d)),d})(b,c).format(a)}let bI={values:a=>i(a)?a:""+a,numeric(a,b,c){let d;if(0===a)return"0";let e=this.chart.options.locale,f=a;if(c.length>1){var g,h;let b,e=Math.max(Math.abs(c[0].value),Math.abs(c[c.length-1].value));(e<1e-4||e>1e15)&&(d="scientific"),g=a,b=(h=c).length>3?h[2].value-h[1].value:h[1].value-h[0].value,Math.abs(b)>=1&&g!==Math.floor(g)&&(b=g-Math.floor(g)),f=b}let i=bs(Math.abs(f)),j=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),k={notation:d,minimumFractionDigits:j,maximumFractionDigits:j};return Object.assign(k,this.options.ticks.format),ad(a,e,k)},logarithmic(a,b,c){if(0===a)return"0";let d=c[b].significand||a/Math.pow(10,Math.floor(bs(a)));return[1,2,3,5,10,15].includes(d)||b>.8*c.length?bI.numeric.call(this,a,b,c):""}};var ae={formatters:bI};let bJ=Object.create(null),bK=Object.create(null);function af(a,b){if(!b)return a;let c=b.split(".");for(let b=0,d=c.length;b<d;++b){let d=c[b];a=a[d]||(a[d]=Object.create(null))}return a}function ag(a,b,c){return"string"==typeof b?t(af(a,b),c):t(af(a,""),b)}class bL{constructor(a,b){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,b)=>ac(b.backgroundColor),this.hoverBorderColor=(a,b)=>ac(b.borderColor),this.hoverColor=(a,b)=>ac(b.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(a),this.apply(b)}set(a,b){return ag(this,a,b)}get(a){return af(this,a)}describe(a,b){return ag(bK,a,b)}override(a,b){return ag(bJ,a,b)}route(a,b,c,d){let e=af(this,a),f=af(this,c),g="_"+b;Object.defineProperties(e,{[g]:{value:e[b],writable:!0},[b]:{enumerable:!0,get(){let a=this[g],b=f[d];return j(a)?Object.assign({},b,a):m(a,b)},set(a){this[g]=a}}})}apply(a){a.forEach(a=>a(this))}}var ah=new bL({_scriptable:a=>!a.startsWith("on"),_indexable:a=>"events"!==a,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(a){a.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),a.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:a=>"onProgress"!==a&&"onComplete"!==a&&"fn"!==a}),a.set("animations",{colors:{type:"color",properties:bG},numbers:{type:"number",properties:bF}}),a.describe("animations",{_fallback:"animation"}),a.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:a=>0|a}}}})},function(a){a.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(a){a.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(a,b)=>b.lineWidth,tickColor:(a,b)=>b.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ae.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),a.route("scale.ticks","color","","color"),a.route("scale.grid","color","","borderColor"),a.route("scale.border","color","","borderColor"),a.route("scale.title","color","","color"),a.describe("scale",{_fallback:!1,_scriptable:a=>!a.startsWith("before")&&!a.startsWith("after")&&"callback"!==a&&"parser"!==a,_indexable:a=>"borderDash"!==a&&"tickBorderDash"!==a&&"dash"!==a}),a.describe("scales",{_fallback:"scale"}),a.describe("scale.ticks",{_scriptable:a=>"backdropPadding"!==a&&"callback"!==a,_indexable:a=>"backdropPadding"!==a})}]);function ai(a){return!a||h(a.size)||h(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family}function aj(a,b,c,d,e){let f=b[e];return f||(f=b[e]=a.measureText(e).width,c.push(e)),f>d&&(d=f),d}function ak(a,b,c,d){let e,f,g,h,j,k=(d=d||{}).data=d.data||{},l=d.garbageCollect=d.garbageCollect||[];d.font!==b&&(k=d.data={},l=d.garbageCollect=[],d.font=b),a.save(),a.font=b;let m=0,n=c.length;for(e=0;e<n;e++)if(null==(h=c[e])||i(h)){if(i(h))for(f=0,g=h.length;f<g;f++)null==(j=h[f])||i(j)||(m=aj(a,k,l,m,j))}else m=aj(a,k,l,m,h);a.restore();let o=l.length/2;if(o>c.length){for(e=0;e<o;e++)delete k[l[e]];l.splice(0,o)}return m}function al(a,b,c){let d=a.currentDevicePixelRatio,e=0!==c?Math.max(c/2,.5):0;return Math.round((b-e)*d)/d+e}function am(a,b){(b||a)&&((b=b||a.getContext("2d")).save(),b.resetTransform(),b.clearRect(0,0,a.width,a.height),b.restore())}function an(a,b,c,d){ao(a,b,c,d,null)}function ao(a,b,c,d,e){let f,g,h,i,j,k,l,m,n=b.pointStyle,o=b.rotation,p=b.radius,q=(o||0)*bo;if(n&&"object"==typeof n&&(f=n.toString(),"[object HTMLImageElement]"===f||"[object HTMLCanvasElement]"===f)){a.save(),a.translate(c,d),a.rotate(q),a.drawImage(n,-n.width/2,-n.height/2,n.width,n.height),a.restore();return}if(!isNaN(p)&&!(p<=0)){switch(a.beginPath(),n){default:e?a.ellipse(c,d,e/2,p,0,0,bl):a.arc(c,d,p,0,bl),a.closePath();break;case"triangle":k=e?e/2:p,a.moveTo(c+Math.sin(q)*k,d-Math.cos(q)*p),q+=br,a.lineTo(c+Math.sin(q)*k,d-Math.cos(q)*p),q+=br,a.lineTo(c+Math.sin(q)*k,d-Math.cos(q)*p),a.closePath();break;case"rectRounded":j=.516*p,i=p-j,g=Math.cos(q+bq)*i,l=Math.cos(q+bq)*(e?e/2-j:i),h=Math.sin(q+bq)*i,m=Math.sin(q+bq)*(e?e/2-j:i),a.arc(c-l,d-h,j,q-bk,q-bp),a.arc(c+m,d-g,j,q-bp,q),a.arc(c+l,d+h,j,q,q+bp),a.arc(c-m,d+g,j,q+bp,q+bk),a.closePath();break;case"rect":if(!o){i=Math.SQRT1_2*p,k=e?e/2:i,a.rect(c-k,d-i,2*k,2*i);break}q+=bq;case"rectRot":l=Math.cos(q)*(e?e/2:p),g=Math.cos(q)*p,h=Math.sin(q)*p,m=Math.sin(q)*(e?e/2:p),a.moveTo(c-l,d-h),a.lineTo(c+m,d-g),a.lineTo(c+l,d+h),a.lineTo(c-m,d+g),a.closePath();break;case"crossRot":q+=bq;case"cross":l=Math.cos(q)*(e?e/2:p),g=Math.cos(q)*p,h=Math.sin(q)*p,m=Math.sin(q)*(e?e/2:p),a.moveTo(c-l,d-h),a.lineTo(c+l,d+h),a.moveTo(c+m,d-g),a.lineTo(c-m,d+g);break;case"star":l=Math.cos(q)*(e?e/2:p),g=Math.cos(q)*p,h=Math.sin(q)*p,m=Math.sin(q)*(e?e/2:p),a.moveTo(c-l,d-h),a.lineTo(c+l,d+h),a.moveTo(c+m,d-g),a.lineTo(c-m,d+g),q+=bq,l=Math.cos(q)*(e?e/2:p),g=Math.cos(q)*p,h=Math.sin(q)*p,m=Math.sin(q)*(e?e/2:p),a.moveTo(c-l,d-h),a.lineTo(c+l,d+h),a.moveTo(c+m,d-g),a.lineTo(c-m,d+g);break;case"line":g=e?e/2:Math.cos(q)*p,h=Math.sin(q)*p,a.moveTo(c-g,d-h),a.lineTo(c+g,d+h);break;case"dash":a.moveTo(c,d),a.lineTo(c+Math.cos(q)*(e?e/2:p),d+Math.sin(q)*p);break;case!1:a.closePath()}a.fill(),b.borderWidth>0&&a.stroke()}}function ap(a,b,c){return c=c||.5,!b||a&&a.x>b.left-c&&a.x<b.right+c&&a.y>b.top-c&&a.y<b.bottom+c}function aq(a,b){a.save(),a.beginPath(),a.rect(b.left,b.top,b.right-b.left,b.bottom-b.top),a.clip()}function ar(a){a.restore()}function as(a,b,c,d,e){if(!b)return a.lineTo(c.x,c.y);if("middle"===e){let d=(b.x+c.x)/2;a.lineTo(d,b.y),a.lineTo(d,c.y)}else"after"===e!=!!d?a.lineTo(b.x,c.y):a.lineTo(c.x,b.y);a.lineTo(c.x,c.y)}function at(a,b,c,d){if(!b)return a.lineTo(c.x,c.y);a.bezierCurveTo(d?b.cp1x:b.cp2x,d?b.cp1y:b.cp2y,d?c.cp2x:c.cp1x,d?c.cp2y:c.cp1y,c.x,c.y)}function au(a,b,c,d,e,f={}){let g,j,k=i(b)?b:[b],l=f.strokeWidth>0&&""!==f.strokeColor;for(a.save(),a.font=e.string,f.translation&&a.translate(f.translation[0],f.translation[1]),h(f.rotation)||a.rotate(f.rotation),f.color&&(a.fillStyle=f.color),f.textAlign&&(a.textAlign=f.textAlign),f.textBaseline&&(a.textBaseline=f.textBaseline),g=0;g<k.length;++g)j=k[g],f.backdrop&&function(a,b){let c=a.fillStyle;a.fillStyle=b.color,a.fillRect(b.left,b.top,b.width,b.height),a.fillStyle=c}(a,f.backdrop),l&&(f.strokeColor&&(a.strokeStyle=f.strokeColor),h(f.strokeWidth)||(a.lineWidth=f.strokeWidth),a.strokeText(j,c,d,f.maxWidth)),a.fillText(j,c,d,f.maxWidth),function(a,b,c,d,e){if(e.strikethrough||e.underline){let f=a.measureText(d),g=b-f.actualBoundingBoxLeft,h=b+f.actualBoundingBoxRight,i=c-f.actualBoundingBoxAscent,j=c+f.actualBoundingBoxDescent,k=e.strikethrough?(i+j)/2:j;a.strokeStyle=a.fillStyle,a.beginPath(),a.lineWidth=e.decorationWidth||2,a.moveTo(g,k),a.lineTo(h,k),a.stroke()}}(a,c,d,j,f),d+=Number(e.lineHeight);a.restore()}function av(a,b){let{x:c,y:d,w:e,h:f,radius:g}=b;a.arc(c+g.topLeft,d+g.topLeft,g.topLeft,1.5*bk,bk,!0),a.lineTo(c,d+f-g.bottomLeft),a.arc(c+g.bottomLeft,d+f-g.bottomLeft,g.bottomLeft,bk,bp,!0),a.lineTo(c+e-g.bottomRight,d+f),a.arc(c+e-g.bottomRight,d+f-g.bottomRight,g.bottomRight,bp,0,!0),a.lineTo(c+e,d+g.topRight),a.arc(c+e-g.topRight,d+g.topRight,g.topRight,0,-bp,!0),a.lineTo(c+g.topLeft,d)}let bM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function aw(a,b){let c=(""+a).match(bM);if(!c||"normal"===c[1])return 1.2*b;switch(a=+c[2],c[3]){case"px":return a;case"%":a/=100}return b*a}let bO=a=>+a||0;function ax(a,b){let c={},d=j(b),e=d?Object.keys(b):b,f=j(a)?d?c=>m(a[c],a[b[c]]):b=>a[b]:()=>a;for(let a of e)c[a]=bO(f(a));return c}function ay(a){return ax(a,{top:"y",right:"x",bottom:"y",left:"x"})}function az(a){return ax(a,["topLeft","topRight","bottomLeft","bottomRight"])}function aA(a){let b=ay(a);return b.width=b.left+b.right,b.height=b.top+b.bottom,b}function aB(a,b){a=a||{},b=b||ah.font;let c=m(a.size,b.size);"string"==typeof c&&(c=parseInt(c,10));let d=m(a.style,b.style);d&&!(""+d).match(bN)&&(console.warn('Invalid font style specified: "'+d+'"'),d=void 0);let e={family:m(a.family,b.family),lineHeight:aw(m(a.lineHeight,b.lineHeight),c),size:c,style:d,weight:m(a.weight,b.weight),string:""};return e.string=ai(e),e}function aC(a,b,c,d){let e,f,g,h=!0;for(e=0,f=a.length;e<f;++e)if(g=a[e],void 0!==g&&(void 0!==b&&"function"==typeof g&&(g=g(b),h=!1),void 0!==c&&i(g)&&(g=g[c%g.length],h=!1),void 0!==g))return d&&!h&&(d.cacheable=!1),g}function aD(a,b,c){let{min:d,max:e}=a,f=bf(b,(e-d)/2),g=(a,b)=>c&&0===a?0:a+b;return{min:g(d,-Math.abs(f)),max:g(e,f)}}function aE(a,b){return Object.assign(Object.create(a),b)}function aF(a,b=[""],c,d,e=()=>a[0]){let f=c||a;void 0===d&&(d=aK("_fallback",a));let g={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:a,_rootScopes:f,_fallback:d,_getTarget:e,override:c=>aF([c,...a],b,f,d)};return new Proxy(g,{deleteProperty:(b,c)=>(delete b[c],delete b._keys,delete a[0][c],!0),get:(c,d)=>aH(c,d,()=>(function(a,b,c,d){let e;for(let f of b)if(e=aK(bP(f,a),c),void 0!==e)return bQ(a,e)?aI(c,d,a,e):e})(d,b,a,c)),getOwnPropertyDescriptor:(a,b)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],b),getPrototypeOf:()=>Reflect.getPrototypeOf(a[0]),has:(a,b)=>aL(a).includes(b),ownKeys:a=>aL(a),set(a,b,c){let d=a._storage||(a._storage=e());return a[b]=d[b]=c,delete a._keys,!0}})}function aG(a,b={scriptable:!0,indexable:!0}){let{_scriptable:c=b.scriptable,_indexable:d=b.indexable,_allKeys:e=b.allKeys}=a;return{allKeys:e,scriptable:c,indexable:d,isScriptable:bi(c)?c:()=>c,isIndexable:bi(d)?d:()=>d}}let bP=(a,b)=>a?a+z(b):b,bQ=(a,b)=>j(b)&&"adapters"!==a&&(null===Object.getPrototypeOf(b)||b.constructor===Object);function aH(a,b,c){if(Object.prototype.hasOwnProperty.call(a,b)||"constructor"===b)return a[b];let d=c();return a[b]=d,d}let bR=(a,b)=>!0===a?b:"string"==typeof a?y(b,a):void 0;function aI(a,b,c,d){var e;let f=b._rootScopes,g=(e=b._fallback,bi(e)?e(c,d):e),h=[...a,...f],k=new Set;k.add(d);let l=aJ(k,h,c,g||c,d);return null!==l&&(void 0===g||g===c||(l=aJ(k,h,g,l,d),null!==l))&&aF(Array.from(k),[""],f,g,()=>(function(a,b,c){let d=a._getTarget();b in d||(d[b]={});let e=d[b];return i(e)&&j(c)?c:e||{}})(b,c,d))}function aJ(a,b,c,d,e){for(;c;)c=function(a,b,c,d,e){for(let g of b){let b=bR(c,g);if(b){var f;a.add(b);let g=(f=b._fallback,bi(f)?f(c,e):f);if(void 0!==g&&g!==c&&g!==d)return g}else if(!1===b&&void 0!==d&&c!==d)return null}return!1}(a,b,c,d,e);return c}function aK(a,b){for(let c of b){if(!c)continue;let b=c[a];if(void 0!==b)return b}}function aL(a){let b=a._keys;return b||(b=a._keys=function(a){let b=new Set;for(let c of a)for(let a of Object.keys(c).filter(a=>!a.startsWith("_")))b.add(a);return Array.from(b)}(a._scopes)),b}function aM(a,b,c,d){let e,f,g,{iScale:h}=a,{key:i="r"}=this._parsing,j=Array(d);for(e=0;e<d;++e)g=b[f=e+c],j[e]={r:h.parse(y(g,i),f)};return j}let bS=Number.EPSILON||1e-14,bT=(a,b)=>b<a.length&&!a[b].skip&&a[b],bU=a=>"x"===a?"y":"x";function aN(a,b,c,d){let e=a.skip?b:a,f=c.skip?b:c,g=L(b,e),h=L(f,b),i=g/(g+h),j=h/(g+h);i=isNaN(i)?0:i,j=isNaN(j)?0:j;let k=d*i,l=d*j;return{previous:{x:b.x-k*(f.x-e.x),y:b.y-k*(f.y-e.y)},next:{x:b.x+l*(f.x-e.x),y:b.y+l*(f.y-e.y)}}}function aO(a,b="x"){let c,d,e,f=bU(b),g=a.length,h=Array(g).fill(0),i=Array(g),j=bT(a,0);for(c=0;c<g;++c)if(d=e,e=j,j=bT(a,c+1),e){if(j){let a=j[b]-e[b];h[c]=0!==a?(j[f]-e[f])/a:0}i[c]=d?j?bt(h[c-1])!==bt(h[c])?0:(h[c-1]+h[c])/2:h[c-1]:h[c]}!function(a,b,c){let d,e,f,g,h,i=a.length,j=bT(a,0);for(let k=0;k<i-1;++k)if(h=j,j=bT(a,k+1),h&&j){if(B(b[k],0,bS)){c[k]=c[k+1]=0;continue}d=c[k]/b[k],e=c[k+1]/b[k],(g=Math.pow(d,2)+Math.pow(e,2))<=9||(f=3/Math.sqrt(g),c[k]=d*f*b[k],c[k+1]=e*f*b[k])}}(a,h,i),function(a,b,c="x"){let d,e,f,g=bU(c),h=a.length,i=bT(a,0);for(let j=0;j<h;++j){if(e=f,f=i,i=bT(a,j+1),!f)continue;let h=f[c],k=f[g];e&&(d=(h-e[c])/3,f[`cp1${c}`]=h-d,f[`cp1${g}`]=k-d*b[j]),i&&(d=(i[c]-h)/3,f[`cp2${c}`]=h+d,f[`cp2${g}`]=k+d*b[j])}}(a,i,b)}function aP(a,b,c){return Math.max(Math.min(a,c),b)}function aQ(a,b,c,d,e){let f,g,h,i;if(b.spanGaps&&(a=a.filter(a=>!a.skip)),"monotone"===b.cubicInterpolationMode)aO(a,e);else{let c=d?a[a.length-1]:a[0];for(f=0,g=a.length;f<g;++f)h=a[f],i=aN(c,h,a[Math.min(f+1,g-!d)%g],b.tension),h.cp1x=i.previous.x,h.cp1y=i.previous.y,h.cp2x=i.next.x,h.cp2y=i.next.y,c=h}b.capBezierPoints&&function(a,b){let c,d,e,f,g,h=ap(a[0],b);for(c=0,d=a.length;c<d;++c)g=f,f=h,h=c<d-1&&ap(a[c+1],b),f&&(e=a[c],g&&(e.cp1x=aP(e.cp1x,b.left,b.right),e.cp1y=aP(e.cp1y,b.top,b.bottom)),h&&(e.cp2x=aP(e.cp2x,b.left,b.right),e.cp2y=aP(e.cp2y,b.top,b.bottom)))}(a,c)}function aR(){return!1}function aS(a){let b=a.parentNode;return b&&"[object ShadowRoot]"===b.toString()&&(b=b.host),b}function aT(a,b,c){let d;return"string"==typeof a?(d=parseInt(a,10),-1!==a.indexOf("%")&&(d=d/100*b.parentNode[c])):d=a,d}let bV=a=>a.ownerDocument.defaultView.getComputedStyle(a,null);function aU(a,b){return bV(a).getPropertyValue(b)}let bW=["top","right","bottom","left"];function aV(a,b,c){let d={};c=c?"-"+c:"";for(let e=0;e<4;e++){let f=bW[e];d[f]=parseFloat(a[b+"-"+f+c])||0}return d.width=d.left+d.right,d.height=d.top+d.bottom,d}function aW(a,b){if("native"in a)return a;let{canvas:c,currentDevicePixelRatio:d}=b,e=bV(c),f="border-box"===e.boxSizing,g=aV(e,"padding"),h=aV(e,"border","width"),{x:i,y:j,box:k}=function(a,b){let c,d,e,f=a.touches,g=f&&f.length?f[0]:a,{offsetX:h,offsetY:i}=g,j=!1;if(e=a.target,(h>0||i>0)&&(!e||!e.shadowRoot))c=h,d=i;else{let a=b.getBoundingClientRect();c=g.clientX-a.left,d=g.clientY-a.top,j=!0}return{x:c,y:d,box:j}}(a,c),l=g.left+(k&&h.left),m=g.top+(k&&h.top),{width:n,height:o}=b;return f&&(n-=g.width+h.width,o-=g.height+h.height),{x:Math.round((i-l)/n*c.width/d),y:Math.round((j-m)/o*c.height/d)}}let bX=a=>Math.round(10*a)/10;function aX(a,b,c,d){let e=bV(a),f=aV(e,"margin"),g=aT(e.maxWidth,a,"clientWidth")||bn,h=aT(e.maxHeight,a,"clientHeight")||bn,i=function(a,b,c){let d,e;if(void 0===b||void 0===c){let f=a&&aS(a);if(f){let a=f.getBoundingClientRect(),g=bV(f),h=aV(g,"border","width"),i=aV(g,"padding");b=a.width-i.width-h.width,c=a.height-i.height-h.height,d=aT(g.maxWidth,f,"clientWidth"),e=aT(g.maxHeight,f,"clientHeight")}else b=a.clientWidth,c=a.clientHeight}return{width:b,height:c,maxWidth:d||bn,maxHeight:e||bn}}(a,b,c),{width:j,height:k}=i;if("content-box"===e.boxSizing){let a=aV(e,"border","width"),b=aV(e,"padding");j-=b.width+a.width,k-=b.height+a.height}return j=Math.max(0,j-f.width),k=Math.max(0,d?j/d:k-f.height),j=bX(Math.min(j,g,i.maxWidth)),k=bX(Math.min(k,h,i.maxHeight)),j&&!k&&(k=bX(j/2)),(void 0!==b||void 0!==c)&&d&&i.height&&k>i.height&&(k=i.height,j=bX(Math.floor(k*d))),{width:j,height:k}}function aY(a,b,c){let d=b||1,e=Math.floor(a.height*d),f=Math.floor(a.width*d);a.height=Math.floor(a.height),a.width=Math.floor(a.width);let g=a.canvas;return g.style&&(c||!g.style.height&&!g.style.width)&&(g.style.height=`${a.height}px`,g.style.width=`${a.width}px`),(a.currentDevicePixelRatio!==d||g.height!==e||g.width!==f)&&(a.currentDevicePixelRatio=d,g.height=e,g.width=f,a.ctx.setTransform(d,0,0,d,0,0),!0)}let bY=function(){let a=!1;return a}();function aZ(a,b){let c=aU(a,b),d=c&&c.match(/^(\d+)(\.\d+)?px$/);return d?+d[1]:void 0}function a$(a,b,c,d){return{x:a.x+c*(b.x-a.x),y:a.y+c*(b.y-a.y)}}function a_(a,b,c,d){return{x:a.x+c*(b.x-a.x),y:"middle"===d?c<.5?a.y:b.y:"after"===d?c<1?a.y:b.y:c>0?b.y:a.y}}function a0(a,b,c,d){let e={x:a.cp2x,y:a.cp2y},f={x:b.cp1x,y:b.cp1y},g=a$(a,e,c),h=a$(e,f,c),i=a$(f,b,c),j=a$(g,h,c),k=a$(h,i,c);return a$(j,k,c)}function a1(a,b,c){var d;return a?(d=c,{x:a=>b+b+d-a,setWidth(a){d=a},textAlign:a=>"center"===a?a:"right"===a?"left":"right",xPlus:(a,b)=>a-b,leftForLtr:(a,b)=>a-b}):{x:a=>a,setWidth(a){},textAlign:a=>a,xPlus:(a,b)=>a+b,leftForLtr:(a,b)=>a}}function a2(a,b){let c,d;("ltr"===b||"rtl"===b)&&(d=[(c=a.canvas.style).getPropertyValue("direction"),c.getPropertyPriority("direction")],c.setProperty("direction",b,"important"),a.prevTextDirection=d)}function a3(a,b){void 0!==b&&(delete a.prevTextDirection,a.canvas.style.setProperty("direction",b[0],b[1]))}function a4(a){return"angle"===a?{between:O,compare:M,normalize:N}:{between:R,compare:(a,b)=>a-b,normalize:a=>a}}function a5({start:a,end:b,count:c,loop:d,style:e}){return{start:a%c,end:b%c,loop:d&&(b-a+1)%c==0,style:e}}function a6(a,b,c){let d,e,f;if(!c)return[a];let{property:g,start:h,end:i}=c,j=b.length,{compare:k,between:l,normalize:m}=a4(g),{start:n,end:o,loop:p,style:q}=function(a,b,c){let d,{property:e,start:f,end:g}=c,{between:h,normalize:i}=a4(e),j=b.length,{start:k,end:l,loop:m}=a;if(m){for(k+=j,l+=j,d=0;d<j&&h(i(b[k%j][e]),f,g);++d)k--,l--;k%=j,l%=j}return l<k&&(l+=j),{start:k,end:l,loop:m,style:a.style}}(a,b,c),r=[],s=!1,t=null,u=()=>s||l(h,f,d)&&0!==k(h,f),v=()=>!s||0===k(i,d)||l(i,f,d);for(let a=n,c=n;a<=o;++a)(e=b[a%j]).skip||(d=m(e[g]))!==f&&(s=l(d,h,i),null===t&&u()&&(t=0===k(d,h)?a:c),null!==t&&v()&&(r.push(a5({start:t,end:a,loop:p,count:j,style:q})),t=null),c=a,f=d);return null!==t&&r.push(a5({start:t,end:o,loop:p,count:j,style:q})),r}function a7(a,b){let c=[],d=a.segments;for(let e=0;e<d.length;e++){let f=a6(d[e],a.points,b);f.length&&c.push(...f)}return c}function a8(a,b){let c=a.points,d=a.options.spanGaps,e=c.length;if(!e)return[];let f=!!a._loop,{start:g,end:h}=function(a,b,c,d){let e=0,f=b-1;if(c&&!d)for(;e<b&&!a[e].skip;)e++;for(;e<b&&a[e].skip;)e++;for(e%=b,c&&(f+=e);f>e&&a[f%b].skip;)f--;return f%=b,{start:e,end:f}}(c,e,f,d);if(!0===d)return a9(a,[{start:g,end:h,loop:f}],c,b);let i=h<g?h+e:h,j=!!a._fullLoop&&0===g&&h===e-1;return a9(a,function(a,b,c,d){let e,f=a.length,g=[],h=b,i=a[b];for(e=b+1;e<=c;++e){let c=a[e%f];c.skip||c.stop?i.skip||(d=!1,g.push({start:b%f,end:(e-1)%f,loop:d}),b=h=c.stop?e:null):(h=e,i.skip&&(b=e)),i=c}return null!==h&&g.push({start:b%f,end:h%f,loop:d}),g}(c,g,i,j),c,b)}function a9(a,b,c,d){return d&&d.setContext&&c?function(a,b,c,d){let e=a._chart.getContext(),f=ba(a.options),{_datasetIndex:g,options:{spanGaps:h}}=a,i=c.length,j=[],k=f,l=b[0].start,m=l;function n(a,b,d,e){let f=h?-1:1;if(a!==b){for(a+=i;c[a%i].skip;)a-=f;for(;c[b%i].skip;)b+=f;a%i!=b%i&&(j.push({start:a%i,end:b%i,loop:d,style:e}),k=e,l=b%i)}}for(let a of b){let b,f=c[(l=h?l:a.start)%i];for(m=l+1;m<=a.end;m++){let h=c[m%i];b=ba(d.setContext(aE(e,{type:"segment",p0:f,p1:h,p0DataIndex:(m-1)%i,p1DataIndex:m%i,datasetIndex:g}))),function(a,b){if(!b)return!1;let c=[],d=function(a,b){return aa(b)?(c.includes(b)||c.push(b),c.indexOf(b)):b};return JSON.stringify(a,d)!==JSON.stringify(b,d)}(b,k)&&n(l,m-1,a.loop,k),f=h,k=b}l<m-1&&n(l,m-1,a.loop,k)}return j}(a,b,c,d):b}function ba(a){return{backgroundColor:a.backgroundColor,borderCapStyle:a.borderCapStyle,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderJoinStyle:a.borderJoinStyle,borderWidth:a.borderWidth,borderColor:a.borderColor}}function bb(a,b,c){return a.options.clip?a[c]:b[c]}function bc(a,b){let c=b._clip;if(c.disabled)return!1;let d=function(a,b){let{xScale:c,yScale:d}=a;return c&&d?{left:bb(c,b,"left"),right:bb(c,b,"right"),top:bb(d,b,"top"),bottom:bb(d,b,"bottom")}:b}(b,a.chartArea);return{left:!1===c.left?0:d.left-(!0===c.left?0:c.left),right:!1===c.right?a.width:d.right+(!0===c.right?0:c.right),top:!1===c.top?0:d.top-(!0===c.top?0:c.top),bottom:!1===c.bottom?a.height:d.bottom+(!0===c.bottom?0:c.bottom)}}d()}catch(a){d(a)}})},8666:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{Animation:()=>bl,Animations:()=>bm,ArcElement:()=>bZ,BarController:()=>bq,BarElement:()=>b1,BasePlatform:()=>bA,BasicPlatform:()=>bB,BubbleController:()=>br,CategoryScale:()=>cc,Chart:()=>bY,Colors:()=>aD,DatasetController:()=>bp,Decimation:()=>aG,DomPlatform:()=>bI,DoughnutController:()=>bs,Element:()=>bJ,Filler:()=>aR,Interaction:()=>C,Legend:()=>aT,LineController:()=>bt,LineElement:()=>b_,LinearScale:()=>ce,LogarithmicScale:()=>ch,PieController:()=>bv,PointElement:()=>b0,PolarAreaController:()=>bu,RadarController:()=>bw,RadialLinearScale:()=>ci,Scale:()=>bM,ScatterController:()=>bx,SubTitle:()=>aV,Ticks:()=>e.aM,TimeScale:()=>cl,TimeSeriesScale:()=>cm,Title:()=>aU,Tooltip:()=>a2,_adapters:()=>x,_detectPlatform:()=>T,animator:()=>h,controllers:()=>v,defaults:()=>e.d,elements:()=>az,layouts:()=>L,plugins:()=>a3,registerables:()=>cn,registry:()=>Y,scales:()=>bh});var e=c(872),f=c(3006),g=a([f,e]);[f,e]=g.then?(await g)():g;class bi{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(a,b,c,d){let e=b.listeners[d],f=b.duration;e.forEach(d=>d({chart:a,initial:b.initial,numSteps:f,currentStep:Math.min(c-b.start,f)}))}_refresh(){this._request||(this._running=!0,this._request=e.r.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(a=Date.now()){let b=0;this._charts.forEach((c,d)=>{let e;if(!c.running||!c.items.length)return;let f=c.items,g=f.length-1,h=!1;for(;g>=0;--g)(e=f[g])._active?(e._total>c.duration&&(c.duration=e._total),e.tick(a),h=!0):(f[g]=f[f.length-1],f.pop());h&&(d.draw(),this._notify(d,c,a,"progress")),f.length||(c.running=!1,this._notify(d,c,a,"complete"),c.initial=!1),b+=f.length}),this._lastDate=a,0===b&&(this._running=!1)}_getAnims(a){let b=this._charts,c=b.get(a);return c||(c={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},b.set(a,c)),c}listen(a,b,c){this._getAnims(a).listeners[b].push(c)}add(a,b){b&&b.length&&this._getAnims(a).items.push(...b)}has(a){return this._getAnims(a).items.length>0}start(a){let b=this._charts.get(a);b&&(b.running=!0,b.start=Date.now(),b.duration=b.items.reduce((a,b)=>Math.max(a,b._duration),0),this._refresh())}running(a){if(!this._running)return!1;let b=this._charts.get(a);return!!b&&!!b.running&&!!b.items.length}stop(a){let b=this._charts.get(a);if(!b||!b.items.length)return;let c=b.items,d=c.length-1;for(;d>=0;--d)c[d].cancel();b.items=[],this._notify(a,b,Date.now(),"complete")}remove(a){return this._charts.delete(a)}}var h=new bi;let bj="transparent",bk={boolean:(a,b,c)=>c>.5?b:a,color(a,b,c){let d=(0,e.c)(a||bj),f=d.valid&&(0,e.c)(b||bj);return f&&f.valid?f.mix(d,c).hexString():b},number:(a,b,c)=>a+(b-a)*c};class bl{constructor(a,b,c,d){let f=b[c];d=(0,e.a)([a.to,d,f,a.from]);let g=(0,e.a)([a.from,f,d]);this._active=!0,this._fn=a.fn||bk[a.type||typeof g],this._easing=e.e[a.easing]||e.e.linear,this._start=Math.floor(Date.now()+(a.delay||0)),this._duration=this._total=Math.floor(a.duration),this._loop=!!a.loop,this._target=b,this._prop=c,this._from=g,this._to=d,this._promises=void 0}active(){return this._active}update(a,b,c){if(this._active){this._notify(!1);let d=this._target[this._prop],f=c-this._start,g=this._duration-f;this._start=c,this._duration=Math.floor(Math.max(g,a.duration)),this._total+=f,this._loop=!!a.loop,this._to=(0,e.a)([a.to,b,d,a.from]),this._from=(0,e.a)([a.from,d,b])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(a){let b,c=a-this._start,d=this._duration,e=this._prop,f=this._from,g=this._loop,h=this._to;if(this._active=f!==h&&(g||c<d),!this._active){this._target[e]=h,this._notify(!0);return}if(c<0){this._target[e]=f;return}b=c/d%2,b=g&&b>1?2-b:b,b=this._easing(Math.min(1,Math.max(0,b))),this._target[e]=this._fn(f,h,b)}wait(){let a=this._promises||(this._promises=[]);return new Promise((b,c)=>{a.push({res:b,rej:c})})}_notify(a){let b=a?"res":"rej",c=this._promises||[];for(let a=0;a<c.length;a++)c[a][b]()}}class bm{constructor(a,b){this._chart=a,this._properties=new Map,this.configure(b)}configure(a){if(!(0,e.i)(a))return;let b=Object.keys(e.d.animation),c=this._properties;Object.getOwnPropertyNames(a).forEach(d=>{let f=a[d];if(!(0,e.i)(f))return;let g={};for(let a of b)g[a]=f[a];((0,e.b)(f.properties)&&f.properties||[d]).forEach(a=>{a!==d&&c.has(a)||c.set(a,g)})})}_animateOptions(a,b){let c=b.options,d=function(a,b){if(!b)return;let c=a.options;if(!c){a.options=b;return}return c.$shared&&(a.options=c=Object.assign({},c,{$shared:!1,$animations:{}})),c}(a,c);if(!d)return[];let e=this._createAnimations(d,c);return c.$shared&&(function(a,b){let c=[],d=Object.keys(b);for(let b=0;b<d.length;b++){let e=a[d[b]];e&&e.active()&&c.push(e.wait())}return Promise.all(c)})(a.options.$animations,c).then(()=>{a.options=c},()=>{}),e}_createAnimations(a,b){let c,d=this._properties,e=[],f=a.$animations||(a.$animations={}),g=Object.keys(b),h=Date.now();for(c=g.length-1;c>=0;--c){let i=g[c];if("$"===i.charAt(0))continue;if("options"===i){e.push(...this._animateOptions(a,b));continue}let j=b[i],k=f[i],l=d.get(i);if(k)if(l&&k.active()){k.update(l,j,h);continue}else k.cancel();if(!l||!l.duration){a[i]=j;continue}f[i]=k=new bl(l,a,i,j),e.push(k)}return e}update(a,b){if(0===this._properties.size)return void Object.assign(a,b);let c=this._createAnimations(a,b);if(c.length)return h.add(this._chart,c),!0}}function i(a,b){let c=a&&a.options||{},d=c.reverse,e=void 0===c.min?b:0,f=void 0===c.max?b:0;return{start:d?f:e,end:d?e:f}}function j(a,b){let c,d,e=[],f=a._getSortedDatasetMetas(b);for(c=0,d=f.length;c<d;++c)e.push(f[c].index);return e}function k(a,b,c,d={}){let f,g,h,i,j=a.keys,l="single"===d.mode;if(null===b)return;let m=!1;for(f=0,g=j.length;f<g;++f){if((h=+j[f])===c){if(m=!0,d.all)continue;break}i=a.values[h],(0,e.g)(i)&&(l||0===b||(0,e.s)(b)===(0,e.s)(i))&&(b+=i)}return m||d.all?b:0}function l(a,b){let c=a&&a.options.stacked;return c||void 0===c&&void 0!==b.stack}function m(a,b,c,d){for(let e of b.getMatchingVisibleMetas(d).reverse()){let b=a[e.index];if(c&&b>0||!c&&b<0)return e.index}return null}function n(a,b){let c,{chart:d,_cachedMeta:e}=a,f=d._stacks||(d._stacks={}),{iScale:g,vScale:h,index:i}=e,j=g.axis,k=h.axis,l=`${g.id}.${h.id}.${e.stack||e.type}`,n=b.length;for(let a=0;a<n;++a){let d=b[a],{[j]:g,[k]:n}=d;(c=(d._stacks||(d._stacks={}))[k]=function(a,b,c){let d=a[b]||(a[b]={});return d[c]||(d[c]={})}(f,l,g))[i]=n,c._top=m(c,h,!0,e.type),c._bottom=m(c,h,!1,e.type),(c._visualValues||(c._visualValues={}))[i]=n}}function o(a,b){let c=a.scales;return Object.keys(c).filter(a=>c[a].axis===b).shift()}function p(a,b){let c=a.controller.index,d=a.vScale&&a.vScale.axis;if(d)for(let e of b=b||a._parsed){let a=e._stacks;if(!a||void 0===a[d]||void 0===a[d][c])return;delete a[d][c],void 0!==a[d]._visualValues&&void 0!==a[d]._visualValues[c]&&delete a[d]._visualValues[c]}}let bn=a=>"reset"===a||"none"===a,bo=(a,b)=>b?a:Object.assign({},a);class bp{static{this.defaults={}}static{this.datasetElementType=null}static{this.dataElementType=null}constructor(a,b){this.chart=a,this._ctx=a.ctx,this.index=b,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let a=this._cachedMeta;this.configure(),this.linkScales(),a._stacked=l(a.vScale,a),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(a){this.index!==a&&p(this._cachedMeta),this.index=a}linkScales(){let a=this.chart,b=this._cachedMeta,c=this.getDataset(),d=(a,b,c,d)=>"x"===a?b:"r"===a?d:c,f=b.xAxisID=(0,e.v)(c.xAxisID,o(a,"x")),g=b.yAxisID=(0,e.v)(c.yAxisID,o(a,"y")),h=b.rAxisID=(0,e.v)(c.rAxisID,o(a,"r")),i=b.indexAxis,j=b.iAxisID=d(i,f,g,h),k=b.vAxisID=d(i,g,f,h);b.xScale=this.getScaleForId(f),b.yScale=this.getScaleForId(g),b.rScale=this.getScaleForId(h),b.iScale=this.getScaleForId(j),b.vScale=this.getScaleForId(k)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(a){return this.chart.scales[a]}_getOtherScale(a){let b=this._cachedMeta;return a===b.iScale?b.vScale:b.iScale}reset(){this._update("reset")}_destroy(){let a=this._cachedMeta;this._data&&(0,e.u)(this._data,this),a._stacked&&p(a)}_dataCheck(){let a=this.getDataset(),b=a.data||(a.data=[]),c=this._data;if((0,e.i)(b)){let a=this._cachedMeta;this._data=function(a,b){let c,d,e,{iScale:f,vScale:g}=b,h="x"===f.axis?"x":"y",i="x"===g.axis?"x":"y",j=Object.keys(a),k=Array(j.length);for(c=0,d=j.length;c<d;++c)e=j[c],k[c]={[h]:e,[i]:a[e]};return k}(b,a)}else if(c!==b){if(c){(0,e.u)(c,this);let a=this._cachedMeta;p(a),a._parsed=[]}b&&Object.isExtensible(b)&&(0,e.l)(b,this),this._syncList=[],this._data=b}}addElements(){let a=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(a.dataset=new this.datasetElementType)}buildOrUpdateElements(a){let b=this._cachedMeta,c=this.getDataset(),d=!1;this._dataCheck();let e=b._stacked;b._stacked=l(b.vScale,b),b.stack!==c.stack&&(d=!0,p(b),b.stack=c.stack),this._resyncElements(a),(d||e!==b._stacked)&&(n(this,b._parsed),b._stacked=l(b.vScale,b))}configure(){let a=this.chart.config,b=a.datasetScopeKeys(this._type),c=a.getOptionScopes(this.getDataset(),b,!0);this.options=a.createResolver(c,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(a,b){let c,d,f,{_cachedMeta:g,_data:h}=this,{iScale:i,_stacked:j}=g,k=i.axis,l=0===a&&b===h.length||g._sorted,m=a>0&&g._parsed[a-1];if(!1===this._parsing)g._parsed=h,g._sorted=!0,f=h;else{f=(0,e.b)(h[a])?this.parseArrayData(g,h,a,b):(0,e.i)(h[a])?this.parseObjectData(g,h,a,b):this.parsePrimitiveData(g,h,a,b);let i=()=>null===d[k]||m&&d[k]<m[k];for(c=0;c<b;++c)g._parsed[c+a]=d=f[c],l&&(i()&&(l=!1),m=d);g._sorted=l}j&&n(this,f)}parsePrimitiveData(a,b,c,d){let e,f,{iScale:g,vScale:h}=a,i=g.axis,j=h.axis,k=g.getLabels(),l=g===h,m=Array(d);for(e=0;e<d;++e)f=e+c,m[e]={[i]:l||g.parse(k[f],f),[j]:h.parse(b[f],f)};return m}parseArrayData(a,b,c,d){let e,f,g,{xScale:h,yScale:i}=a,j=Array(d);for(e=0;e<d;++e)g=b[f=e+c],j[e]={x:h.parse(g[0],f),y:i.parse(g[1],f)};return j}parseObjectData(a,b,c,d){let f,g,h,{xScale:i,yScale:j}=a,{xAxisKey:k="x",yAxisKey:l="y"}=this._parsing,m=Array(d);for(f=0;f<d;++f)h=b[g=f+c],m[f]={x:i.parse((0,e.f)(h,k),g),y:j.parse((0,e.f)(h,l),g)};return m}getParsed(a){return this._cachedMeta._parsed[a]}getDataElement(a){return this._cachedMeta.data[a]}applyStack(a,b,c){let d=this.chart,e=this._cachedMeta,f=b[a.axis],g={keys:j(d,!0),values:b._stacks[a.axis]._visualValues};return k(g,f,e.index,{mode:c})}updateRangeFromParsed(a,b,c,d){let e=c[b.axis],f=null===e?NaN:e,g=d&&c._stacks[b.axis];d&&g&&(d.values=g,f=k(d,e,this._cachedMeta.index)),a.min=Math.min(a.min,f),a.max=Math.max(a.max,f)}getMinMax(a,b){let c,d,f,g=this._cachedMeta,h=g._parsed,i=g._sorted&&a===g.iScale,k=h.length,l=this._getOtherScale(a),m=(f=this.chart,b&&!g.hidden&&g._stacked&&{keys:j(f,!0),values:null}),n={min:1/0,max:-1/0},{min:o,max:p}=function(a){let{min:b,max:c,minDefined:d,maxDefined:e}=a.getUserBounds();return{min:d?b:-1/0,max:e?c:1/0}}(l);function q(){let b=(d=h[c])[l.axis];return!(0,e.g)(d[a.axis])||o>b||p<b}for(c=0;c<k&&(q()||(this.updateRangeFromParsed(n,a,d,m),!i));++c);if(i){for(c=k-1;c>=0;--c)if(!q()){this.updateRangeFromParsed(n,a,d,m);break}}return n}getAllParsedValues(a){let b,c,d,f=this._cachedMeta._parsed,g=[];for(b=0,c=f.length;b<c;++b)d=f[b][a.axis],(0,e.g)(d)&&g.push(d);return g}getMaxOverflow(){return!1}getLabelAndValue(a){let b=this._cachedMeta,c=b.iScale,d=b.vScale,e=this.getParsed(a);return{label:c?""+c.getLabelForValue(e[c.axis]):"",value:d?""+d.getLabelForValue(e[d.axis]):""}}_update(a){var b;let c,d,f,g,h=this._cachedMeta;this.update(a||"default"),b=(0,e.v)(this.options.clip,function(a,b,c){if(!1===c)return!1;let d=i(a,c),e=i(b,c);return{top:e.end,right:d.end,bottom:e.start,left:d.start}}(h.xScale,h.yScale,this.getMaxOverflow())),(0,e.i)(b)?(c=b.top,d=b.right,f=b.bottom,g=b.left):c=d=f=g=b,h._clip={top:c,right:d,bottom:f,left:g,disabled:!1===b}}update(a){}draw(){let a,b=this._ctx,c=this.chart,d=this._cachedMeta,e=d.data||[],f=c.chartArea,g=[],h=this._drawStart||0,i=this._drawCount||e.length-h,j=this.options.drawActiveElementsOnTop;for(d.dataset&&d.dataset.draw(b,f,h,i),a=h;a<h+i;++a){let c=e[a];c.hidden||(c.active&&j?g.push(c):c.draw(b,f))}for(a=0;a<g.length;++a)g[a].draw(b,f)}getStyle(a,b){let c=b?"active":"default";return void 0===a&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(c):this.resolveDataElementOptions(a||0,c)}getContext(a,b,c){var d,f,g;let h,i=this.getDataset();if(a>=0&&a<this._cachedMeta.data.length){let b=this._cachedMeta.data[a];(h=b.$context||(d=this.getContext(),b.$context=(0,e.j)(d,{active:!1,dataIndex:a,parsed:void 0,raw:void 0,element:b,index:a,mode:"default",type:"data"}))).parsed=this.getParsed(a),h.raw=i.data[a],h.index=h.dataIndex=a}else(h=this.$context||(this.$context=(f=this.chart.getContext(),g=this.index,(0,e.j)(f,{active:!1,dataset:void 0,datasetIndex:g,index:g,mode:"default",type:"dataset"})))).dataset=i,h.index=h.datasetIndex=this.index;return h.active=!!b,h.mode=c,h}resolveDatasetElementOptions(a){return this._resolveElementOptions(this.datasetElementType.id,a)}resolveDataElementOptions(a,b){return this._resolveElementOptions(this.dataElementType.id,b,a)}_resolveElementOptions(a,b="default",c){let d="active"===b,f=this._cachedDataOpts,g=a+"-"+b,h=f[g],i=this.enableOptionSharing&&(0,e.h)(c);if(h)return bo(h,i);let j=this.chart.config,k=j.datasetElementScopeKeys(this._type,a),l=d?[`${a}Hover`,"hover",a,""]:[a,""],m=j.getOptionScopes(this.getDataset(),k),n=Object.keys(e.d.elements[a]),o=()=>this.getContext(c,d,b),p=j.resolveNamedOptions(m,n,o,l);return p.$shared&&(p.$shared=i,f[g]=Object.freeze(bo(p,i))),p}_resolveAnimations(a,b,c){let d,e=this.chart,f=this._cachedDataOpts,g=`animation-${b}`,h=f[g];if(h)return h;if(!1!==e.options.animation){let e=this.chart.config,f=e.datasetAnimationScopeKeys(this._type,b),g=e.getOptionScopes(this.getDataset(),f);d=e.createResolver(g,this.getContext(a,c,b))}let i=new bm(e,d&&d.animations);return d&&d._cacheable&&(f[g]=Object.freeze(i)),i}getSharedOptions(a){if(a.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},a))}includeOptions(a,b){return!b||bn(a)||this.chart._animationsDisabled}_getSharedOptions(a,b){let c=this.resolveDataElementOptions(a,b),d=this._sharedOptions,e=this.getSharedOptions(c),f=this.includeOptions(b,e)||e!==d;return this.updateSharedOptions(e,b,c),{sharedOptions:e,includeOptions:f}}updateElement(a,b,c,d){bn(d)?Object.assign(a,c):this._resolveAnimations(b,d).update(a,c)}updateSharedOptions(a,b,c){a&&!bn(b)&&this._resolveAnimations(void 0,b).update(a,c)}_setStyle(a,b,c,d){a.active=d;let e=this.getStyle(b,d);this._resolveAnimations(b,c,d).update(a,{options:!d&&this.getSharedOptions(e)||e})}removeHoverStyle(a,b,c){this._setStyle(a,c,"active",!1)}setHoverStyle(a,b,c){this._setStyle(a,c,"active",!0)}_removeDatasetHoverStyle(){let a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!1)}_setDatasetHoverStyle(){let a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!0)}_resyncElements(a){let b=this._data,c=this._cachedMeta.data;for(let[a,b,c]of this._syncList)this[a](b,c);this._syncList=[];let d=c.length,e=b.length,f=Math.min(e,d);f&&this.parse(0,f),e>d?this._insertElements(d,e-d,a):e<d&&this._removeElements(e,d-e)}_insertElements(a,b,c=!0){let d,e=this._cachedMeta,f=e.data,g=a+b,h=a=>{for(a.length+=b,d=a.length-1;d>=g;d--)a[d]=a[d-b]};for(h(f),d=a;d<g;++d)f[d]=new this.dataElementType;this._parsing&&h(e._parsed),this.parse(a,b),c&&this.updateElements(f,a,b,"reset")}updateElements(a,b,c,d){}_removeElements(a,b){let c=this._cachedMeta;if(this._parsing){let d=c._parsed.splice(a,b);c._stacked&&p(c,d)}c.data.splice(a,b)}_sync(a){if(this._parsing)this._syncList.push(a);else{let[b,c,d]=a;this[b](c,d)}this.chart._dataChanges.push([this.index,...a])}_onDataPush(){let a=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-a,a])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(a,b){b&&this._sync(["_removeElements",a,b]);let c=arguments.length-2;c&&this._sync(["_insertElements",a,c])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function q(a,b,c,d){return(0,e.b)(a)?!function(a,b,c,d){let e=c.parse(a[0],d),f=c.parse(a[1],d),g=Math.min(e,f),h=Math.max(e,f),i=g,j=h;Math.abs(g)>Math.abs(h)&&(i=h,j=g),b[c.axis]=j,b._custom={barStart:i,barEnd:j,start:e,end:f,min:g,max:h}}(a,b,c,d):b[c.axis]=c.parse(a,d),b}function r(a,b,c,d){let e,f,g,h,i=a.iScale,j=a.vScale,k=i.getLabels(),l=i===j,m=[];for(e=c,f=c+d;e<f;++e)h=b[e],(g={})[i.axis]=l||i.parse(k[e],e),m.push(q(h,g,j,e));return m}function s(a){return a&&void 0!==a.barStart&&void 0!==a.barEnd}function t(a,b,c,d){var e,f,g;return d?(e=a,f=b,g=c,a=e===f?g:e===g?f:e,a=u(a,c,b)):a=u(a,b,c),a}function u(a,b,c){return"start"===a?b:"end"===a?c:a}class bq extends bp{static{this.id="bar"}static{this.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}}static{this.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}}parsePrimitiveData(a,b,c,d){return r(a,b,c,d)}parseArrayData(a,b,c,d){return r(a,b,c,d)}parseObjectData(a,b,c,d){let f,g,h,i,{iScale:j,vScale:k}=a,{xAxisKey:l="x",yAxisKey:m="y"}=this._parsing,n="x"===j.axis?l:m,o="x"===k.axis?l:m,p=[];for(f=c,g=c+d;f<g;++f)i=b[f],(h={})[j.axis]=j.parse((0,e.f)(i,n),f),p.push(q((0,e.f)(i,o),h,k,f));return p}updateRangeFromParsed(a,b,c,d){super.updateRangeFromParsed(a,b,c,d);let e=c._custom;e&&b===this._cachedMeta.vScale&&(a.min=Math.min(a.min,e.min),a.max=Math.max(a.max,e.max))}getMaxOverflow(){return 0}getLabelAndValue(a){let{iScale:b,vScale:c}=this._cachedMeta,d=this.getParsed(a),e=d._custom,f=s(e)?"["+e.start+", "+e.end+"]":""+c.getLabelForValue(d[c.axis]);return{label:""+b.getLabelForValue(d[b.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(a){let b=this._cachedMeta;this.updateElements(b.data,0,b.data.length,a)}updateElements(a,b,c,d){let f="reset"===d,{index:g,_cachedMeta:{vScale:h}}=this,i=h.getBasePixel(),j=h.isHorizontal(),k=this._getRuler(),{sharedOptions:l,includeOptions:m}=this._getSharedOptions(b,d);for(let n=b;n<b+c;n++){let b=this.getParsed(n),c=f||(0,e.k)(b[h.axis])?{base:i,head:i}:this._calculateBarValuePixels(n),o=this._calculateBarIndexPixels(n,k),p=(b._stacks||{})[h.axis],q={horizontal:j,base:c.base,enableBorderRadius:!p||s(b._custom)||g===p._top||g===p._bottom,x:j?c.head:o.center,y:j?o.center:c.head,height:j?o.size:Math.abs(c.size),width:j?Math.abs(c.size):o.size};m&&(q.options=l||this.resolveDataElementOptions(n,a[n].active?"active":d));let r=q.options||a[n].options;!function(a,b,c,d){let e,f,g,h,i,j=b.borderSkipped,k={};if(!j){a.borderSkipped=k;return}if(!0===j){a.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:l,end:m,reverse:n,top:o,bottom:p}=(a.horizontal?(e=a.base>a.x,f="left",g="right"):(e=a.base<a.y,f="bottom",g="top"),e?(h="end",i="start"):(h="start",i="end"),{start:f,end:g,reverse:e,top:h,bottom:i});"middle"===j&&c&&(a.enableBorderRadius=!0,(c._top||0)===d?j=o:(c._bottom||0)===d?j=p:(k[t(p,l,m,n)]=!0,j=o)),k[t(j,l,m,n)]=!0,a.borderSkipped=k}(q,r,p,g),function(a,{inflateAmount:b},c){a.inflateAmount="auto"===b?.33*(1===c):b}(q,r,k.ratio),this.updateElement(a[n],n,q,d)}}_getStacks(a,b){let{iScale:c}=this._cachedMeta,d=c.getMatchingVisibleMetas(this._type).filter(a=>a.controller.options.grouped),f=c.options.stacked,g=[],h=this._cachedMeta.controller.getParsed(b),i=h&&h[c.axis],j=a=>{let b=a._parsed.find(a=>a[c.axis]===i),d=b&&b[a.vScale.axis];if((0,e.k)(d)||isNaN(d))return!0};for(let c of d)if(!(void 0!==b&&j(c))&&((!1===f||-1===g.indexOf(c.stack)||void 0===f&&void 0===c.stack)&&g.push(c.stack),c.index===a))break;return g.length||g.push(void 0),g}_getStackCount(a){return this._getStacks(void 0,a).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let a=this.chart.scales,b=this.chart.options.indexAxis;return Object.keys(a).filter(c=>a[c].axis===b).shift()}_getAxis(){let a={},b=this.getFirstScaleIdForIndexAxis();for(let c of this.chart.data.datasets)a[(0,e.v)("x"===this.chart.options.indexAxis?c.xAxisID:c.yAxisID,b)]=!0;return Object.keys(a)}_getStackIndex(a,b,c){let d=this._getStacks(a,c),e=void 0!==b?d.indexOf(b):-1;return -1===e?d.length-1:e}_getRuler(){let a,b,c=this.options,d=this._cachedMeta,f=d.iScale,g=[];for(a=0,b=d.data.length;a<b;++a)g.push(f.getPixelForValue(this.getParsed(a)[f.axis],a));let h=c.barThickness;return{min:h||function(a){let b,c,d,f,g=a.iScale,h=function(a,b){if(!a._cache.$bar){let c=a.getMatchingVisibleMetas(b),d=[];for(let b=0,e=c.length;b<e;b++)d=d.concat(c[b].controller.getAllParsedValues(a));a._cache.$bar=(0,e._)(d.sort((a,b)=>a-b))}return a._cache.$bar}(g,a.type),i=g._length,j=()=>{32767!==d&&-32768!==d&&((0,e.h)(f)&&(i=Math.min(i,Math.abs(d-f)||i)),f=d)};for(b=0,c=h.length;b<c;++b)d=g.getPixelForValue(h[b]),j();for(b=0,f=void 0,c=g.ticks.length;b<c;++b)d=g.getPixelForTick(b),j();return i}(d),pixels:g,start:f._startPixel,end:f._endPixel,stackCount:this._getStackCount(),scale:f,grouped:c.grouped,ratio:h?1:c.categoryPercentage*c.barPercentage}}_calculateBarValuePixels(a){let b,c,{_cachedMeta:{vScale:d,_stacked:f,index:g},options:{base:h,minBarLength:i}}=this,j=h||0,k=this.getParsed(a),l=k._custom,m=s(l),n=k[d.axis],o=0,p=f?this.applyStack(d,k,f):n;p!==n&&(o=p-n,p=n),m&&(n=l.barStart,p=l.barEnd-l.barStart,0!==n&&(0,e.s)(n)!==(0,e.s)(l.barEnd)&&(o=0),o+=n);let q=(0,e.k)(h)||m?o:h,r=d.getPixelForValue(q);if(c=(b=this.chart.getDataVisibility(a)?d.getPixelForValue(o+p):r)-r,Math.abs(c)<i){var t;t=c,c=(0!==t?(0,e.s)(t):(d.isHorizontal()?1:-1)*(d.min>=j?1:-1))*i,n===j&&(r-=c/2);let a=d.getPixelForDecimal(0),h=d.getPixelForDecimal(1),l=Math.min(a,h),o=Math.max(a,h);b=(r=Math.max(Math.min(r,o),l))+c,f&&!m&&(k._stacks[d.axis]._visualValues[g]=d.getValueForPixel(b)-d.getValueForPixel(r))}if(r===d.getPixelForValue(j)){let a=(0,e.s)(c)*d.getLineWidthForValue(j)/2;r+=a,c-=a}return{size:c,base:r,head:b,center:b+c/2}}_calculateBarIndexPixels(a,b){let c,d,f=b.scale,g=this.options,h=g.skipNull,i=(0,e.v)(g.maxBarThickness,1/0),j=this._getAxisCount();if(b.grouped){let f=h?this._getStackCount(a):b.stackCount,k="flex"===g.barThickness?function(a,b,c,d){let e=b.pixels,f=e[a],g=a>0?e[a-1]:null,h=a<e.length-1?e[a+1]:null,i=c.categoryPercentage;null===g&&(g=f-(null===h?b.end-b.start:h-f)),null===h&&(h=f+f-g);let j=f-(f-Math.min(g,h))/2*i;return{chunk:Math.abs(h-g)/2*i/d,ratio:c.barPercentage,start:j}}(a,b,g,f*j):function(a,b,c,d){let f,g,h=c.barThickness;return(0,e.k)(h)?(f=b.min*c.categoryPercentage,g=c.barPercentage):(f=h*d,g=1),{chunk:f/d,ratio:g,start:b.pixels[a]-f/2}}(a,b,g,f*j),l="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf((0,e.v)(l,this.getFirstScaleIdForIndexAxis())),n=this._getStackIndex(this.index,this._cachedMeta.stack,h?a:void 0)+m;c=k.start+k.chunk*n+k.chunk/2,d=Math.min(i,k.chunk*k.ratio)}else c=f.getPixelForValue(this.getParsed(a)[f.axis],a),d=Math.min(i,b.min*b.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){let a=this._cachedMeta,b=a.vScale,c=a.data,d=c.length,e=0;for(;e<d;++e)null===this.getParsed(e)[b.axis]||c[e].hidden||c[e].draw(this._ctx)}}class br extends bp{static{this.id="bubble"}static{this.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}}static{this.overrides={scales:{x:{type:"linear"},y:{type:"linear"}}}}initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(a,b,c,d){let e=super.parsePrimitiveData(a,b,c,d);for(let a=0;a<e.length;a++)e[a]._custom=this.resolveDataElementOptions(a+c).radius;return e}parseArrayData(a,b,c,d){let f=super.parseArrayData(a,b,c,d);for(let a=0;a<f.length;a++){let d=b[c+a];f[a]._custom=(0,e.v)(d[2],this.resolveDataElementOptions(a+c).radius)}return f}parseObjectData(a,b,c,d){let f=super.parseObjectData(a,b,c,d);for(let a=0;a<f.length;a++){let d=b[c+a];f[a]._custom=(0,e.v)(d&&d.r&&+d.r,this.resolveDataElementOptions(a+c).radius)}return f}getMaxOverflow(){let a=this._cachedMeta.data,b=0;for(let c=a.length-1;c>=0;--c)b=Math.max(b,a[c].size(this.resolveDataElementOptions(c))/2);return b>0&&b}getLabelAndValue(a){let b=this._cachedMeta,c=this.chart.data.labels||[],{xScale:d,yScale:e}=b,f=this.getParsed(a),g=d.getLabelForValue(f.x),h=e.getLabelForValue(f.y),i=f._custom;return{label:c[a]||"",value:"("+g+", "+h+(i?", "+i:"")+")"}}update(a){let b=this._cachedMeta.data;this.updateElements(b,0,b.length,a)}updateElements(a,b,c,d){let e="reset"===d,{iScale:f,vScale:g}=this._cachedMeta,{sharedOptions:h,includeOptions:i}=this._getSharedOptions(b,d),j=f.axis,k=g.axis;for(let l=b;l<b+c;l++){let b=a[l],c=!e&&this.getParsed(l),m={},n=m[j]=e?f.getPixelForDecimal(.5):f.getPixelForValue(c[j]),o=m[k]=e?g.getBasePixel():g.getPixelForValue(c[k]);m.skip=isNaN(n)||isNaN(o),i&&(m.options=h||this.resolveDataElementOptions(l,b.active?"active":d),e&&(m.options.radius=0)),this.updateElement(b,l,m,d)}}resolveDataElementOptions(a,b){let c=this.getParsed(a),d=super.resolveDataElementOptions(a,b);d.$shared&&(d=Object.assign({},d,{$shared:!1}));let f=d.radius;return"active"!==b&&(d.radius=0),d.radius+=(0,e.v)(c&&c._custom,f),d}}class bs extends bp{static{this.id="doughnut"}static{this.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}}static{this.descriptors={_scriptable:a=>"spacing"!==a,_indexable:a=>"spacing"!==a&&!a.startsWith("borderDash")&&!a.startsWith("hoverBorderDash")}}static{this.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){let b=a.data;if(b.labels.length&&b.datasets.length){let{labels:{pointStyle:c,color:d}}=a.legend.options;return b.labels.map((b,e)=>{let f=a.getDatasetMeta(0).controller.getStyle(e);return{text:b,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:d,lineWidth:f.borderWidth,pointStyle:c,hidden:!a.getDataVisibility(e),index:e}})}return[]}},onClick(a,b,c){c.chart.toggleDataVisibility(b.index),c.chart.update()}}}}}constructor(a,b){super(a,b),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(a,b){let c=this.getDataset().data,d=this._cachedMeta;if(!1===this._parsing)d._parsed=c;else{let f,g,h=a=>+c[a];if((0,e.i)(c[a])){let{key:a="value"}=this._parsing;h=b=>+(0,e.f)(c[b],a)}for(f=a,g=a+b;f<g;++f)d._parsed[f]=h(f)}}_getRotation(){return(0,e.t)(this.options.rotation-90)}_getCircumference(){return(0,e.t)(this.options.circumference)}_getRotationExtents(){let a=e.T,b=-e.T;for(let c=0;c<this.chart.data.datasets.length;++c)if(this.chart.isDatasetVisible(c)&&this.chart.getDatasetMeta(c).type===this._type){let d=this.chart.getDatasetMeta(c).controller,e=d._getRotation(),f=d._getCircumference();a=Math.min(a,e),b=Math.max(b,e+f)}return{rotation:a,circumference:b-a}}update(a){let{chartArea:b}=this.chart,c=this._cachedMeta,d=c.data,f=this.getMaxBorderWidth()+this.getMaxOffset(d)+this.options.spacing,g=Math.max((Math.min(b.width,b.height)-f)/2,0),h=Math.min((0,e.m)(this.options.cutout,g),1),i=this._getRingWeight(this.index),{circumference:j,rotation:k}=this._getRotationExtents(),{ratioX:l,ratioY:m,offsetX:n,offsetY:o}=function(a,b,c){let d=1,f=1,g=0,h=0;if(b<e.T){let i=a+b,j=Math.cos(a),k=Math.sin(a),l=Math.cos(i),m=Math.sin(i),n=(b,d,f)=>(0,e.p)(b,a,i,!0)?1:Math.max(d,d*c,f,f*c),o=(b,d,f)=>(0,e.p)(b,a,i,!0)?-1:Math.min(d,d*c,f,f*c),p=n(0,j,l),q=n(e.H,k,m),r=o(e.P,j,l),s=o(e.P+e.H,k,m);d=(p-r)/2,f=(q-s)/2,g=-(p+r)/2,h=-(q+s)/2}return{ratioX:d,ratioY:f,offsetX:g,offsetY:h}}(k,j,h),p=(b.width-f)/l,q=(b.height-f)/m,r=Math.max(Math.min(p,q)/2,0),s=(0,e.n)(this.options.radius,r),t=Math.max(s*h,0),u=(s-t)/this._getVisibleDatasetWeightTotal();this.offsetX=n*s,this.offsetY=o*s,c.total=this.calculateTotal(),this.outerRadius=s-u*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-u*i,0),this.updateElements(d,0,d.length,a)}_circumference(a,b){let c=this.options,d=this._cachedMeta,f=this._getCircumference();return b&&c.animation.animateRotate||!this.chart.getDataVisibility(a)||null===d._parsed[a]||d.data[a].hidden?0:this.calculateCircumference(d._parsed[a]*f/e.T)}updateElements(a,b,c,d){let e,f="reset"===d,g=this.chart,h=g.chartArea,i=g.options.animation,j=(h.left+h.right)/2,k=(h.top+h.bottom)/2,l=f&&i.animateScale,m=l?0:this.innerRadius,n=l?0:this.outerRadius,{sharedOptions:o,includeOptions:p}=this._getSharedOptions(b,d),q=this._getRotation();for(e=0;e<b;++e)q+=this._circumference(e,f);for(e=b;e<b+c;++e){let b=this._circumference(e,f),c=a[e],g={x:j+this.offsetX,y:k+this.offsetY,startAngle:q,endAngle:q+b,circumference:b,outerRadius:n,innerRadius:m};p&&(g.options=o||this.resolveDataElementOptions(e,c.active?"active":d)),q+=b,this.updateElement(c,e,g,d)}}calculateTotal(){let a,b=this._cachedMeta,c=b.data,d=0;for(a=0;a<c.length;a++){let e=b._parsed[a];null!==e&&!isNaN(e)&&this.chart.getDataVisibility(a)&&!c[a].hidden&&(d+=Math.abs(e))}return d}calculateCircumference(a){let b=this._cachedMeta.total;return b>0&&!isNaN(a)?e.T*(Math.abs(a)/b):0}getLabelAndValue(a){let b=this._cachedMeta,c=this.chart,d=c.data.labels||[],f=(0,e.o)(b._parsed[a],c.options.locale);return{label:d[a]||"",value:f}}getMaxBorderWidth(a){let b,c,d,e,f,g=0,h=this.chart;if(!a){for(b=0,c=h.data.datasets.length;b<c;++b)if(h.isDatasetVisible(b)){a=(d=h.getDatasetMeta(b)).data,e=d.controller;break}}if(!a)return 0;for(b=0,c=a.length;b<c;++b)f=e.resolveDataElementOptions(b),"inner"!==f.borderAlign&&(g=Math.max(g,f.borderWidth||0,f.hoverBorderWidth||0));return g}getMaxOffset(a){let b=0;for(let c=0,d=a.length;c<d;++c){let a=this.resolveDataElementOptions(c);b=Math.max(b,a.offset||0,a.hoverOffset||0)}return b}_getRingWeightOffset(a){let b=0;for(let c=0;c<a;++c)this.chart.isDatasetVisible(c)&&(b+=this._getRingWeight(c));return b}_getRingWeight(a){return Math.max((0,e.v)(this.chart.data.datasets[a].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class bt extends bp{static{this.id="line"}static{this.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}}static{this.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}}}initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(a){let b=this._cachedMeta,{dataset:c,data:d=[],_dataset:f}=b,g=this.chart._animationsDisabled,{start:h,count:i}=(0,e.q)(b,d,g);this._drawStart=h,this._drawCount=i,(0,e.w)(b)&&(h=0,i=d.length),c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!f._decimated,c.points=d;let j=this.resolveDatasetElementOptions(a);this.options.showLine||(j.borderWidth=0),j.segment=this.options.segment,this.updateElement(c,void 0,{animated:!g,options:j},a),this.updateElements(d,h,i,a)}updateElements(a,b,c,d){let f="reset"===d,{iScale:g,vScale:h,_stacked:i,_dataset:j}=this._cachedMeta,{sharedOptions:k,includeOptions:l}=this._getSharedOptions(b,d),m=g.axis,n=h.axis,{spanGaps:o,segment:p}=this.options,q=(0,e.x)(o)?o:1/0,r=this.chart._animationsDisabled||f||"none"===d,s=b+c,t=a.length,u=b>0&&this.getParsed(b-1);for(let c=0;c<t;++c){let o=a[c],t=r?o:{};if(c<b||c>=s){t.skip=!0;continue}let v=this.getParsed(c),w=(0,e.k)(v[n]),x=t[m]=g.getPixelForValue(v[m],c),y=t[n]=f||w?h.getBasePixel():h.getPixelForValue(i?this.applyStack(h,v,i):v[n],c);t.skip=isNaN(x)||isNaN(y)||w,t.stop=c>0&&Math.abs(v[m]-u[m])>q,p&&(t.parsed=v,t.raw=j.data[c]),l&&(t.options=k||this.resolveDataElementOptions(c,o.active?"active":d)),r||this.updateElement(o,c,t,d),u=v}}getMaxOverflow(){let a=this._cachedMeta,b=a.dataset,c=b.options&&b.options.borderWidth||0,d=a.data||[];if(!d.length)return c;let e=d[0].size(this.resolveDataElementOptions(0)),f=d[d.length-1].size(this.resolveDataElementOptions(d.length-1));return Math.max(c,e,f)/2}draw(){let a=this._cachedMeta;a.dataset.updateControlPoints(this.chart.chartArea,a.iScale.axis),super.draw()}}class bu extends bp{static{this.id="polarArea"}static{this.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}}static{this.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){let b=a.data;if(b.labels.length&&b.datasets.length){let{labels:{pointStyle:c,color:d}}=a.legend.options;return b.labels.map((b,e)=>{let f=a.getDatasetMeta(0).controller.getStyle(e);return{text:b,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:d,lineWidth:f.borderWidth,pointStyle:c,hidden:!a.getDataVisibility(e),index:e}})}return[]}},onClick(a,b,c){c.chart.toggleDataVisibility(b.index),c.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}}constructor(a,b){super(a,b),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(a){let b=this._cachedMeta,c=this.chart,d=c.data.labels||[],f=(0,e.o)(b._parsed[a].r,c.options.locale);return{label:d[a]||"",value:f}}parseObjectData(a,b,c,d){return e.y.bind(this)(a,b,c,d)}update(a){let b=this._cachedMeta.data;this._updateRadius(),this.updateElements(b,0,b.length,a)}getMinMax(){let a=this._cachedMeta,b={min:1/0,max:-1/0};return a.data.forEach((a,c)=>{let d=this.getParsed(c).r;!isNaN(d)&&this.chart.getDataVisibility(c)&&(d<b.min&&(b.min=d),d>b.max&&(b.max=d))}),b}_updateRadius(){let a=this.chart,b=a.chartArea,c=a.options,d=Math.min(b.right-b.left,b.bottom-b.top),e=Math.max(d/2,0),f=Math.max(c.cutoutPercentage?e/100*c.cutoutPercentage:1,0),g=(e-f)/a.getVisibleDatasetCount();this.outerRadius=e-g*this.index,this.innerRadius=this.outerRadius-g}updateElements(a,b,c,d){let f,g="reset"===d,h=this.chart,i=h.options.animation,j=this._cachedMeta.rScale,k=j.xCenter,l=j.yCenter,m=j.getIndexAngle(0)-.5*e.P,n=m,o=360/this.countVisibleElements();for(f=0;f<b;++f)n+=this._computeAngle(f,d,o);for(f=b;f<b+c;f++){let b=a[f],c=n,e=n+this._computeAngle(f,d,o),p=h.getDataVisibility(f)?j.getDistanceFromCenterForValue(this.getParsed(f).r):0;n=e,g&&(i.animateScale&&(p=0),i.animateRotate&&(c=e=m));let q={x:k,y:l,innerRadius:0,outerRadius:p,startAngle:c,endAngle:e,options:this.resolveDataElementOptions(f,b.active?"active":d)};this.updateElement(b,f,q,d)}}countVisibleElements(){let a=this._cachedMeta,b=0;return a.data.forEach((a,c)=>{!isNaN(this.getParsed(c).r)&&this.chart.getDataVisibility(c)&&b++}),b}_computeAngle(a,b,c){return this.chart.getDataVisibility(a)?(0,e.t)(this.resolveDataElementOptions(a,b).angle||c):0}}class bv extends bs{static{this.id="pie"}static{this.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}}class bw extends bp{static{this.id="radar"}static{this.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}}static{this.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}}}getLabelAndValue(a){let b=this._cachedMeta.vScale,c=this.getParsed(a);return{label:b.getLabels()[a],value:""+b.getLabelForValue(c[b.axis])}}parseObjectData(a,b,c,d){return e.y.bind(this)(a,b,c,d)}update(a){let b=this._cachedMeta,c=b.dataset,d=b.data||[],e=b.iScale.getLabels();if(c.points=d,"resize"!==a){let b=this.resolveDatasetElementOptions(a);this.options.showLine||(b.borderWidth=0);let f={_loop:!0,_fullLoop:e.length===d.length,options:b};this.updateElement(c,void 0,f,a)}this.updateElements(d,0,d.length,a)}updateElements(a,b,c,d){let e=this._cachedMeta.rScale,f="reset"===d;for(let g=b;g<b+c;g++){let b=a[g],c=this.resolveDataElementOptions(g,b.active?"active":d),h=e.getPointPositionForValue(g,this.getParsed(g).r),i=f?e.xCenter:h.x,j=f?e.yCenter:h.y,k={x:i,y:j,angle:h.angle,skip:isNaN(i)||isNaN(j),options:c};this.updateElement(b,g,k,d)}}}class bx extends bp{static{this.id="scatter"}static{this.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}}static{this.overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}}getLabelAndValue(a){let b=this._cachedMeta,c=this.chart.data.labels||[],{xScale:d,yScale:e}=b,f=this.getParsed(a),g=d.getLabelForValue(f.x),h=e.getLabelForValue(f.y);return{label:c[a]||"",value:"("+g+", "+h+")"}}update(a){let b=this._cachedMeta,{data:c=[]}=b,d=this.chart._animationsDisabled,{start:f,count:g}=(0,e.q)(b,c,d);if(this._drawStart=f,this._drawCount=g,(0,e.w)(b)&&(f=0,g=c.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:e,_dataset:f}=b;e._chart=this.chart,e._datasetIndex=this.index,e._decimated=!!f._decimated,e.points=c;let g=this.resolveDatasetElementOptions(a);g.segment=this.options.segment,this.updateElement(e,void 0,{animated:!d,options:g},a)}else this.datasetElementType&&(delete b.dataset,this.datasetElementType=!1);this.updateElements(c,f,g,a)}addElements(){let{showLine:a}=this.options;!this.datasetElementType&&a&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(a,b,c,d){let f="reset"===d,{iScale:g,vScale:h,_stacked:i,_dataset:j}=this._cachedMeta,k=this.resolveDataElementOptions(b,d),l=this.getSharedOptions(k),m=this.includeOptions(d,l),n=g.axis,o=h.axis,{spanGaps:p,segment:q}=this.options,r=(0,e.x)(p)?p:1/0,s=this.chart._animationsDisabled||f||"none"===d,t=b>0&&this.getParsed(b-1);for(let k=b;k<b+c;++k){let b=a[k],c=this.getParsed(k),p=s?b:{},u=(0,e.k)(c[o]),v=p[n]=g.getPixelForValue(c[n],k),w=p[o]=f||u?h.getBasePixel():h.getPixelForValue(i?this.applyStack(h,c,i):c[o],k);p.skip=isNaN(v)||isNaN(w)||u,p.stop=k>0&&Math.abs(c[n]-t[n])>r,q&&(p.parsed=c,p.raw=j.data[k]),m&&(p.options=l||this.resolveDataElementOptions(k,b.active?"active":d)),s||this.updateElement(b,k,p,d),t=c}this.updateSharedOptions(l,d,k)}getMaxOverflow(){let a=this._cachedMeta,b=a.data||[];if(!this.options.showLine){let a=0;for(let c=b.length-1;c>=0;--c)a=Math.max(a,b[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}let c=a.dataset,d=c.options&&c.options.borderWidth||0;if(!b.length)return d;let e=b[0].size(this.resolveDataElementOptions(0)),f=b[b.length-1].size(this.resolveDataElementOptions(b.length-1));return Math.max(d,e,f)/2}}var v=Object.freeze({__proto__:null,BarController:bq,BubbleController:br,DoughnutController:bs,LineController:bt,PieController:bv,PolarAreaController:bu,RadarController:bw,ScatterController:bx});function w(){throw Error("This method is not implemented: Check that a complete date adapter is provided.")}class by{static override(a){Object.assign(by.prototype,a)}constructor(a){this.options=a||{}}init(){}formats(){return w()}parse(){return w()}format(){return w()}add(){return w()}diff(){return w()}startOf(){return w()}endOf(){return w()}}var x={_date:by};function y(a,b,c,d,f){let g=a.getSortedVisibleDatasetMetas(),h=c[b];for(let a=0,c=g.length;a<c;++a){let{index:c,data:i}=g[a],{lo:j,hi:k}=function(a,b,c,d){let{controller:f,data:g,_sorted:h}=a,i=f._cachedMeta.iScale,j=a.dataset&&a.dataset.options?a.dataset.options.spanGaps:null;if(i&&b===i.axis&&"r"!==b&&h&&g.length){let h=i._reversePixels?e.A:e.B;if(d){if(f._sharedOptions){let a=g[0],d="function"==typeof a.getRange&&a.getRange(b);if(d){let a=h(g,b,c-d),e=h(g,b,c+d);return{lo:a.lo,hi:e.hi}}}}else{let d=h(g,b,c);if(j){let{vScale:b}=f._cachedMeta,{_parsed:c}=a,g=c.slice(0,d.lo+1).reverse().findIndex(a=>!(0,e.k)(a[b.axis]));d.lo-=Math.max(0,g);let h=c.slice(d.hi).findIndex(a=>!(0,e.k)(a[b.axis]));d.hi+=Math.max(0,h)}return d}}return{lo:0,hi:g.length-1}}(g[a],b,h,f);for(let a=j;a<=k;++a){let b=i[a];b.skip||d(b,c,a)}}}function z(a,b,c,d,f){let g=[];return(f||a.isPointInArea(b))&&y(a,c,b,function(c,h,i){(f||(0,e.C)(c,a.chartArea,0))&&c.inRange(b.x,b.y,d)&&g.push({element:c,datasetIndex:h,index:i})},!0),g}function A(a,b,c,d,f,g){let h;return g||a.isPointInArea(b)?"r"!==c||d?function(a,b,c,d,e,f){let g=[],h=function(a){let b=-1!==a.indexOf("x"),c=-1!==a.indexOf("y");return function(a,d){let e=b?Math.abs(a.x-d.x):0,f=c?Math.abs(a.y-d.y):0;return Math.sqrt(Math.pow(e,2)+Math.pow(f,2))}}(c),i=1/0;return y(a,c,b,function(c,j,k){let l=c.inRange(b.x,b.y,e);if(d&&!l)return;let m=c.getCenterPoint(e);if(!(f||a.isPointInArea(m))&&!l)return;let n=h(b,m);n<i?(g=[{element:c,datasetIndex:j,index:k}],i=n):n===i&&g.push({element:c,datasetIndex:j,index:k})}),g}(a,b,c,d,f,g):(h=[],y(a,c,b,function(a,c,d){let{startAngle:g,endAngle:i}=a.getProps(["startAngle","endAngle"],f),{angle:j}=(0,e.D)(a,{x:b.x,y:b.y});(0,e.p)(j,g,i)&&h.push({element:a,datasetIndex:c,index:d})}),h):[]}function B(a,b,c,d,e){let f=[],g="x"===c?"inXRange":"inYRange",h=!1;return(y(a,c,b,(a,d,i)=>{a[g]&&a[g](b[c],e)&&(f.push({element:a,datasetIndex:d,index:i}),h=h||a.inRange(b.x,b.y,e))}),d&&!h)?[]:f}var C={evaluateInteractionItems:y,modes:{index(a,b,c,d){let f=(0,e.z)(b,a),g=c.axis||"x",h=c.includeInvisible||!1,i=c.intersect?z(a,f,g,d,h):A(a,f,g,!1,d,h),j=[];return i.length?(a.getSortedVisibleDatasetMetas().forEach(a=>{let b=i[0].index,c=a.data[b];c&&!c.skip&&j.push({element:c,datasetIndex:a.index,index:b})}),j):[]},dataset(a,b,c,d){let f=(0,e.z)(b,a),g=c.axis||"xy",h=c.includeInvisible||!1,i=c.intersect?z(a,f,g,d,h):A(a,f,g,!1,d,h);if(i.length>0){let b=i[0].datasetIndex,c=a.getDatasetMeta(b).data;i=[];for(let a=0;a<c.length;++a)i.push({element:c[a],datasetIndex:b,index:a})}return i},point(a,b,c,d){let f=(0,e.z)(b,a),g=c.axis||"xy",h=c.includeInvisible||!1;return z(a,f,g,d,h)},nearest(a,b,c,d){let f=(0,e.z)(b,a),g=c.axis||"xy",h=c.includeInvisible||!1;return A(a,f,g,c.intersect,d,h)},x(a,b,c,d){let f=(0,e.z)(b,a);return B(a,f,"x",c.intersect,d)},y(a,b,c,d){let f=(0,e.z)(b,a);return B(a,f,"y",c.intersect,d)}}};let bz=["left","top","right","bottom"];function D(a,b){return a.filter(a=>a.pos===b)}function E(a,b){return a.filter(a=>-1===bz.indexOf(a.pos)&&a.box.axis===b)}function F(a,b){return a.sort((a,c)=>{let d=b?c:a,e=b?a:c;return d.weight===e.weight?d.index-e.index:d.weight-e.weight})}function G(a,b,c,d){return Math.max(a[c],b[c])+Math.max(a[d],b[d])}function H(a,b){a.top=Math.max(a.top,b.top),a.left=Math.max(a.left,b.left),a.bottom=Math.max(a.bottom,b.bottom),a.right=Math.max(a.right,b.right)}function I(a,b,c,d){let f,g,h,i,j,k,l=[];for(f=0,g=a.length,j=0;f<g;++f){(i=(h=a[f]).box).update(h.width||b.w,h.height||b.h,function(a,b){let c=b.maxPadding;var d=a?["left","right"]:["top","bottom"];let e={left:0,top:0,right:0,bottom:0};return d.forEach(a=>{e[a]=Math.max(b[a],c[a])}),e}(h.horizontal,b));let{same:g,other:m}=function(a,b,c,d){let{pos:f,box:g}=c,h=a.maxPadding;if(!(0,e.i)(f)){c.size&&(a[f]-=c.size);let b=d[c.stack]||{size:0,count:1};b.size=Math.max(b.size,c.horizontal?g.height:g.width),c.size=b.size/b.count,a[f]+=c.size}g.getPadding&&H(h,g.getPadding());let i=Math.max(0,b.outerWidth-G(h,a,"left","right")),j=Math.max(0,b.outerHeight-G(h,a,"top","bottom")),k=i!==a.w,l=j!==a.h;return a.w=i,a.h=j,c.horizontal?{same:k,other:l}:{same:l,other:k}}(b,c,h,d);j|=g&&l.length,k=k||m,i.fullSize||l.push(h)}return j&&I(l,b,c,d)||k}function J(a,b,c,d,e){a.top=c,a.left=b,a.right=b+d,a.bottom=c+e,a.width=d,a.height=e}function K(a,b,c,d){let f=c.padding,{x:g,y:h}=b;for(let i of a){let a=i.box,j=d[i.stack]||{count:1,placed:0,weight:1},k=i.stackWeight/j.weight||1;if(i.horizontal){let d=b.w*k,g=j.size||a.height;(0,e.h)(j.start)&&(h=j.start),a.fullSize?J(a,f.left,h,c.outerWidth-f.right-f.left,g):J(a,b.left+j.placed,h,d,g),j.start=h,j.placed+=d,h=a.bottom}else{let d=b.h*k,h=j.size||a.width;(0,e.h)(j.start)&&(g=j.start),a.fullSize?J(a,g,f.top,h,c.outerHeight-f.bottom-f.top):J(a,g,b.top+j.placed,h,d),j.start=g,j.placed+=d,g=a.right}}b.x=g,b.y=h}var L={addBox(a,b){a.boxes||(a.boxes=[]),b.fullSize=b.fullSize||!1,b.position=b.position||"top",b.weight=b.weight||0,b._layers=b._layers||function(){return[{z:0,draw(a){b.draw(a)}}]},a.boxes.push(b)},removeBox(a,b){let c=a.boxes?a.boxes.indexOf(b):-1;-1!==c&&a.boxes.splice(c,1)},configure(a,b,c){b.fullSize=c.fullSize,b.position=c.position,b.weight=c.weight},update(a,b,c,d){if(!a)return;let f=(0,e.E)(a.options.layout.padding),g=Math.max(b-f.width,0),h=Math.max(c-f.height,0),i=function(a){let b=function(a){let b,c,d,e,f,g,h=[];for(b=0,c=(a||[]).length;b<c;++b)d=a[b],({position:e,options:{stack:f,stackWeight:g=1}}=d),h.push({index:b,box:d,pos:e,horizontal:d.isHorizontal(),weight:d.weight,stack:f&&e+f,stackWeight:g});return h}(a),c=F(b.filter(a=>a.box.fullSize),!0),d=F(D(b,"left"),!0),e=F(D(b,"right")),f=F(D(b,"top"),!0),g=F(D(b,"bottom")),h=E(b,"x"),i=E(b,"y");return{fullSize:c,leftAndTop:d.concat(f),rightAndBottom:e.concat(i).concat(g).concat(h),chartArea:D(b,"chartArea"),vertical:d.concat(e).concat(i),horizontal:f.concat(g).concat(h)}}(a.boxes),j=i.vertical,k=i.horizontal;(0,e.F)(a.boxes,a=>{"function"==typeof a.beforeLayout&&a.beforeLayout()});let l=j.reduce((a,b)=>b.box.options&&!1===b.box.options.display?a:a+1,0)||1,m=Object.freeze({outerWidth:b,outerHeight:c,padding:f,availableWidth:g,availableHeight:h,vBoxMaxWidth:g/2/l,hBoxMaxHeight:h/2}),n=Object.assign({},f);H(n,(0,e.E)(d));let o=Object.assign({maxPadding:n,w:g,h:h,x:f.left,y:f.top},f),p=function(a,b){let c,d,e,f=function(a){let b={};for(let c of a){let{stack:a,pos:d,stackWeight:e}=c;if(!a||!bz.includes(d))continue;let f=b[a]||(b[a]={count:0,placed:0,weight:0,size:0});f.count++,f.weight+=e}return b}(a),{vBoxMaxWidth:g,hBoxMaxHeight:h}=b;for(c=0,d=a.length;c<d;++c){let{fullSize:d}=(e=a[c]).box,i=f[e.stack],j=i&&e.stackWeight/i.weight;e.horizontal?(e.width=j?j*g:d&&b.availableWidth,e.height=h):(e.width=g,e.height=j?j*h:d&&b.availableHeight)}return f}(j.concat(k),m);I(i.fullSize,o,m,p),I(j,o,m,p),I(k,o,m,p)&&I(j,o,m,p);let q=o.maxPadding;function r(a){let b=Math.max(q[a]-o[a],0);return o[a]+=b,b}o.y+=r("top"),o.x+=r("left"),r("right"),r("bottom"),K(i.leftAndTop,o,m,p),o.x+=o.w,o.y+=o.h,K(i.rightAndBottom,o,m,p),a.chartArea={left:o.left,top:o.top,right:o.left+o.w,bottom:o.top+o.h,height:o.h,width:o.w},(0,e.F)(i.chartArea,b=>{let c=b.box;Object.assign(c,a.chartArea),c.update(o.w,o.h,{left:0,top:0,right:0,bottom:0})})}};class bA{acquireContext(a,b){}releaseContext(a){return!1}addEventListener(a,b,c){}removeEventListener(a,b,c){}getDevicePixelRatio(){return 1}getMaximumSize(a,b,c,d){return b=Math.max(0,b||a.width),c=c||a.height,{width:b,height:Math.max(0,d?Math.floor(b/d):c)}}isAttached(a){return!0}updateConfig(a){}}class bB extends bA{acquireContext(a){return a&&a.getContext&&a.getContext("2d")||null}updateConfig(a){a.options.animation=!1}}let bC="$chartjs",bD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bE=a=>null===a||""===a,bF=!!e.K&&{passive:!0};function M(a,b){for(let c of a)if(c===b||c.contains(b))return!0}function N(a,b,c){let d=a.canvas,e=new MutationObserver(a=>{let b=!1;for(let c of a)b=(b=b||M(c.addedNodes,d))&&!M(c.removedNodes,d);b&&c()});return e.observe(document,{childList:!0,subtree:!0}),e}function O(a,b,c){let d=a.canvas,e=new MutationObserver(a=>{let b=!1;for(let c of a)b=(b=b||M(c.removedNodes,d))&&!M(c.addedNodes,d);b&&c()});return e.observe(document,{childList:!0,subtree:!0}),e}let bG=new Map,bH=0;function P(){let a=window.devicePixelRatio;a!==bH&&(bH=a,bG.forEach((b,c)=>{c.currentDevicePixelRatio!==a&&b()}))}function Q(a,b,c){let d=a.canvas,f=d&&(0,e.I)(d);if(!f)return;let g=(0,e.L)((a,b)=>{let d=f.clientWidth;c(a,b),d<f.clientWidth&&c()},window),h=new ResizeObserver(a=>{let b=a[0],c=b.contentRect.width,d=b.contentRect.height;(0!==c||0!==d)&&g(c,d)});return h.observe(f),bG.size||window.addEventListener("resize",P),bG.set(a,g),h}function R(a,b,c){c&&c.disconnect(),"resize"===b&&(bG.delete(a),bG.size||window.removeEventListener("resize",P))}function S(a,b,c){let d=a.canvas,f=(0,e.L)(b=>{null!==a.ctx&&c(function(a,b){let c=bD[a.type]||a.type,{x:d,y:f}=(0,e.z)(a,b);return{type:c,chart:b,native:a,x:void 0!==d?d:null,y:void 0!==f?f:null}}(b,a))},a);return d&&d.addEventListener(b,f,bF),f}class bI extends bA{acquireContext(a,b){let c=a&&a.getContext&&a.getContext("2d");return c&&c.canvas===a?(!function(a,b){let c=a.style,d=a.getAttribute("height"),f=a.getAttribute("width");if(a[bC]={initial:{height:d,width:f,style:{display:c.display,height:c.height,width:c.width}}},c.display=c.display||"block",c.boxSizing=c.boxSizing||"border-box",bE(f)){let b=(0,e.J)(a,"width");void 0!==b&&(a.width=b)}if(bE(d))if(""===a.style.height)a.height=a.width/(b||2);else{let b=(0,e.J)(a,"height");void 0!==b&&(a.height=b)}}(a,b),c):null}releaseContext(a){let b=a.canvas;if(!b[bC])return!1;let c=b[bC].initial;["height","width"].forEach(a=>{let d=c[a];(0,e.k)(d)?b.removeAttribute(a):b.setAttribute(a,d)});let d=c.style||{};return Object.keys(d).forEach(a=>{b.style[a]=d[a]}),b.width=b.width,delete b[bC],!0}addEventListener(a,b,c){this.removeEventListener(a,b);let d=a.$proxies||(a.$proxies={}),e={attach:N,detach:O,resize:Q}[b]||S;d[b]=e(a,b,c)}removeEventListener(a,b){let c=a.$proxies||(a.$proxies={}),d=c[b];d&&((({attach:R,detach:R,resize:R})[b]||function(a,b,c){a&&a.canvas&&a.canvas.removeEventListener(b,c,bF)})(a,b,d),c[b]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(a,b,c,d){return(0,e.G)(a,b,c,d)}isAttached(a){let b=a&&(0,e.I)(a);return!!(b&&b.isConnected)}}function T(a){return!(0,e.M)()||"undefined"!=typeof OffscreenCanvas&&a instanceof OffscreenCanvas?bB:bI}class bJ{static{this.defaults={}}static{this.defaultRoutes=void 0}tooltipPosition(a){let{x:b,y:c}=this.getProps(["x","y"],a);return{x:b,y:c}}hasValue(){return(0,e.x)(this.x)&&(0,e.x)(this.y)}getProps(a,b){let c=this.$animations;if(!b||!c)return this;let d={};return a.forEach(a=>{d[a]=c[a]&&c[a].active()?c[a]._to:this[a]}),d}constructor(){this.active=!1}}function U(a,b,c,d,f){let g,h,i,j=(0,e.v)(d,0),k=Math.min((0,e.v)(f,a.length),a.length),l=0;for(c=Math.ceil(c),f&&(c=(g=f-d)/Math.floor(g/c)),i=j;i<0;)l++,i=Math.round(j+l*c);for(h=Math.max(j,0);h<k;h++)h===i&&(b.push(a[h]),l++,i=Math.round(j+l*c))}let bK=(a,b,c)=>"top"===b||"left"===b?a[b]+c:a[b]-c,bL=(a,b)=>Math.min(b||a,a);function V(a,b){let c=[],d=a.length/b,e=a.length,f=0;for(;f<e;f+=d)c.push(a[Math.floor(f)]);return c}function W(a){return a.drawTicks?a.tickLength:0}function X(a,b){if(!a.display)return 0;let c=(0,e.a0)(a.font,b),d=(0,e.E)(a.padding);return((0,e.b)(a.text)?a.text.length:1)*c.lineHeight+d.height}class bM extends bJ{constructor(a){super(),this.id=a.id,this.type=a.type,this.options=void 0,this.ctx=a.ctx,this.chart=a.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(a){this.options=a.setContext(this.getContext()),this.axis=a.axis,this._userMin=this.parse(a.min),this._userMax=this.parse(a.max),this._suggestedMin=this.parse(a.suggestedMin),this._suggestedMax=this.parse(a.suggestedMax)}parse(a,b){return a}getUserBounds(){let{_userMin:a,_userMax:b,_suggestedMin:c,_suggestedMax:d}=this;return a=(0,e.O)(a,1/0),b=(0,e.O)(b,-1/0),c=(0,e.O)(c,1/0),d=(0,e.O)(d,-1/0),{min:(0,e.O)(a,c),max:(0,e.O)(b,d),minDefined:(0,e.g)(a),maxDefined:(0,e.g)(b)}}getMinMax(a){let b,{min:c,max:d,minDefined:f,maxDefined:g}=this.getUserBounds();if(f&&g)return{min:c,max:d};let h=this.getMatchingVisibleMetas();for(let e=0,i=h.length;e<i;++e)b=h[e].controller.getMinMax(this,a),f||(c=Math.min(c,b.min)),g||(d=Math.max(d,b.max));return c=g&&c>d?d:c,d=f&&c>d?c:d,{min:(0,e.O)(c,(0,e.O)(d,c)),max:(0,e.O)(d,(0,e.O)(c,d))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels||[]}getLabelItems(a=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(a))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,e.Q)(this.options.beforeUpdate,[this])}update(a,b,c){let{beginAtZero:d,grace:f,ticks:g}=this.options,h=g.sampleSize;this.beforeUpdate(),this.maxWidth=a,this.maxHeight=b,this._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+c.left+c.right:this.height+c.top+c.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,e.R)(this,f,d),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let i=h<this.ticks.length;this._convertTicksToLabels(i?V(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),g.display&&(g.autoSkip||"auto"===g.source)&&(this.ticks=function(a,b){let c=a.options.ticks,d=function(a){let b=a.options.offset,c=a._tickSize(),d=a._length/c+ +!b,e=a._maxLength/c;return Math.floor(Math.min(d,e))}(a),f=Math.min(c.maxTicksLimit||d,d),g=c.major.enabled?function(a){let b,c,d=[];for(b=0,c=a.length;b<c;b++)a[b].major&&d.push(b);return d}(b):[],h=g.length,i=g[0],j=g[h-1],k=[];if(h>f)return function(a,b,c,d){let e,f=0,g=c[0];for(e=0,d=Math.ceil(d);e<a.length;e++)e===g&&(b.push(a[e]),g=c[++f*d])}(b,k,g,h/f),k;let l=function(a,b,c){let d=function(a){let b,c,d=a.length;if(d<2)return!1;for(c=a[0],b=1;b<d;++b)if(a[b]-a[b-1]!==c)return!1;return c}(a),f=b.length/c;if(!d)return Math.max(f,1);let g=(0,e.N)(d);for(let a=0,b=g.length-1;a<b;a++){let b=g[a];if(b>f)return b}return Math.max(f,1)}(g,b,f);if(h>0){let a,c,d=h>1?Math.round((j-i)/(h-1)):null;for(U(b,k,l,(0,e.k)(d)?0:i-d,i),a=0,c=h-1;a<c;a++)U(b,k,l,g[a],g[a+1]);return U(b,k,l,j,(0,e.k)(d)?b.length:j+d),k}return U(b,k,l),k}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),i&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let a,b,c=this.options.reverse;this.isHorizontal()?(a=this.left,b=this.right):(a=this.top,b=this.bottom,c=!c),this._startPixel=a,this._endPixel=b,this._reversePixels=c,this._length=b-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,e.Q)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,e.Q)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,e.Q)(this.options.afterSetDimensions,[this])}_callHooks(a){this.chart.notifyPlugins(a,this.getContext()),(0,e.Q)(this.options[a],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,e.Q)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(a){let b,c,d,f=this.options.ticks;for(b=0,c=a.length;b<c;b++)(d=a[b]).label=(0,e.Q)(f.callback,[d.value,b,a],this)}afterTickToLabelConversion(){(0,e.Q)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,e.Q)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let a,b,c,d=this.options,f=d.ticks,g=bL(this.ticks.length,d.ticks.maxTicksLimit),h=f.minRotation||0,i=f.maxRotation,j=h;if(!this._isVisible()||!f.display||h>=i||g<=1||!this.isHorizontal()){this.labelRotation=h;return}let k=this._getLabelSizes(),l=k.widest.width,m=k.highest.height,n=(0,e.S)(this.chart.width-l,0,this.maxWidth);a=d.offset?this.maxWidth/g:n/(g-1),l+6>a&&(a=n/(g-(d.offset?.5:1)),b=this.maxHeight-W(d.grid)-f.padding-X(d.title,this.chart.options.font),c=Math.sqrt(l*l+m*m),j=(0,e.U)(Math.min(Math.asin((0,e.S)((k.highest.height+6)/a,-1,1)),Math.asin((0,e.S)(b/c,-1,1))-Math.asin((0,e.S)(m/c,-1,1)))),j=Math.max(h,Math.min(i,j))),this.labelRotation=j}afterCalculateLabelRotation(){(0,e.Q)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,e.Q)(this.options.beforeFit,[this])}fit(){let a={width:0,height:0},{chart:b,options:{ticks:c,title:d,grid:f}}=this,g=this._isVisible(),h=this.isHorizontal();if(g){let g=X(d,b.options.font);if(h?(a.width=this.maxWidth,a.height=W(f)+g):(a.height=this.maxHeight,a.width=W(f)+g),c.display&&this.ticks.length){let{first:b,last:d,widest:f,highest:g}=this._getLabelSizes(),i=2*c.padding,j=(0,e.t)(this.labelRotation),k=Math.cos(j),l=Math.sin(j);if(h){let b=c.mirror?0:l*f.width+k*g.height;a.height=Math.min(this.maxHeight,a.height+b+i)}else{let b=c.mirror?0:k*f.width+l*g.height;a.width=Math.min(this.maxWidth,a.width+b+i)}this._calculatePadding(b,d,l,k)}}this._handleMargins(),h?(this.width=this._length=b.width-this._margins.left-this._margins.right,this.height=a.height):(this.width=a.width,this.height=this._length=b.height-this._margins.top-this._margins.bottom)}_calculatePadding(a,b,c,d){let{ticks:{align:e,padding:f},position:g}=this.options,h=0!==this.labelRotation,i="top"!==g&&"x"===this.axis;if(this.isHorizontal()){let g=this.getPixelForTick(0)-this.left,j=this.right-this.getPixelForTick(this.ticks.length-1),k=0,l=0;h?i?(k=d*a.width,l=c*b.height):(k=c*a.height,l=d*b.width):"start"===e?l=b.width:"end"===e?k=a.width:"inner"!==e&&(k=a.width/2,l=b.width/2),this.paddingLeft=Math.max((k-g+f)*this.width/(this.width-g),0),this.paddingRight=Math.max((l-j+f)*this.width/(this.width-j),0)}else{let c=b.height/2,d=a.height/2;"start"===e?(c=0,d=a.height):"end"===e&&(c=b.height,d=0),this.paddingTop=c+f,this.paddingBottom=d+f}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,e.Q)(this.options.afterFit,[this])}isHorizontal(){let{axis:a,position:b}=this.options;return"top"===b||"bottom"===b||"x"===a}isFullSize(){return this.options.fullSize}_convertTicksToLabels(a){let b,c;for(this.beforeTickToLabelConversion(),this.generateTickLabels(a),b=0,c=a.length;b<c;b++)(0,e.k)(a[b].label)&&(a.splice(b,1),c--,b--);this.afterTickToLabelConversion()}_getLabelSizes(){let a=this._labelSizes;if(!a){let b=this.options.ticks.sampleSize,c=this.ticks;b<c.length&&(c=V(c,b)),this._labelSizes=a=this._computeLabelSizes(c,c.length,this.options.ticks.maxTicksLimit)}return a}_computeLabelSizes(a,b,c){let d,f,g,h,i,j,k,l,m,n,o,{ctx:p,_longestTextCache:q}=this,r=[],s=[],t=Math.floor(b/bL(b,c)),u=0,v=0;for(d=0;d<b;d+=t){if(h=a[d].label,p.font=j=(i=this._resolveTickFontOptions(d)).string,k=q[j]=q[j]||{data:{},gc:[]},l=i.lineHeight,m=n=0,(0,e.k)(h)||(0,e.b)(h)){if((0,e.b)(h))for(f=0,g=h.length;f<g;++f)o=h[f],(0,e.k)(o)||(0,e.b)(o)||(m=(0,e.V)(p,k.data,k.gc,m,o),n+=l)}else m=(0,e.V)(p,k.data,k.gc,m,h),n=l;r.push(m),s.push(n),u=Math.max(m,u),v=Math.max(n,v)}(0,e.F)(q,a=>{let c,d=a.gc,e=d.length/2;if(e>b){for(c=0;c<e;++c)delete a.data[d[c]];d.splice(0,e)}});let w=r.indexOf(u),x=s.indexOf(v),y=a=>({width:r[a]||0,height:s[a]||0});return{first:y(0),last:y(b-1),widest:y(w),highest:y(x),widths:r,heights:s}}getLabelForValue(a){return a}getPixelForValue(a,b){return NaN}getValueForPixel(a){}getPixelForTick(a){let b=this.ticks;return a<0||a>b.length-1?null:this.getPixelForValue(b[a].value)}getPixelForDecimal(a){this._reversePixels&&(a=1-a);let b=this._startPixel+a*this._length;return(0,e.W)(this._alignToPixels?(0,e.X)(this.chart,b,0):b)}getDecimalForPixel(a){let b=(a-this._startPixel)/this._length;return this._reversePixels?1-b:b}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:a,max:b}=this;return a<0&&b<0?b:a>0&&b>0?a:0}getContext(a){var b,c;let d=this.ticks||[];if(a>=0&&a<d.length){let c=d[a];return c.$context||(b=this.getContext(),c.$context=(0,e.j)(b,{tick:c,index:a,type:"tick"}))}return this.$context||(this.$context=(c=this.chart.getContext(),(0,e.j)(c,{scale:this,type:"scale"})))}_tickSize(){let a=this.options.ticks,b=(0,e.t)(this.labelRotation),c=Math.abs(Math.cos(b)),d=Math.abs(Math.sin(b)),f=this._getLabelSizes(),g=a.autoSkipPadding||0,h=f?f.widest.width+g:0,i=f?f.highest.height+g:0;return this.isHorizontal()?i*c>h*d?h/c:i/d:i*d<h*c?i/c:h/d}_isVisible(){let a=this.options.display;return"auto"!==a?!!a:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(a){let b,c,d,f,g,h,i,j,k,l,m,n,o=this.axis,p=this.chart,q=this.options,{grid:r,position:s,border:t}=q,u=r.offset,v=this.isHorizontal(),w=this.ticks.length+ +!!u,x=W(r),y=[],z=t.setContext(this.getContext()),A=z.display?z.width:0,B=A/2,C=function(a){return(0,e.X)(p,a,A)};if("top"===s)b=C(this.bottom),h=this.bottom-x,j=b-B,l=C(a.top)+B,n=a.bottom;else if("bottom"===s)b=C(this.top),l=a.top,n=C(a.bottom)-B,h=b+B,j=this.top+x;else if("left"===s)b=C(this.right),g=this.right-x,i=b-B,k=C(a.left)+B,m=a.right;else if("right"===s)b=C(this.left),k=a.left,m=C(a.right)-B,g=b+B,i=this.left+x;else if("x"===o){if("center"===s)b=C((a.top+a.bottom)/2+.5);else if((0,e.i)(s)){let a=Object.keys(s)[0],c=s[a];b=C(this.chart.scales[a].getPixelForValue(c))}l=a.top,n=a.bottom,j=(h=b+B)+x}else if("y"===o){if("center"===s)b=C((a.left+a.right)/2);else if((0,e.i)(s)){let a=Object.keys(s)[0],c=s[a];b=C(this.chart.scales[a].getPixelForValue(c))}i=(g=b-B)-x,k=a.left,m=a.right}let D=(0,e.v)(q.ticks.maxTicksLimit,w),E=Math.max(1,Math.ceil(w/D));for(c=0;c<w;c+=E){let a=this.getContext(c),b=r.setContext(a),o=t.setContext(a),q=b.lineWidth,s=b.color,w=o.dash||[],x=o.dashOffset,z=b.tickWidth,A=b.tickColor,B=b.tickBorderDash||[],C=b.tickBorderDashOffset;d=function(a,b,c){let d,e=a.ticks.length,f=Math.min(b,e-1),g=a._startPixel,h=a._endPixel,i=a.getPixelForTick(f);if(!c||(d=1===e?Math.max(i-g,h-i):0===b?(a.getPixelForTick(1)-i)/2:(i-a.getPixelForTick(f-1))/2,!((i+=f<b?d:-d)<g-1e-6)&&!(i>h+1e-6)))return i}(this,c,u),void 0!==d&&(f=(0,e.X)(p,d,q),v?g=i=k=m=f:h=j=l=n=f,y.push({tx1:g,ty1:h,tx2:i,ty2:j,x1:k,y1:l,x2:m,y2:n,width:q,color:s,borderDash:w,borderDashOffset:x,tickWidth:z,tickColor:A,tickBorderDash:B,tickBorderDashOffset:C}))}return this._ticksLength=w,this._borderValue=b,y}_computeLabelItems(a){let b,c,d,f,g,h,i,j,k,l,m,n=this.axis,o=this.options,{position:p,ticks:q}=o,r=this.isHorizontal(),s=this.ticks,{align:t,crossAlign:u,padding:v,mirror:w}=q,x=W(o.grid),y=x+v,z=w?-v:y,A=-(0,e.t)(this.labelRotation),B=[],C="middle";if("top"===p)g=this.bottom-z,h=this._getXAxisLabelAlignment();else if("bottom"===p)g=this.top+z,h=this._getXAxisLabelAlignment();else if("left"===p){let a=this._getYAxisLabelAlignment(x);h=a.textAlign,f=a.x}else if("right"===p){let a=this._getYAxisLabelAlignment(x);h=a.textAlign,f=a.x}else if("x"===n){if("center"===p)g=(a.top+a.bottom)/2+y;else if((0,e.i)(p)){let a=Object.keys(p)[0],b=p[a];g=this.chart.scales[a].getPixelForValue(b)+y}h=this._getXAxisLabelAlignment()}else if("y"===n){if("center"===p)f=(a.left+a.right)/2-y;else if((0,e.i)(p)){let a=Object.keys(p)[0],b=p[a];f=this.chart.scales[a].getPixelForValue(b)}h=this._getYAxisLabelAlignment(x).textAlign}"y"===n&&("start"===t?C="top":"end"===t&&(C="bottom"));let D=this._getLabelSizes();for(b=0,c=s.length;b<c;++b){let a;d=s[b].label;let n=q.setContext(this.getContext(b));i=this.getPixelForTick(b)+q.labelOffset,k=(j=this._resolveTickFontOptions(b)).lineHeight;let o=(l=(0,e.b)(d)?d.length:1)/2,t=n.color,v=n.textStrokeColor,x=n.textStrokeWidth,y=h;if(r?(f=i,"inner"===h&&(y=b===c-1?this.options.reverse?"left":"right":0===b?this.options.reverse?"right":"left":"center"),m="top"===p?"near"===u||0!==A?-l*k+k/2:"center"===u?-D.highest.height/2-o*k+k:-D.highest.height+k/2:"near"===u||0!==A?k/2:"center"===u?D.highest.height/2-o*k:D.highest.height-l*k,w&&(m*=-1),0===A||n.showLabelBackdrop||(f+=k/2*Math.sin(A))):(g=i,m=(1-l)*k/2),n.showLabelBackdrop){let d=(0,e.E)(n.backdropPadding),f=D.heights[b],g=D.widths[b],i=m-d.top,j=0-d.left;switch(C){case"middle":i-=f/2;break;case"bottom":i-=f}switch(h){case"center":j-=g/2;break;case"right":j-=g;break;case"inner":b===c-1?j-=g:b>0&&(j-=g/2)}a={left:j,top:i,width:g+d.width,height:f+d.height,color:n.backdropColor}}B.push({label:d,font:j,textOffset:m,options:{rotation:A,color:t,strokeColor:v,strokeWidth:x,textAlign:y,textBaseline:C,translation:[f,g],backdrop:a}})}return B}_getXAxisLabelAlignment(){let{position:a,ticks:b}=this.options;if(-(0,e.t)(this.labelRotation))return"top"===a?"left":"right";let c="center";return"start"===b.align?c="left":"end"===b.align?c="right":"inner"===b.align&&(c="inner"),c}_getYAxisLabelAlignment(a){let b,c,{position:d,ticks:{crossAlign:e,mirror:f,padding:g}}=this.options,h=this._getLabelSizes(),i=a+g,j=h.widest.width;return"left"===d?f?(c=this.right+g,"near"===e?b="left":"center"===e?(b="center",c+=j/2):(b="right",c+=j)):(c=this.right-i,"near"===e?b="right":"center"===e?(b="center",c-=j/2):(b="left",c=this.left)):"right"===d?f?(c=this.left+g,"near"===e?b="right":"center"===e?(b="center",c-=j/2):(b="left",c-=j)):(c=this.left+i,"near"===e?b="left":"center"===e?(b="center",c+=j/2):(b="right",c=this.right)):b="right",{textAlign:b,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;let a=this.chart,b=this.options.position;return"left"===b||"right"===b?{top:0,left:this.left,bottom:a.height,right:this.right}:"top"===b||"bottom"===b?{top:this.top,left:0,bottom:this.bottom,right:a.width}:void 0}drawBackground(){let{ctx:a,options:{backgroundColor:b},left:c,top:d,width:e,height:f}=this;b&&(a.save(),a.fillStyle=b,a.fillRect(c,d,e,f),a.restore())}getLineWidthForValue(a){let b=this.options.grid;if(!this._isVisible()||!b.display)return 0;let c=this.ticks.findIndex(b=>b.value===a);return c>=0?b.setContext(this.getContext(c)).lineWidth:0}drawGrid(a){let b,c,d=this.options.grid,e=this.ctx,f=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(a)),g=(a,b,c)=>{c.width&&c.color&&(e.save(),e.lineWidth=c.width,e.strokeStyle=c.color,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset,e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(b.x,b.y),e.stroke(),e.restore())};if(d.display)for(b=0,c=f.length;b<c;++b){let a=f[b];d.drawOnChartArea&&g({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),d.drawTicks&&g({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){let a,b,c,d,{chart:f,ctx:g,options:{border:h,grid:i}}=this,j=h.setContext(this.getContext()),k=h.display?j.width:0;if(!k)return;let l=i.setContext(this.getContext(0)).lineWidth,m=this._borderValue;this.isHorizontal()?(a=(0,e.X)(f,this.left,k)-k/2,b=(0,e.X)(f,this.right,l)+l/2,c=d=m):(c=(0,e.X)(f,this.top,k)-k/2,d=(0,e.X)(f,this.bottom,l)+l/2,a=b=m),g.save(),g.lineWidth=j.width,g.strokeStyle=j.color,g.beginPath(),g.moveTo(a,c),g.lineTo(b,d),g.stroke(),g.restore()}drawLabels(a){if(!this.options.ticks.display)return;let b=this.ctx,c=this._computeLabelArea();for(let d of(c&&(0,e.Y)(b,c),this.getLabelItems(a))){let a=d.options,c=d.font,f=d.label,g=d.textOffset;(0,e.Z)(b,f,0,g,c,a)}c&&(0,e.$)(b)}drawTitle(){let a,b,{ctx:c,options:{position:d,title:f,reverse:g}}=this;if(!f.display)return;let h=(0,e.a0)(f.font),i=(0,e.E)(f.padding),j=f.align,k=h.lineHeight/2;"bottom"===d||"center"===d||(0,e.i)(d)?(k+=i.bottom,(0,e.b)(f.text)&&(k+=h.lineHeight*(f.text.length-1))):k+=i.top;let{titleX:l,titleY:m,maxWidth:n,rotation:o}=function(a,b,c,d){let f,g,h,{top:i,left:j,bottom:k,right:l,chart:m}=a,{chartArea:n,scales:o}=m,p=0,q=k-i,r=l-j;if(a.isHorizontal()){if(g=(0,e.a2)(d,j,l),(0,e.i)(c)){let a=Object.keys(c)[0],d=c[a];h=o[a].getPixelForValue(d)+q-b}else h="center"===c?(n.bottom+n.top)/2+q-b:bK(a,c,b);f=l-j}else{if((0,e.i)(c)){let a=Object.keys(c)[0],d=c[a];g=o[a].getPixelForValue(d)-r+b}else g="center"===c?(n.left+n.right)/2-r+b:bK(a,c,b);h=(0,e.a2)(d,k,i),p="left"===c?-e.H:e.H}return{titleX:g,titleY:h,maxWidth:f,rotation:p}}(this,k,d,j);(0,e.Z)(c,f.text,0,0,h,{color:f.color,maxWidth:n,rotation:o,textAlign:(a=(0,e.a1)(j),(g&&"right"!==d||!g&&"right"===d)&&(b=a,a="left"===b?"right":"right"===b?"left":b),a),textBaseline:"middle",translation:[l,m]})}draw(a){this._isVisible()&&(this.drawBackground(),this.drawGrid(a),this.drawBorder(),this.drawTitle(),this.drawLabels(a))}_layers(){let a=this.options,b=a.ticks&&a.ticks.z||0,c=(0,e.v)(a.grid&&a.grid.z,-1),d=(0,e.v)(a.border&&a.border.z,0);return this._isVisible()&&this.draw===bM.prototype.draw?[{z:c,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:d,draw:()=>{this.drawBorder()}},{z:b,draw:a=>{this.drawLabels(a)}}]:[{z:b,draw:a=>{this.draw(a)}}]}getMatchingVisibleMetas(a){let b,c,d=this.chart.getSortedVisibleDatasetMetas(),e=this.axis+"AxisID",f=[];for(b=0,c=d.length;b<c;++b){let c=d[b];c[e]!==this.id||a&&c.type!==a||f.push(c)}return f}_resolveTickFontOptions(a){let b=this.options.ticks.setContext(this.getContext(a));return(0,e.a0)(b.font)}_maxDigits(){let a=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/a}}class bN{constructor(a,b,c){this.type=a,this.scope=b,this.override=c,this.items=Object.create(null)}isForType(a){return Object.prototype.isPrototypeOf.call(this.type.prototype,a.prototype)}register(a){var b;let c,d=Object.getPrototypeOf(a);b=d,"id"in b&&"defaults"in b&&(c=this.register(d));let f=this.items,g=a.id,h=this.scope+"."+g;if(!g)throw Error("class does not have id: "+a);return g in f||(f[g]=a,function(a,b,c){var d,f;let g=(0,e.a4)(Object.create(null),[c?e.d.get(c):{},e.d.get(b),a.defaults]);e.d.set(b,g),a.defaultRoutes&&(d=b,f=a.defaultRoutes,Object.keys(f).forEach(a=>{let b=a.split("."),c=b.pop(),g=[d].concat(b).join("."),h=f[a].split("."),i=h.pop(),j=h.join(".");e.d.route(g,c,j,i)})),a.descriptors&&e.d.describe(b,a.descriptors)}(a,h,c),this.override&&e.d.override(a.id,a.overrides)),h}get(a){return this.items[a]}unregister(a){let b=this.items,c=a.id,d=this.scope;c in b&&delete b[c],d&&c in e.d[d]&&(delete e.d[d][c],this.override&&delete e.a3[c])}}class bO{constructor(){this.controllers=new bN(bp,"datasets",!0),this.elements=new bN(bJ,"elements"),this.plugins=new bN(Object,"plugins"),this.scales=new bN(bM,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...a){this._each("register",a)}remove(...a){this._each("unregister",a)}addControllers(...a){this._each("register",a,this.controllers)}addElements(...a){this._each("register",a,this.elements)}addPlugins(...a){this._each("register",a,this.plugins)}addScales(...a){this._each("register",a,this.scales)}getController(a){return this._get(a,this.controllers,"controller")}getElement(a){return this._get(a,this.elements,"element")}getPlugin(a){return this._get(a,this.plugins,"plugin")}getScale(a){return this._get(a,this.scales,"scale")}removeControllers(...a){this._each("unregister",a,this.controllers)}removeElements(...a){this._each("unregister",a,this.elements)}removePlugins(...a){this._each("unregister",a,this.plugins)}removeScales(...a){this._each("unregister",a,this.scales)}_each(a,b,c){[...b].forEach(b=>{let d=c||this._getRegistryForType(b);c||d.isForType(b)||d===this.plugins&&b.id?this._exec(a,d,b):(0,e.F)(b,b=>{let d=c||this._getRegistryForType(b);this._exec(a,d,b)})})}_exec(a,b,c){let d=(0,e.a5)(a);(0,e.Q)(c["before"+d],[],c),b[a](c),(0,e.Q)(c["after"+d],[],c)}_getRegistryForType(a){for(let b=0;b<this._typedRegistries.length;b++){let c=this._typedRegistries[b];if(c.isForType(a))return c}return this.plugins}_get(a,b,c){let d=b.get(a);if(void 0===d)throw Error('"'+a+'" is not a registered '+c+".");return d}}var Y=new bO;class bP{constructor(){this._init=[]}notify(a,b,c,d){"beforeInit"===b&&(this._init=this._createDescriptors(a,!0),this._notify(this._init,a,"install"));let e=d?this._descriptors(a).filter(d):this._descriptors(a),f=this._notify(e,a,b,c);return"afterDestroy"===b&&(this._notify(e,a,"stop"),this._notify(this._init,a,"uninstall")),f}_notify(a,b,c,d){for(let f of(d=d||{},a)){let a=f.plugin,g=a[c],h=[b,d,f.options];if(!1===(0,e.Q)(g,h,a)&&d.cancelable)return!1}return!0}invalidate(){(0,e.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(a){if(this._cache)return this._cache;let b=this._cache=this._createDescriptors(a);return this._notifyStateChanges(a),b}_createDescriptors(a,b){let c=a&&a.config,d=(0,e.v)(c.options&&c.options.plugins,{}),f=function(a){let b={},c=[],d=Object.keys(Y.plugins.items);for(let a=0;a<d.length;a++)c.push(Y.getPlugin(d[a]));let e=a.plugins||[];for(let a=0;a<e.length;a++){let d=e[a];-1===c.indexOf(d)&&(c.push(d),b[d.id]=!0)}return{plugins:c,localIds:b}}(c);return!1!==d||b?function(a,{plugins:b,localIds:c},d,e){let f=[],g=a.getContext();for(let i of b){var h;let b=i.id,j=(h=d[b],e||!1!==h?!0===h?{}:h:null);null!==j&&f.push({plugin:i,options:function(a,{plugin:b,local:c},d,e){let f=a.pluginScopeKeys(b),g=a.getOptionScopes(d,f);return c&&b.defaults&&g.push(b.defaults),a.createResolver(g,e,[""],{scriptable:!1,indexable:!1,allKeys:!0})}(a.config,{plugin:i,local:c[b]},j,g)})}return f}(a,f,d,b):[]}_notifyStateChanges(a){let b=this._oldCache||[],c=this._cache,d=(a,b)=>a.filter(a=>!b.some(b=>a.plugin.id===b.plugin.id));this._notify(d(b,c),a,"stop"),this._notify(d(c,b),a,"start")}}function Z(a,b){let c=e.d.datasets[a]||{};return((b.datasets||{})[a]||{}).indexAxis||b.indexAxis||c.indexAxis||"x"}function $(a){if("x"===a||"y"===a||"r"===a)return a}function _(a,...b){if($(a))return a;for(let d of b){var c;let b=d.axis||(c=d.position,"top"===c||"bottom"===c?"x":"left"===c||"right"===c?"y":void 0)||a.length>1&&$(a[0].toLowerCase());if(b)return b}throw Error(`Cannot determine type of '${a}' axis. Please provide 'axis' or 'position' option.`)}function aa(a,b,c){if(c[b+"AxisID"]===a)return{axis:b}}function ab(a){let b=a.options||(a.options={});b.plugins=(0,e.v)(b.plugins,{}),b.scales=function(a,b){let c=e.a3[a.type]||{scales:{}},d=b.scales||{},f=Z(a.type,b),g=Object.create(null);return Object.keys(d).forEach(b=>{let h=d[b];if(!(0,e.i)(h))return console.error(`Invalid scale configuration for scale: ${b}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${b}`);let i=_(b,h,function(a,b){if(b.data&&b.data.datasets){let c=b.data.datasets.filter(b=>b.xAxisID===a||b.yAxisID===a);if(c.length)return aa(a,"x",c[0])||aa(a,"y",c[0])}return{}}(b,a),e.d.scales[h.type]),j=i===f?"_index_":"_value_",k=c.scales||{};g[b]=(0,e.ab)(Object.create(null),[{axis:i},h,k[i],k[j]])}),a.data.datasets.forEach(c=>{let f=c.type||a.type,h=c.indexAxis||Z(f,b),i=(e.a3[f]||{}).scales||{};Object.keys(i).forEach(a=>{let b,f=(b=a,"_index_"===a?b=h:"_value_"===a&&(b="x"===h?"y":"x"),b),j=c[f+"AxisID"]||f;g[j]=g[j]||Object.create(null),(0,e.ab)(g[j],[{axis:f},d[j],i[a]])})}),Object.keys(g).forEach(a=>{let b=g[a];(0,e.ab)(b,[e.d.scales[b.type],e.d.scale])}),g}(a,b)}function ac(a){return(a=a||{}).datasets=a.datasets||[],a.labels=a.labels||[],a}let bQ=new Map,bR=new Set;function ad(a,b){let c=bQ.get(a);return c||(c=b(),bQ.set(a,c),bR.add(c)),c}let bS=(a,b,c)=>{let d=(0,e.f)(b,c);void 0!==d&&a.add(d)};class bT{constructor(a){this._config=function(a){return(a=a||{}).data=ac(a.data),ab(a),a}(a),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(a){this._config.type=a}get data(){return this._config.data}set data(a){this._config.data=ac(a)}get options(){return this._config.options}set options(a){this._config.options=a}get plugins(){return this._config.plugins}update(){let a=this._config;this.clearCache(),ab(a)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(a){return ad(a,()=>[[`datasets.${a}`,""]])}datasetAnimationScopeKeys(a,b){return ad(`${a}.transition.${b}`,()=>[[`datasets.${a}.transitions.${b}`,`transitions.${b}`],[`datasets.${a}`,""]])}datasetElementScopeKeys(a,b){return ad(`${a}-${b}`,()=>[[`datasets.${a}.elements.${b}`,`datasets.${a}`,`elements.${b}`,""]])}pluginScopeKeys(a){let b=a.id,c=this.type;return ad(`${c}-plugin-${b}`,()=>[[`plugins.${b}`,...a.additionalOptionScopes||[]]])}_cachedScopes(a,b){let c=this._scopeCache,d=c.get(a);return(!d||b)&&(d=new Map,c.set(a,d)),d}getOptionScopes(a,b,c){let{options:d,type:f}=this,g=this._cachedScopes(a,c),h=g.get(b);if(h)return h;let i=new Set;b.forEach(b=>{a&&(i.add(a),b.forEach(b=>bS(i,a,b))),b.forEach(a=>bS(i,d,a)),b.forEach(a=>bS(i,e.a3[f]||{},a)),b.forEach(a=>bS(i,e.d,a)),b.forEach(a=>bS(i,e.a6,a))});let j=Array.from(i);return 0===j.length&&j.push(Object.create(null)),bR.has(b)&&g.set(b,j),j}chartOptionScopes(){let{options:a,type:b}=this;return[a,e.a3[b]||{},e.d.datasets[b]||{},{type:b},e.d,e.a6]}resolveNamedOptions(a,b,c,d=[""]){let f={$shared:!0},{resolver:g,subPrefixes:h}=ae(this._resolverCache,a,d),i=g;if(function(a,b){let{isScriptable:c,isIndexable:d}=(0,e.aa)(a);for(let f of b){let b=c(f),g=d(f),h=(g||b)&&a[f];if(b&&((0,e.a7)(h)||bU(h))||g&&(0,e.b)(h))return!0}return!1}(g,b)){f.$shared=!1,c=(0,e.a7)(c)?c():c;let b=this.createResolver(a,c,h);i=(0,e.a8)(g,c,b)}for(let a of b)f[a]=i[a];return f}createResolver(a,b,c=[""],d){let{resolver:f}=ae(this._resolverCache,a,c);return(0,e.i)(b)?(0,e.a8)(f,b,void 0,d):f}}function ae(a,b,c){let d=a.get(b);d||(d=new Map,a.set(b,d));let f=c.join(),g=d.get(f);return g||(g={resolver:(0,e.a9)(b,c),subPrefixes:c.filter(a=>!a.toLowerCase().includes("hover"))},d.set(f,g)),g}let bU=a=>(0,e.i)(a)&&Object.getOwnPropertyNames(a).some(b=>(0,e.a7)(a[b])),bV=["top","bottom","left","right","chartArea"];function af(a,b){return"top"===a||"bottom"===a||-1===bV.indexOf(a)&&"x"===b}function ag(a,b){return function(c,d){return c[a]===d[a]?c[b]-d[b]:c[a]-d[a]}}function ah(a){let b=a.chart,c=b.options.animation;b.notifyPlugins("afterRender"),(0,e.Q)(c&&c.onComplete,[a],b)}function ai(a){let b=a.chart,c=b.options.animation;(0,e.Q)(c&&c.onProgress,[a],b)}function aj(a){return(0,e.M)()&&"string"==typeof a?a=document.getElementById(a):a&&a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas),a}let bW={},bX=a=>{let b=aj(a);return Object.values(bW).filter(a=>a.canvas===b).pop()};class bY{static{this.defaults=e.d}static{this.instances=bW}static{this.overrides=e.a3}static{this.registry=Y}static{this.version="4.5.0"}static{this.getChart=bX}static register(...a){Y.add(...a),ak()}static unregister(...a){Y.remove(...a),ak()}constructor(a,b){let c=this.config=new bT(b),d=aj(a),f=bX(d);if(f)throw Error("Canvas is already in use. Chart with ID '"+f.id+"' must be destroyed before the canvas with ID '"+f.canvas.id+"' can be reused.");let g=c.createResolver(c.chartOptionScopes(),this.getContext());this.platform=new(c.platform||T(d)),this.platform.updateConfig(c);let i=this.platform.acquireContext(d,g.aspectRatio),j=i&&i.canvas,k=j&&j.height,l=j&&j.width;if(this.id=(0,e.ac)(),this.ctx=i,this.canvas=j,this.width=l,this.height=k,this._options=g,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,e.ad)(a=>this.update(a),g.resizeDelay||0),this._dataChanges=[],bW[this.id]=this,!i||!j)return void console.error("Failed to create chart: can't acquire context from the given item");h.listen(this,"complete",ah),h.listen(this,"progress",ai),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:a,maintainAspectRatio:b},width:c,height:d,_aspectRatio:f}=this;return(0,e.k)(a)?b&&f?f:d?c/d:null:a}get data(){return this.config.data}set data(a){this.config.data=a}get options(){return this._options}set options(a){this.config.options=a}get registry(){return Y}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,e.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,e.af)(this.canvas,this.ctx),this}stop(){return h.stop(this),this}resize(a,b){h.running(this)?this._resizeBeforeDraw={width:a,height:b}:this._resize(a,b)}_resize(a,b){let c=this.options,d=this.canvas,f=c.maintainAspectRatio&&this.aspectRatio,g=this.platform.getMaximumSize(d,a,b,f),h=c.devicePixelRatio||this.platform.getDevicePixelRatio(),i=this.width?"resize":"attach";this.width=g.width,this.height=g.height,this._aspectRatio=this.aspectRatio,(0,e.ae)(this,h,!0)&&(this.notifyPlugins("resize",{size:g}),(0,e.Q)(c.onResize,[this,g],this),this.attached&&this._doResize(i)&&this.render())}ensureScalesHaveIDs(){let a=this.options.scales||{};(0,e.F)(a,(a,b)=>{a.id=b})}buildOrUpdateScales(){let a=this.options,b=a.scales,c=this.scales,d=Object.keys(c).reduce((a,b)=>(a[b]=!1,a),{}),f=[];b&&(f=f.concat(Object.keys(b).map(a=>{let c=b[a],d=_(a,c),e="r"===d,f="x"===d;return{options:c,dposition:e?"chartArea":f?"bottom":"left",dtype:e?"radialLinear":f?"category":"linear"}}))),(0,e.F)(f,b=>{let f=b.options,g=f.id,h=_(g,f),i=(0,e.v)(f.type,b.dtype);(void 0===f.position||af(f.position,h)!==af(b.dposition))&&(f.position=b.dposition),d[g]=!0;let j=null;g in c&&c[g].type===i?j=c[g]:c[(j=new(Y.getScale(i))({id:g,type:i,ctx:this.ctx,chart:this})).id]=j,j.init(f,a)}),(0,e.F)(d,(a,b)=>{a||delete c[b]}),(0,e.F)(c,a=>{L.configure(this,a,a.options),L.addBox(this,a)})}_updateMetasets(){let a=this._metasets,b=this.data.datasets.length,c=a.length;if(a.sort((a,b)=>a.index-b.index),c>b){for(let a=b;a<c;++a)this._destroyDatasetMeta(a);a.splice(b,c-b)}this._sortedMetasets=a.slice(0).sort(ag("order","index"))}_removeUnreferencedMetasets(){let{_metasets:a,data:{datasets:b}}=this;a.length>b.length&&delete this._stacks,a.forEach((a,c)=>{0===b.filter(b=>b===a._dataset).length&&this._destroyDatasetMeta(c)})}buildOrUpdateControllers(){let a,b,c=[],d=this.data.datasets;for(this._removeUnreferencedMetasets(),a=0,b=d.length;a<b;a++){let b=d[a],f=this.getDatasetMeta(a),g=b.type||this.config.type;if(f.type&&f.type!==g&&(this._destroyDatasetMeta(a),f=this.getDatasetMeta(a)),f.type=g,f.indexAxis=b.indexAxis||Z(g,this.options),f.order=b.order||0,f.index=a,f.label=""+b.label,f.visible=this.isDatasetVisible(a),f.controller)f.controller.updateIndex(a),f.controller.linkScales();else{let b=Y.getController(g),{datasetElementType:d,dataElementType:h}=e.d.datasets[g];Object.assign(b,{dataElementType:Y.getElement(h),datasetElementType:d&&Y.getElement(d)}),f.controller=new b(this,a),c.push(f.controller)}}return this._updateMetasets(),c}_resetElements(){(0,e.F)(this.data.datasets,(a,b)=>{this.getDatasetMeta(b).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(a){let b=this.config;b.update();let c=this._options=b.createResolver(b.chartOptionScopes(),this.getContext()),d=this._animationsDisabled=!c.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:a,cancelable:!0}))return;let f=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let g=0;for(let a=0,b=this.data.datasets.length;a<b;a++){let{controller:b}=this.getDatasetMeta(a),c=!d&&-1===f.indexOf(b);b.buildOrUpdateElements(c),g=Math.max(+b.getMaxOverflow(),g)}g=this._minPadding=c.layout.autoPadding?g:0,this._updateLayout(g),d||(0,e.F)(f,a=>{a.reset()}),this._updateDatasets(a),this.notifyPlugins("afterUpdate",{mode:a}),this._layers.sort(ag("z","_idx"));let{_active:h,_lastEvent:i}=this;i?this._eventHandler(i,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){(0,e.F)(this.scales,a=>{L.removeBox(this,a)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let a=this.options,b=new Set(Object.keys(this._listeners)),c=new Set(a.events);(0,e.ag)(b,c)&&!!this._responsiveListeners===a.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:a}=this;for(let{method:b,start:c,count:d}of this._getUniformDataChanges()||[]){let e="_removeElements"===b?-d:d;for(let b of Object.keys(a)){let d=+b;if(d>=c){let f=a[b];delete a[b],(e>0||d>c)&&(a[d+e]=f)}}}}_getUniformDataChanges(){let a=this._dataChanges;if(!a||!a.length)return;this._dataChanges=[];let b=this.data.datasets.length,c=b=>new Set(a.filter(a=>a[0]===b).map((a,b)=>b+","+a.splice(1).join(","))),d=c(0);for(let a=1;a<b;a++)if(!(0,e.ag)(d,c(a)))return;return Array.from(d).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(a){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;L.update(this,this.width,this.height,a);let b=this.chartArea,c=b.width<=0||b.height<=0;this._layers=[],(0,e.F)(this.boxes,a=>{c&&"chartArea"===a.position||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,b)=>{a._idx=b}),this.notifyPlugins("afterLayout")}_updateDatasets(a){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:a,cancelable:!0})){for(let a=0,b=this.data.datasets.length;a<b;++a)this.getDatasetMeta(a).controller.configure();for(let b=0,c=this.data.datasets.length;b<c;++b)this._updateDataset(b,(0,e.a7)(a)?a({datasetIndex:b}):a);this.notifyPlugins("afterDatasetsUpdate",{mode:a})}}_updateDataset(a,b){let c=this.getDatasetMeta(a),d={meta:c,index:a,mode:b,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",d)&&(c.controller._update(b),d.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",d))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(h.has(this)?this.attached&&!h.running(this)&&h.start(this):(this.draw(),ah({chart:this})))}draw(){let a;if(this._resizeBeforeDraw){let{width:a,height:b}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,b)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;let b=this._layers;for(a=0;a<b.length&&b[a].z<=0;++a)b[a].draw(this.chartArea);for(this._drawDatasets();a<b.length;++a)b[a].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(a){let b,c,d=this._sortedMetasets,e=[];for(b=0,c=d.length;b<c;++b){let c=d[b];(!a||c.visible)&&e.push(c)}return e}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;let a=this.getSortedVisibleDatasetMetas();for(let b=a.length-1;b>=0;--b)this._drawDataset(a[b]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(a){let b=this.ctx,c={meta:a,index:a.index,cancelable:!0},d=(0,e.ah)(this,a);!1!==this.notifyPlugins("beforeDatasetDraw",c)&&(d&&(0,e.Y)(b,d),a.controller.draw(),d&&(0,e.$)(b),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(a){return(0,e.C)(a,this.chartArea,this._minPadding)}getElementsAtEventForMode(a,b,c,d){let e=C.modes[b];return"function"==typeof e?e(this,a,c,d):[]}getDatasetMeta(a){let b=this.data.datasets[a],c=this._metasets,d=c.filter(a=>a&&a._dataset===b).pop();return d||(d={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:b&&b.order||0,index:a,_dataset:b,_parsed:[],_sorted:!1},c.push(d)),d}getContext(){return this.$context||(this.$context=(0,e.j)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(a){let b=this.data.datasets[a];if(!b)return!1;let c=this.getDatasetMeta(a);return"boolean"==typeof c.hidden?!c.hidden:!b.hidden}setDatasetVisibility(a,b){this.getDatasetMeta(a).hidden=!b}toggleDataVisibility(a){this._hiddenIndices[a]=!this._hiddenIndices[a]}getDataVisibility(a){return!this._hiddenIndices[a]}_updateVisibility(a,b,c){let d=c?"show":"hide",f=this.getDatasetMeta(a),g=f.controller._resolveAnimations(void 0,d);(0,e.h)(b)?(f.data[b].hidden=!c,this.update()):(this.setDatasetVisibility(a,c),g.update(f,{visible:c}),this.update(b=>b.datasetIndex===a?d:void 0))}hide(a,b){this._updateVisibility(a,b,!1)}show(a,b){this._updateVisibility(a,b,!0)}_destroyDatasetMeta(a){let b=this._metasets[a];b&&b.controller&&b.controller._destroy(),delete this._metasets[a]}_stop(){let a,b;for(this.stop(),h.remove(this),a=0,b=this.data.datasets.length;a<b;++a)this._destroyDatasetMeta(a)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:a,ctx:b}=this;this._stop(),this.config.clearCache(),a&&(this.unbindEvents(),(0,e.af)(a,b),this.platform.releaseContext(b),this.canvas=null,this.ctx=null),delete bW[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...a){return this.canvas.toDataURL(...a)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let a=this._listeners,b=this.platform,c=(c,d)=>{b.addEventListener(this,c,d),a[c]=d},d=(a,b,c)=>{a.offsetX=b,a.offsetY=c,this._eventHandler(a)};(0,e.F)(this.options.events,a=>c(a,d))}bindResponsiveEvents(){let a;this._responsiveListeners||(this._responsiveListeners={});let b=this._responsiveListeners,c=this.platform,d=(a,d)=>{c.addEventListener(this,a,d),b[a]=d},e=(a,d)=>{b[a]&&(c.removeEventListener(this,a,d),delete b[a])},f=(a,b)=>{this.canvas&&this.resize(a,b)},g=()=>{e("attach",g),this.attached=!0,this.resize(),d("resize",f),d("detach",a)};a=()=>{this.attached=!1,e("resize",f),this._stop(),this._resize(0,0),d("attach",g)},c.isAttached(this.canvas)?g():a()}unbindEvents(){(0,e.F)(this._listeners,(a,b)=>{this.platform.removeEventListener(this,b,a)}),this._listeners={},(0,e.F)(this._responsiveListeners,(a,b)=>{this.platform.removeEventListener(this,b,a)}),this._responsiveListeners=void 0}updateHoverStyle(a,b,c){let d,e,f,g=c?"set":"remove";for("dataset"===b&&this.getDatasetMeta(a[0].datasetIndex).controller["_"+g+"DatasetHoverStyle"](),e=0,f=a.length;e<f;++e){let b=(d=a[e])&&this.getDatasetMeta(d.datasetIndex).controller;b&&b[g+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(a){let b=this._active||[],c=a.map(({datasetIndex:a,index:b})=>{let c=this.getDatasetMeta(a);if(!c)throw Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[b],index:b}});(0,e.ai)(c,b)||(this._active=c,this._lastEvent=null,this._updateHoverStyles(c,b))}notifyPlugins(a,b,c){return this._plugins.notify(this,a,b,c)}isPluginEnabled(a){return 1===this._plugins._cache.filter(b=>b.plugin.id===a).length}_updateHoverStyles(a,b,c){let d=this.options.hover,e=(a,b)=>a.filter(a=>!b.some(b=>a.datasetIndex===b.datasetIndex&&a.index===b.index)),f=e(b,a),g=c?a:e(a,b);f.length&&this.updateHoverStyle(f,d.mode,!1),g.length&&d.mode&&this.updateHoverStyle(g,d.mode,!0)}_eventHandler(a,b){let c={event:a,replay:b,cancelable:!0,inChartArea:this.isPointInArea(a)},d=b=>(b.options.events||this.options.events).includes(a.native.type);if(!1===this.notifyPlugins("beforeEvent",c,d))return;let e=this._handleEvent(a,b,c.inChartArea);return c.cancelable=!1,this.notifyPlugins("afterEvent",c,d),(e||c.changed)&&this.render(),this}_handleEvent(a,b,c){var d;let{_active:f=[],options:g}=this,h=this._getActiveElements(a,f,c,b),i=(0,e.aj)(a),j=(d=this._lastEvent,c&&"mouseout"!==a.type?i?d:a:null);c&&(this._lastEvent=null,(0,e.Q)(g.onHover,[a,h,this],this),i&&(0,e.Q)(g.onClick,[a,h,this],this));let k=!(0,e.ai)(h,f);return(k||b)&&(this._active=h,this._updateHoverStyles(h,f,b)),this._lastEvent=j,k}_getActiveElements(a,b,c,d){if("mouseout"===a.type)return[];if(!c)return b;let e=this.options.hover;return this.getElementsAtEventForMode(a,e.mode,e,d)}}function ak(){return(0,e.F)(bY.instances,a=>a._plugins.invalidate())}function al(a,b,c,d){return{x:c+a*Math.cos(b),y:d+a*Math.sin(b)}}function am(a,b,c,d,f,g){let{x:h,y:i,startAngle:j,pixelMargin:k,innerRadius:l}=b,m=Math.max(b.outerRadius+d+c-k,0),n=l>0?l+d+c+k:0,o=0,p=f-j;if(d){let a=m>0?m-d:0,b=((l>0?l-d:0)+a)/2;o=(p-(0!==b?p*b/(b+d):p))/2}let q=Math.max(.001,p*m-c/e.P)/m,r=(p-q)/2,s=j+r+o,t=f-r-o,{outerStart:u,outerEnd:v,innerStart:w,innerEnd:x}=function(a,b,c,d){var f;let g=(f=a.options.borderRadius,(0,e.am)(f,["outerStart","outerEnd","innerStart","innerEnd"])),h=(c-b)/2,i=Math.min(h,d*b/2),j=a=>{let b=(c-Math.min(h,a))*d/2;return(0,e.S)(a,0,Math.min(h,b))};return{outerStart:j(g.outerStart),outerEnd:j(g.outerEnd),innerStart:(0,e.S)(g.innerStart,0,i),innerEnd:(0,e.S)(g.innerEnd,0,i)}}(b,n,m,t-s),y=m-u,z=m-v,A=s+u/y,B=t-v/z,C=n+w,D=n+x,E=s+w/C,F=t-x/D;if(a.beginPath(),g){let b=(A+B)/2;if(a.arc(h,i,m,A,b),a.arc(h,i,m,b,B),v>0){let b=al(z,B,h,i);a.arc(b.x,b.y,v,B,t+e.H)}let c=al(D,t,h,i);if(a.lineTo(c.x,c.y),x>0){let b=al(D,F,h,i);a.arc(b.x,b.y,x,t+e.H,F+Math.PI)}let d=(t-x/n+(s+w/n))/2;if(a.arc(h,i,n,t-x/n,d,!0),a.arc(h,i,n,d,s+w/n,!0),w>0){let b=al(C,E,h,i);a.arc(b.x,b.y,w,E+Math.PI,s-e.H)}let f=al(y,s,h,i);if(a.lineTo(f.x,f.y),u>0){let b=al(y,A,h,i);a.arc(b.x,b.y,u,s-e.H,A)}}else{a.moveTo(h,i);let b=Math.cos(A)*m+h,c=Math.sin(A)*m+i;a.lineTo(b,c);let d=Math.cos(B)*m+h,e=Math.sin(B)*m+i;a.lineTo(d,e)}a.closePath()}class bZ extends bJ{static{this.id="arc"}static{this.defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}}static{this.defaultRoutes={backgroundColor:"backgroundColor"}}static{this.descriptors={_scriptable:!0,_indexable:a=>"borderDash"!==a}}constructor(a){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,a&&Object.assign(this,a)}inRange(a,b,c){let d=this.getProps(["x","y"],c),{angle:f,distance:g}=(0,e.D)(d,{x:a,y:b}),{startAngle:h,endAngle:i,innerRadius:j,outerRadius:k,circumference:l}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],c),m=(this.options.spacing+this.options.borderWidth)/2,n=(0,e.v)(l,i-h),o=(0,e.p)(f,h,i)&&h!==i,p=n>=e.T||o,q=(0,e.ak)(g,j+m,k+m);return p&&q}getCenterPoint(a){let{x:b,y:c,startAngle:d,endAngle:e,innerRadius:f,outerRadius:g}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],a),{offset:h,spacing:i}=this.options,j=(d+e)/2,k=(f+g+i+h)/2;return{x:b+Math.cos(j)*k,y:c+Math.sin(j)*k}}tooltipPosition(a){return this.getCenterPoint(a)}draw(a){let{options:b,circumference:c}=this,d=(b.offset||0)/4,f=(b.spacing||0)/2,g=b.circular;if(this.pixelMargin=.33*("inner"===b.borderAlign),this.fullCircles=c>e.T?Math.floor(c/e.T):0,0===c||this.innerRadius<0||this.outerRadius<0)return;a.save();let h=(this.startAngle+this.endAngle)/2;a.translate(Math.cos(h)*d,Math.sin(h)*d);let i=1-Math.sin(Math.min(e.P,c||0)),j=d*i;a.fillStyle=b.backgroundColor,a.strokeStyle=b.borderColor,function(a,b,c,d,f){let{fullCircles:g,startAngle:h,circumference:i}=b,j=b.endAngle;if(g){am(a,b,c,d,j,f);for(let b=0;b<g;++b)a.fill();isNaN(i)||(j=h+(i%e.T||e.T))}am(a,b,c,d,j,f),a.fill()}(a,this,j,f,g),function(a,b,c,d,f){let{fullCircles:g,startAngle:h,circumference:i,options:j}=b,{borderWidth:k,borderJoinStyle:l,borderDash:m,borderDashOffset:n,borderRadius:o}=j,p="inner"===j.borderAlign;if(!k)return;a.setLineDash(m||[]),a.lineDashOffset=n,p?(a.lineWidth=2*k,a.lineJoin=l||"round"):(a.lineWidth=k,a.lineJoin=l||"bevel");let q=b.endAngle;if(g){am(a,b,c,d,q,f);for(let b=0;b<g;++b)a.stroke();isNaN(i)||(q=h+(i%e.T||e.T))}p&&function(a,b,c){let{startAngle:d,pixelMargin:f,x:g,y:h,outerRadius:i,innerRadius:j}=b,k=f/i;a.beginPath(),a.arc(g,h,i,d-k,c+k),j>f?(k=f/j,a.arc(g,h,j,c+k,d-k,!0)):a.arc(g,h,f,c+e.H,d-e.H),a.closePath(),a.clip()}(a,b,q),j.selfJoin&&q-h>=e.P&&0===o&&"miter"!==l&&function(a,b,c){let{startAngle:d,x:f,y:g,outerRadius:h,innerRadius:i,options:j}=b,{borderWidth:k,borderJoinStyle:l}=j,m=Math.min(k/h,(0,e.al)(d-c));if(a.beginPath(),a.arc(f,g,h-k/2,d+m/2,c-m/2),i>0){let b=Math.min(k/i,(0,e.al)(d-c));a.arc(f,g,i+k/2,c-b/2,d+b/2,!0)}else{let b=Math.min(k/2,h*(0,e.al)(d-c));if("round"===l)a.arc(f,g,b,c-e.P/2,d+e.P/2,!0);else if("bevel"===l){let h=2*b*b,i=-h*Math.cos(c+e.P/2)+f,j=-h*Math.sin(c+e.P/2)+g,k=h*Math.cos(d+e.P/2)+f,l=h*Math.sin(d+e.P/2)+g;a.lineTo(i,j),a.lineTo(k,l)}}a.closePath(),a.moveTo(0,0),a.rect(0,0,a.canvas.width,a.canvas.height),a.clip("evenodd")}(a,b,q),g||(am(a,b,c,d,q,f),a.stroke())}(a,this,j,f,g),a.restore()}}function an(a,b,c=b){a.lineCap=(0,e.v)(c.borderCapStyle,b.borderCapStyle),a.setLineDash((0,e.v)(c.borderDash,b.borderDash)),a.lineDashOffset=(0,e.v)(c.borderDashOffset,b.borderDashOffset),a.lineJoin=(0,e.v)(c.borderJoinStyle,b.borderJoinStyle),a.lineWidth=(0,e.v)(c.borderWidth,b.borderWidth),a.strokeStyle=(0,e.v)(c.borderColor,b.borderColor)}function ao(a,b,c){a.lineTo(c.x,c.y)}function ap(a,b,c={}){let d=a.length,{start:e=0,end:f=d-1}=c,{start:g,end:h}=b,i=Math.max(e,g),j=Math.min(f,h);return{count:d,start:i,loop:b.loop,ilen:j<i&&!(e<g&&f<g||e>h&&f>h)?d+j-i:j-i}}function aq(a,b,c,d){let f,g,h,{points:i,options:j}=b,{count:k,start:l,loop:m,ilen:n}=ap(i,c,d),o=j.stepped?e.at:j.tension||"monotone"===j.cubicInterpolationMode?e.au:ao,{move:p=!0,reverse:q}=d||{};for(f=0;f<=n;++f)(g=i[(l+(q?n-f:f))%k]).skip||(p?(a.moveTo(g.x,g.y),p=!1):o(a,h,g,q,j.stepped),h=g);return m&&(g=i[(l+(q?n:0))%k],o(a,h,g,q,j.stepped)),!!m}function ar(a,b,c,d){let e,f,g,h,i,j,k=b.points,{count:l,start:m,ilen:n}=ap(k,c,d),{move:o=!0,reverse:p}=d||{},q=0,r=0,s=a=>(m+(p?n-a:a))%l,t=()=>{h!==i&&(a.lineTo(q,i),a.lineTo(q,h),a.lineTo(q,j))};for(o&&(f=k[s(0)],a.moveTo(f.x,f.y)),e=0;e<=n;++e){if((f=k[s(e)]).skip)continue;let b=f.x,c=f.y,d=0|b;d===g?(c<h?h=c:c>i&&(i=c),q=(r*q+b)/++r):(t(),a.lineTo(b,c),g=d,r=0,h=i=c),j=c}t()}function as(a){let b=a.options,c=b.borderDash&&b.borderDash.length;return a._decimated||a._loop||b.tension||"monotone"===b.cubicInterpolationMode||b.stepped||c?aq:ar}let b$="function"==typeof Path2D;class b_ extends bJ{static{this.id="line"}static{this.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}}static{this.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"}}static{this.descriptors={_scriptable:!0,_indexable:a=>"borderDash"!==a&&"fill"!==a}}constructor(a){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,a&&Object.assign(this,a)}updateControlPoints(a,b){let c=this.options;if((c.tension||"monotone"===c.cubicInterpolationMode)&&!c.stepped&&!this._pointsUpdated){let d=c.spanGaps?this._loop:this._fullLoop;(0,e.an)(this._points,c,a,d,b),this._pointsUpdated=!0}}set points(a){this._points=a,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,e.ao)(this,this.options.segment))}first(){let a=this.segments,b=this.points;return a.length&&b[a[0].start]}last(){let a=this.segments,b=this.points,c=a.length;return c&&b[a[c-1].end]}interpolate(a,b){let c,d,f=this.options,g=a[b],h=this.points,i=(0,e.ap)(this,{property:b,start:g,end:g});if(!i.length)return;let j=[],k=f.stepped?e.aq:f.tension||"monotone"===f.cubicInterpolationMode?e.ar:e.as;for(c=0,d=i.length;c<d;++c){let{start:d,end:e}=i[c],l=h[d],m=h[e];if(l===m){j.push(l);continue}let n=Math.abs((g-l[b])/(m[b]-l[b])),o=k(l,m,n,f.stepped);o[b]=a[b],j.push(o)}return 1===j.length?j[0]:j}pathSegment(a,b,c){return as(this)(a,this,b,c)}path(a,b,c){let d=this.segments,e=as(this),f=this._loop;for(let g of(b=b||0,c=c||this.points.length-b,d))f&=e(a,this,g,{start:b,end:b+c-1});return!!f}draw(a,b,c,d){let e=this.options||{};(this.points||[]).length&&e.borderWidth&&(a.save(),function(a,b,c,d){if(b$&&!b.options.segment){let e;(e=b._path)||(e=b._path=new Path2D,b.path(e,c,d)&&e.closePath()),an(a,b.options),a.stroke(e)}else{let{segments:e,options:f}=b,g=as(b);for(let h of e)an(a,f,h.style),a.beginPath(),g(a,b,h,{start:c,end:c+d-1})&&a.closePath(),a.stroke()}}(a,this,c,d),a.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function at(a,b,c,d){let e=a.options,{[c]:f}=a.getProps([c],d);return Math.abs(b-f)<e.radius+e.hitRadius}class b0 extends bJ{static{this.id="point"}static{this.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}}static{this.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"}}constructor(a){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,a&&Object.assign(this,a)}inRange(a,b,c){let d=this.options,{x:e,y:f}=this.getProps(["x","y"],c);return Math.pow(a-e,2)+Math.pow(b-f,2)<Math.pow(d.hitRadius+d.radius,2)}inXRange(a,b){return at(this,a,"x",b)}inYRange(a,b){return at(this,a,"y",b)}getCenterPoint(a){let{x:b,y:c}=this.getProps(["x","y"],a);return{x:b,y:c}}size(a){let b=(a=a||this.options||{}).radius||0,c=(b=Math.max(b,b&&a.hoverRadius||0))&&a.borderWidth||0;return(b+c)*2}draw(a,b){let c=this.options;!this.skip&&!(c.radius<.1)&&(0,e.C)(this,b,this.size(c)/2)&&(a.strokeStyle=c.borderColor,a.lineWidth=c.borderWidth,a.fillStyle=c.backgroundColor,(0,e.av)(a,c,this.x,this.y))}getRange(){let a=this.options||{};return a.radius+a.hitRadius}}function au(a,b){let c,d,e,f,g,{x:h,y:i,base:j,width:k,height:l}=a.getProps(["x","y","base","width","height"],b);return a.horizontal?(g=l/2,c=Math.min(h,j),d=Math.max(h,j),e=i-g,f=i+g):(g=k/2,c=h-g,d=h+g,e=Math.min(i,j),f=Math.max(i,j)),{left:c,top:e,right:d,bottom:f}}function av(a,b,c,d){return a?0:(0,e.S)(b,c,d)}function aw(a,b,c,d){let f=null===b,g=null===c,h=a&&!(f&&g)&&au(a,d);return h&&(f||(0,e.ak)(b,h.left,h.right))&&(g||(0,e.ak)(c,h.top,h.bottom))}function ax(a,b){a.rect(b.x,b.y,b.w,b.h)}function ay(a,b,c={}){let d=a.x!==c.x?-b:0,e=a.y!==c.y?-b:0,f=(a.x+a.w!==c.x+c.w?b:0)-d,g=(a.y+a.h!==c.y+c.h?b:0)-e;return{x:a.x+d,y:a.y+e,w:a.w+f,h:a.h+g,radius:a.radius}}class b1 extends bJ{static{this.id="bar"}static{this.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}}static{this.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"}}constructor(a){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,a&&Object.assign(this,a)}draw(a){var b;let{inflateAmount:c,options:{borderColor:d,backgroundColor:f}}=this,{inner:g,outer:h}=function(a){let b=au(a),c=b.right-b.left,d=b.bottom-b.top,f=function(a,b,c){let d=a.options.borderWidth,f=a.borderSkipped,g=(0,e.ax)(d);return{t:av(f.top,g.top,0,c),r:av(f.right,g.right,0,b),b:av(f.bottom,g.bottom,0,c),l:av(f.left,g.left,0,b)}}(a,c/2,d/2),g=function(a,b,c){let{enableBorderRadius:d}=a.getProps(["enableBorderRadius"]),f=a.options.borderRadius,g=(0,e.ay)(f),h=Math.min(b,c),i=a.borderSkipped,j=d||(0,e.i)(f);return{topLeft:av(!j||i.top||i.left,g.topLeft,0,h),topRight:av(!j||i.top||i.right,g.topRight,0,h),bottomLeft:av(!j||i.bottom||i.left,g.bottomLeft,0,h),bottomRight:av(!j||i.bottom||i.right,g.bottomRight,0,h)}}(a,c/2,d/2);return{outer:{x:b.left,y:b.top,w:c,h:d,radius:g},inner:{x:b.left+f.l,y:b.top+f.t,w:c-f.l-f.r,h:d-f.t-f.b,radius:{topLeft:Math.max(0,g.topLeft-Math.max(f.t,f.l)),topRight:Math.max(0,g.topRight-Math.max(f.t,f.r)),bottomLeft:Math.max(0,g.bottomLeft-Math.max(f.b,f.l)),bottomRight:Math.max(0,g.bottomRight-Math.max(f.b,f.r))}}}}(this),i=(b=h.radius).topLeft||b.topRight||b.bottomLeft||b.bottomRight?e.aw:ax;a.save(),(h.w!==g.w||h.h!==g.h)&&(a.beginPath(),i(a,ay(h,c,g)),a.clip(),i(a,ay(g,-c,h)),a.fillStyle=d,a.fill("evenodd")),a.beginPath(),i(a,ay(g,c)),a.fillStyle=f,a.fill(),a.restore()}inRange(a,b,c){return aw(this,a,b,c)}inXRange(a,b){return aw(this,a,null,b)}inYRange(a,b){return aw(this,null,a,b)}getCenterPoint(a){let{x:b,y:c,base:d,horizontal:e}=this.getProps(["x","y","base","horizontal"],a);return{x:e?(b+d)/2:b,y:e?c:(c+d)/2}}getRange(a){return"x"===a?this.width/2:this.height/2}}var az=Object.freeze({__proto__:null,ArcElement:bZ,BarElement:b1,LineElement:b_,PointElement:b0});let b2=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],b3=b2.map(a=>a.replace("rgb(","rgba(").replace(")",", 0.5)"));function aA(a){return b2[a%b2.length]}function aB(a){return b3[a%b3.length]}function aC(a){let b;for(b in a)if(a[b].borderColor||a[b].backgroundColor)return!0;return!1}var aD={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(a,b,c){let d;if(!c.enabled)return;let{data:{datasets:f},options:g}=a.config,{elements:h}=g,i=aC(f)||g&&(g.borderColor||g.backgroundColor)||h&&aC(h)||"rgba(0,0,0,0.1)"!==e.d.borderColor||"rgba(0,0,0,0.1)"!==e.d.backgroundColor;if(!c.forceOverride&&i)return;let j=(d=0,(b,c)=>{var e,f,g;let h=a.getDatasetMeta(c).controller;h instanceof bs?(e=d,b.backgroundColor=b.data.map(()=>aA(e++)),d=e):h instanceof bu?(f=d,b.backgroundColor=b.data.map(()=>aB(f++)),d=f):h&&(g=d,b.borderColor=aA(g),b.backgroundColor=aB(g),d=++g)});f.forEach(j)}};function aE(a){if(a._decimated){let b=a._data;delete a._decimated,delete a._data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,writable:!0,value:b})}}function aF(a){a.data.datasets.forEach(a=>{aE(a)})}var aG={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(a,b,c)=>{if(!c.enabled)return void aF(a);let d=a.width;a.data.datasets.forEach((b,f)=>{let g,{_data:h,indexAxis:i}=b,j=a.getDatasetMeta(f),k=h||b.data;if("y"===(0,e.a)([i,a.options.indexAxis])||!j.controller.supportsDecimation)return;let l=a.scales[j.xAxisID];if("linear"!==l.type&&"time"!==l.type||a.options.parsing)return;let{start:m,count:n}=function(a,b){let c,d=b.length,f=0,{iScale:g}=a,{min:h,max:i,minDefined:j,maxDefined:k}=g.getUserBounds();return j&&(f=(0,e.S)((0,e.B)(b,g.axis,h).lo,0,d-1)),c=k?(0,e.S)((0,e.B)(b,g.axis,i).hi+1,f,d)-f:d-f,{start:f,count:c}}(j,k),o=c.threshold||4*d;if(n<=o)return void aE(b);switch((0,e.k)(h)&&(b._data=k,delete b.data,Object.defineProperty(b,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(a){this._data=a}})),c.algorithm){case"lttb":g=function(a,b,c,d,e){let f,g,h,i,j,k=e.samples||d;if(k>=c)return a.slice(b,b+c);let l=[],m=(c-2)/(k-2),n=0,o=b+c-1,p=b;for(f=0,l[n++]=a[p];f<k-2;f++){let d,e=0,k=0,o=Math.floor((f+1)*m)+1+b,q=Math.min(Math.floor((f+2)*m)+1,c)+b,r=q-o;for(d=o;d<q;d++)e+=a[d].x,k+=a[d].y;e/=r,k/=r;let s=Math.floor(f*m)+1+b,t=Math.min(Math.floor((f+1)*m)+1,c)+b,{x:u,y:v}=a[p];for(h=i=-1,d=s;d<t;d++)(i=.5*Math.abs((u-e)*(a[d].y-v)-(u-a[d].x)*(k-v)))>h&&(h=i,g=a[d],j=d);l[n++]=g,p=j}return l[n++]=a[o],l}(k,m,n,d,c);break;case"min-max":g=function(a,b,c,d){let f,g,h,i,j,k,l,m,n,o,p=0,q=0,r=[],s=a[b].x,t=a[b+c-1].x-s;for(f=b;f<b+c;++f){h=((g=a[f]).x-s)/t*d,i=g.y;let b=0|h;if(b===j)i<n?(n=i,k=f):i>o&&(o=i,l=f),p=(q*p+g.x)/++q;else{let c=f-1;if(!(0,e.k)(k)&&!(0,e.k)(l)){let b=Math.min(k,l),d=Math.max(k,l);b!==m&&b!==c&&r.push({...a[b],x:p}),d!==m&&d!==c&&r.push({...a[d],x:p})}f>0&&c!==m&&r.push(a[c]),r.push(g),j=b,q=0,n=o=i,k=l=m=f}}return r}(k,m,n,d);break;default:throw Error(`Unsupported decimation algorithm '${c.algorithm}'`)}b._decimated=g})},destroy(a){aF(a)}};function aH(a,b,c,d){if(d)return;let f=b[a],g=c[a];return"angle"===a&&(f=(0,e.al)(f),g=(0,e.al)(g)),{property:a,start:f,end:g}}function aI(a,b,c){for(;b>a;b--){let a=c[b];if(!isNaN(a.x)&&!isNaN(a.y))break}return b}function aJ(a,b,c,d){return a&&b?d(a[c],b[c]):a?a[c]:b?b[c]:0}function aK(a,b){let c=[],d=!1;return(0,e.b)(a)?(d=!0,c=a):c=function(a,b){let{x:c=null,y:d=null}=a||{},e=b.points,f=[];return b.segments.forEach(({start:a,end:b})=>{b=aI(a,b,e);let g=e[a],h=e[b];null!==d?(f.push({x:g.x,y:d}),f.push({x:h.x,y:d})):null!==c&&(f.push({x:c,y:g.y}),f.push({x:c,y:h.y}))}),f}(a,b),c.length?new b_({points:c,options:{tension:0},_loop:d,_fullLoop:d}):null}function aL(a){return a&&!1!==a.fill}class b4{constructor(a){this.x=a.x,this.y=a.y,this.radius=a.radius}pathSegment(a,b,c){let{x:d,y:f,radius:g}=this;return b=b||{start:0,end:e.T},a.arc(d,f,g,b.end,b.start,!0),!c.bounds}interpolate(a){let{x:b,y:c,radius:d}=this,e=a.angle;return{x:b+Math.cos(e)*d,y:c+Math.sin(e)*d,angle:e}}}function aM(a,b,c){let d=function(a){let{chart:b,fill:c,line:d}=a;if((0,e.g)(c)){var f,g=b,h=c;let a=g.getDatasetMeta(h);return a&&g.isDatasetVisible(h)?a.dataset:null}if("stack"===c)return function(a){let{scale:b,index:c,line:d}=a,f=[],g=d.segments,h=d.points,i=function(a,b){let c=[],d=a.getMatchingVisibleMetas("line");for(let a=0;a<d.length;a++){let e=d[a];if(e.index===b)break;e.hidden||c.unshift(e.dataset)}return c}(b,c);i.push(aK({x:null,y:b.bottom},d));for(let a=0;a<g.length;a++){let b=g[a];for(let a=b.start;a<=b.end;a++)!function(a,b,c){let d=[];for(let f=0;f<c.length;f++){let g=c[f],{first:h,last:i,point:j}=function(a,b,c){let d=a.interpolate(b,"x");if(!d)return{};let f=d[c],g=a.segments,h=a.points,i=!1,j=!1;for(let a=0;a<g.length;a++){let b=g[a],d=h[b.start][c],k=h[b.end][c];if((0,e.ak)(f,d,k)){i=f===d,j=f===k;break}}return{first:i,last:j,point:d}}(g,b,"x");if(j&&(!h||!i)){if(h)d.unshift(j);else if(a.push(j),!i)break}}a.push(...d)}(f,h[a],i)}return new b_({points:f,options:{}})}(a);if("shape"===c)return!0;let i=((f=a).scale||{}).getPointPositionForValue?function(a){let{scale:b,fill:c}=a,d=b.options,f=b.getLabels().length,g=d.reverse?b.max:b.min,h="start"===c?g:"end"===c?b.options.reverse?b.min:b.max:(0,e.i)(c)?c.value:b.getBaseValue(),i=[];if(d.grid.circular){let a=b.getPointPositionForValue(0,g);return new b4({x:a.x,y:a.y,radius:b.getDistanceFromCenterForValue(h)})}for(let a=0;a<f;++a)i.push(b.getPointPositionForValue(a,h));return i}(f):function(a){let b,{scale:c={},fill:d}=a,f=(b=null,"start"===d?b=c.bottom:"end"===d?b=c.top:(0,e.i)(d)?b=c.getPixelForValue(d.value):c.getBasePixel&&(b=c.getBasePixel()),b);if((0,e.g)(f)){let a=c.isHorizontal();return{x:a?f:null,y:a?null:f}}return null}(f);return i instanceof b4?i:aK(i,d)}(b),{chart:f,index:g,line:h,scale:i,axis:j}=b,k=h.options,l=k.fill,m=k.backgroundColor,{above:n=m,below:o=m}=l||{},p=f.getDatasetMeta(g),q=(0,e.ah)(f,p);d&&h.points.length&&((0,e.Y)(a,c),function(a,b){let{line:c,target:d,above:e,below:f,area:g,scale:h,clip:i}=b,j=c._loop?"angle":b.axis;a.save();let k=f;f!==e&&("x"===j?(aN(a,d,g.top),aP(a,{line:c,target:d,color:e,scale:h,property:j,clip:i}),a.restore(),a.save(),aN(a,d,g.bottom)):"y"===j&&(aO(a,d,g.left),aP(a,{line:c,target:d,color:f,scale:h,property:j,clip:i}),a.restore(),a.save(),aO(a,d,g.right),k=e)),aP(a,{line:c,target:d,color:k,scale:h,property:j,clip:i}),a.restore()}(a,{line:h,target:d,above:n,below:o,area:c,scale:i,axis:j,clip:q}),(0,e.$)(a))}function aN(a,b,c){let{segments:d,points:e}=b,f=!0,g=!1;for(let h of(a.beginPath(),d)){let{start:d,end:i}=h,j=e[d],k=e[aI(d,i,e)];f?(a.moveTo(j.x,j.y),f=!1):(a.lineTo(j.x,c),a.lineTo(j.x,j.y)),(g=!!b.pathSegment(a,h,{move:g}))?a.closePath():a.lineTo(k.x,c)}a.lineTo(b.first().x,c),a.closePath(),a.clip()}function aO(a,b,c){let{segments:d,points:e}=b,f=!0,g=!1;for(let h of(a.beginPath(),d)){let{start:d,end:i}=h,j=e[d],k=e[aI(d,i,e)];f?(a.moveTo(j.x,j.y),f=!1):(a.lineTo(c,j.y),a.lineTo(j.x,j.y)),(g=!!b.pathSegment(a,h,{move:g}))?a.closePath():a.lineTo(c,k.y)}a.lineTo(c,b.first().y),a.closePath(),a.clip()}function aP(a,b){let{line:c,target:d,property:f,color:g,scale:h,clip:i}=b;for(let{source:b,target:j,start:k,end:l}of function(a,b,c){let d=a.segments,f=a.points,g=b.points,h=[];for(let a of d){let{start:d,end:i}=a;i=aI(d,i,f);let j=aH(c,f[d],f[i],a.loop);if(!b.segments){h.push({source:a,target:j,start:f[d],end:f[i]});continue}for(let d of(0,e.ap)(b,j)){let b=aH(c,g[d.start],g[d.end],d.loop);for(let g of(0,e.az)(a,f,b))h.push({source:g,target:d,start:{[c]:aJ(j,b,"start",Math.max)},end:{[c]:aJ(j,b,"end",Math.min)}})}}return h}(c,d,f)){let e,{style:{backgroundColor:m=g}={}}=b,n=!0!==d;a.save(),a.fillStyle=m,function(a,b,c,d){let e=b.chart.chartArea,{property:f,start:g,end:h}=d||{};if("x"===f||"y"===f){let b,d,i,j;"x"===f?(b=g,d=e.top,i=h,j=e.bottom):(b=e.left,d=g,i=e.right,j=h),a.beginPath(),c&&(b=Math.max(b,c.left),i=Math.min(i,c.right),d=Math.max(d,c.top),j=Math.min(j,c.bottom)),a.rect(b,d,i-b,j-d),a.clip()}}(a,h,i,n&&aH(f,k,l)),a.beginPath();let o=!!c.pathSegment(a,b);if(n){o?a.closePath():aQ(a,d,l,f);let b=!!d.pathSegment(a,j,{move:o,reverse:!0});(e=o&&b)||aQ(a,d,k,f)}a.closePath(),a.fill(e?"evenodd":"nonzero"),a.restore()}}function aQ(a,b,c,d){let e=b.interpolate(c,d);e&&a.lineTo(e.x,e.y)}var aR={id:"filler",afterDatasetsUpdate(a,b,c){let d,f,g,h,i=(a.data.datasets||[]).length,j=[];for(f=0;f<i;++f)g=(d=a.getDatasetMeta(f)).dataset,h=null,g&&g.options&&g instanceof b_&&(h={visible:a.isDatasetVisible(f),index:f,fill:function(a,b,c){var d,f,g,h;let i=function(a){let b=a.options,c=b.fill,d=(0,e.v)(c&&c.target,c);return void 0===d&&(d=!!b.backgroundColor),!1!==d&&null!==d&&(!0===d?"origin":d)}(a);if((0,e.i)(i))return!isNaN(i.value)&&i;let j=parseFloat(i);return(0,e.g)(j)&&Math.floor(j)===j?(d=i[0],f=b,g=j,h=c,("-"===d||"+"===d)&&(g=f+g),g!==f&&!(g<0)&&!(g>=h)&&g):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}(g,f,i),chart:a,axis:d.controller.options.indexAxis,scale:d.vScale,line:g}),d.$filler=h,j.push(h);for(f=0;f<i;++f)(h=j[f])&&!1!==h.fill&&(h.fill=function(a,b,c){let d,f=a[b].fill,g=[b];if(!c)return f;for(;!1!==f&&-1===g.indexOf(f);){if(!(0,e.g)(f))return f;if(!(d=a[f]))break;if(d.visible)return f;g.push(f),f=d.fill}return!1}(j,f,c.propagate))},beforeDraw(a,b,c){let d="beforeDraw"===c.drawTime,e=a.getSortedVisibleDatasetMetas(),f=a.chartArea;for(let b=e.length-1;b>=0;--b){let c=e[b].$filler;c&&(c.line.updateControlPoints(f,c.axis),d&&c.fill&&aM(a.ctx,c,f))}},beforeDatasetsDraw(a,b,c){if("beforeDatasetsDraw"!==c.drawTime)return;let d=a.getSortedVisibleDatasetMetas();for(let b=d.length-1;b>=0;--b){let c=d[b].$filler;aL(c)&&aM(a.ctx,c,a.chartArea)}},beforeDatasetDraw(a,b,c){let d=b.meta.$filler;aL(d)&&"beforeDatasetDraw"===c.drawTime&&aM(a.ctx,d,a.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};let b5=(a,b)=>{let{boxHeight:c=b,boxWidth:d=b}=a;return a.usePointStyle&&(c=Math.min(c,b),d=a.pointStyleWidth||Math.min(d,b)),{boxWidth:d,boxHeight:c,itemHeight:Math.max(b,c)}};class b6 extends bJ{constructor(a){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,b,c){this.maxWidth=a,this.maxHeight=b,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let a=this.options.labels||{},b=(0,e.Q)(a.generateLabels,[this.chart],this)||[];a.filter&&(b=b.filter(b=>a.filter(b,this.chart.data))),a.sort&&(b=b.sort((b,c)=>a.sort(b,c,this.chart.data))),this.options.reverse&&b.reverse(),this.legendItems=b}fit(){let a,b,{options:c,ctx:d}=this;if(!c.display){this.width=this.height=0;return}let f=c.labels,g=(0,e.a0)(f.font),h=g.size,i=this._computeTitleHeight(),{boxWidth:j,itemHeight:k}=b5(f,h);d.font=g.string,this.isHorizontal()?(a=this.maxWidth,b=this._fitRows(i,h,j,k)+10):(b=this.maxHeight,a=this._fitCols(i,g,j,k)+10),this.width=Math.min(a,c.maxWidth||this.maxWidth),this.height=Math.min(b,c.maxHeight||this.maxHeight)}_fitRows(a,b,c,d){let{ctx:e,maxWidth:f,options:{labels:{padding:g}}}=this,h=this.legendHitBoxes=[],i=this.lineWidths=[0],j=d+g,k=a;e.textAlign="left",e.textBaseline="middle";let l=-1,m=-j;return this.legendItems.forEach((a,n)=>{let o=c+b/2+e.measureText(a.text).width;(0===n||i[i.length-1]+o+2*g>f)&&(k+=j,i[i.length-(n>0?0:1)]=0,m+=j,l++),h[n]={left:0,top:m,row:l,width:o,height:d},i[i.length-1]+=o+g}),k}_fitCols(a,b,c,d){let{ctx:e,maxHeight:f,options:{labels:{padding:g}}}=this,h=this.legendHitBoxes=[],i=this.columnSizes=[],j=f-a,k=g,l=0,m=0,n=0,o=0;return this.legendItems.forEach((a,f)=>{let{itemWidth:p,itemHeight:q}=function(a,b,c,d,e){var f,g,h,i,j,k,l;let m,n,o=(f=d,g=a,h=b,i=c,(m=f.text)&&"string"!=typeof m&&(m=m.reduce((a,b)=>a.length>b.length?a:b)),g+h.size/2+i.measureText(m).width),p=(j=e,k=d,l=b.lineHeight,n=j,"string"!=typeof k.text&&(n=aS(k,l)),n);return{itemWidth:o,itemHeight:p}}(c,b,e,a,d);f>0&&m+q+2*g>j&&(k+=l+g,i.push({width:l,height:m}),n+=l+g,o++,l=m=0),h[f]={left:n,top:m,col:o,width:p,height:q},l=Math.max(l,p),m+=q+g}),k+=l,i.push({width:l,height:m}),k}adjustHitBoxes(){if(!this.options.display)return;let a=this._computeTitleHeight(),{legendHitBoxes:b,options:{align:c,labels:{padding:d},rtl:f}}=this,g=(0,e.aA)(f,this.left,this.width);if(this.isHorizontal()){let f=0,h=(0,e.a2)(c,this.left+d,this.right-this.lineWidths[f]);for(let i of b)f!==i.row&&(f=i.row,h=(0,e.a2)(c,this.left+d,this.right-this.lineWidths[f])),i.top+=this.top+a+d,i.left=g.leftForLtr(g.x(h),i.width),h+=i.width+d}else{let f=0,h=(0,e.a2)(c,this.top+a+d,this.bottom-this.columnSizes[f].height);for(let i of b)i.col!==f&&(f=i.col,h=(0,e.a2)(c,this.top+a+d,this.bottom-this.columnSizes[f].height)),i.top=h,i.left+=this.left+d,i.left=g.leftForLtr(g.x(i.left),i.width),h+=i.height+d}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){let a=this.ctx;(0,e.Y)(a,this),this._draw(),(0,e.$)(a)}}_draw(){let a,{options:b,columnSizes:c,lineWidths:d,ctx:f}=this,{align:g,labels:h}=b,i=e.d.color,j=(0,e.aA)(b.rtl,this.left,this.width),k=(0,e.a0)(h.font),{padding:l}=h,m=k.size,n=m/2;this.drawTitle(),f.textAlign=j.textAlign("left"),f.textBaseline="middle",f.lineWidth=.5,f.font=k.string;let{boxWidth:o,boxHeight:p,itemHeight:q}=b5(h,m),r=function(a,b,c){if(isNaN(o)||o<=0||isNaN(p)||p<0)return;f.save();let d=(0,e.v)(c.lineWidth,1);if(f.fillStyle=(0,e.v)(c.fillStyle,i),f.lineCap=(0,e.v)(c.lineCap,"butt"),f.lineDashOffset=(0,e.v)(c.lineDashOffset,0),f.lineJoin=(0,e.v)(c.lineJoin,"miter"),f.lineWidth=d,f.strokeStyle=(0,e.v)(c.strokeStyle,i),f.setLineDash((0,e.v)(c.lineDash,[])),h.usePointStyle){let g={radius:p*Math.SQRT2/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:d},i=j.xPlus(a,o/2);(0,e.aE)(f,g,i,b+n,h.pointStyleWidth&&o)}else{let g=b+Math.max((m-p)/2,0),h=j.leftForLtr(a,o),i=(0,e.ay)(c.borderRadius);f.beginPath(),Object.values(i).some(a=>0!==a)?(0,e.aw)(f,{x:h,y:g,w:o,h:p,radius:i}):f.rect(h,g,o,p),f.fill(),0!==d&&f.stroke()}f.restore()},s=function(a,b,c){(0,e.Z)(f,c.text,a,b+q/2,k,{strikethrough:c.hidden,textAlign:j.textAlign(c.textAlign)})},t=this.isHorizontal(),u=this._computeTitleHeight();a=t?{x:(0,e.a2)(g,this.left+l,this.right-d[0]),y:this.top+l+u,line:0}:{x:this.left+l,y:(0,e.a2)(g,this.top+u+l,this.bottom-c[0].height),line:0},(0,e.aB)(this.ctx,b.textDirection);let v=q+l;this.legendItems.forEach((i,m)=>{f.strokeStyle=i.fontColor,f.fillStyle=i.fontColor;let p=f.measureText(i.text).width,q=j.textAlign(i.textAlign||(i.textAlign=h.textAlign)),w=o+n+p,x=a.x,y=a.y;j.setWidth(this.width),t?m>0&&x+w+l>this.right&&(y=a.y+=v,a.line++,x=a.x=(0,e.a2)(g,this.left+l,this.right-d[a.line])):m>0&&y+v>this.bottom&&(x=a.x=x+c[a.line].width+l,a.line++,y=a.y=(0,e.a2)(g,this.top+u+l,this.bottom-c[a.line].height));let z=j.x(x);if(r(z,y,i),x=(0,e.aC)(q,x+o+n,t?x+w:this.right,b.rtl),s(j.x(x),y,i),t)a.x+=w+l;else if("string"!=typeof i.text){let b=k.lineHeight;a.y+=aS(i,b)+l}else a.y+=v}),(0,e.aD)(this.ctx,b.textDirection)}drawTitle(){let a,b=this.options,c=b.title,d=(0,e.a0)(c.font),f=(0,e.E)(c.padding);if(!c.display)return;let g=(0,e.aA)(b.rtl,this.left,this.width),h=this.ctx,i=c.position,j=d.size/2,k=f.top+j,l=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),a=this.top+k,l=(0,e.a2)(b.align,l,this.right-m);else{let c=this.columnSizes.reduce((a,b)=>Math.max(a,b.height),0);a=k+(0,e.a2)(b.align,this.top,this.bottom-c-b.labels.padding-this._computeTitleHeight())}let n=(0,e.a2)(i,l,l+m);h.textAlign=g.textAlign((0,e.a1)(i)),h.textBaseline="middle",h.strokeStyle=c.color,h.fillStyle=c.color,h.font=d.string,(0,e.Z)(h,c.text,n,a,d)}_computeTitleHeight(){let a=this.options.title,b=(0,e.a0)(a.font),c=(0,e.E)(a.padding);return a.display?b.lineHeight+c.height:0}_getLegendItemAt(a,b){let c,d,f;if((0,e.ak)(a,this.left,this.right)&&(0,e.ak)(b,this.top,this.bottom)){for(c=0,f=this.legendHitBoxes;c<f.length;++c)if(d=f[c],(0,e.ak)(a,d.left,d.left+d.width)&&(0,e.ak)(b,d.top,d.top+d.height))return this.legendItems[c]}return null}handleEvent(a){var b,c;let d=this.options;if(b=a.type,c=d,("mousemove"!==b&&"mouseout"!==b||!c.onHover&&!c.onLeave)&&(!c.onClick||"click"!==b&&"mouseup"!==b))return;let f=this._getLegendItemAt(a.x,a.y);if("mousemove"===a.type||"mouseout"===a.type){let b=this._hoveredItem,c=null!==b&&null!==f&&b.datasetIndex===f.datasetIndex&&b.index===f.index;b&&!c&&(0,e.Q)(d.onLeave,[a,b,this],this),this._hoveredItem=f,f&&!c&&(0,e.Q)(d.onHover,[a,f,this],this)}else f&&(0,e.Q)(d.onClick,[a,f,this],this)}}function aS(a,b){let c=a.text?a.text.length:0;return b*c}var aT={id:"legend",_element:b6,start(a,b,c){let d=a.legend=new b6({ctx:a.ctx,options:c,chart:a});L.configure(a,d,c),L.addBox(a,d)},stop(a){L.removeBox(a,a.legend),delete a.legend},beforeUpdate(a,b,c){let d=a.legend;L.configure(a,d,c),d.options=c},afterUpdate(a){let b=a.legend;b.buildLabels(),b.adjustHitBoxes()},afterEvent(a,b){b.replay||a.legend.handleEvent(b.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(a,b,c){let d=b.datasetIndex,e=c.chart;e.isDatasetVisible(d)?(e.hide(d),b.hidden=!0):(e.show(d),b.hidden=!1)},onHover:null,onLeave:null,labels:{color:a=>a.chart.options.color,boxWidth:40,padding:10,generateLabels(a){let b=a.data.datasets,{labels:{usePointStyle:c,pointStyle:d,textAlign:f,color:g,useBorderRadius:h,borderRadius:i}}=a.legend.options;return a._getSortedDatasetMetas().map(a=>{let j=a.controller.getStyle(c?0:void 0),k=(0,e.E)(j.borderWidth);return{text:b[a.index].label,fillStyle:j.backgroundColor,fontColor:g,hidden:!a.visible,lineCap:j.borderCapStyle,lineDash:j.borderDash,lineDashOffset:j.borderDashOffset,lineJoin:j.borderJoinStyle,lineWidth:(k.width+k.height)/4,strokeStyle:j.borderColor,pointStyle:d||j.pointStyle,rotation:j.rotation,textAlign:f||j.textAlign,borderRadius:h&&(i||j.borderRadius),datasetIndex:a.index}},this)}},title:{color:a=>a.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:a=>!a.startsWith("on"),labels:{_scriptable:a=>!["generateLabels","filter","sort"].includes(a)}}};class b7 extends bJ{constructor(a){super(),this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,b){let c=this.options;if(this.left=0,this.top=0,!c.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=a,this.height=this.bottom=b;let d=(0,e.b)(c.text)?c.text.length:1;this._padding=(0,e.E)(c.padding);let f=d*(0,e.a0)(c.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=f:this.width=f}isHorizontal(){let a=this.options.position;return"top"===a||"bottom"===a}_drawArgs(a){let b,c,d,{top:f,left:g,bottom:h,right:i,options:j}=this,k=j.align,l=0;return this.isHorizontal()?(c=(0,e.a2)(k,g,i),d=f+a,b=i-g):("left"===j.position?(c=g+a,d=(0,e.a2)(k,h,f),l=-.5*e.P):(c=i-a,d=(0,e.a2)(k,f,h),l=.5*e.P),b=h-f),{titleX:c,titleY:d,maxWidth:b,rotation:l}}draw(){let a=this.ctx,b=this.options;if(!b.display)return;let c=(0,e.a0)(b.font),d=c.lineHeight/2+this._padding.top,{titleX:f,titleY:g,maxWidth:h,rotation:i}=this._drawArgs(d);(0,e.Z)(a,b.text,0,0,c,{color:b.color,maxWidth:h,rotation:i,textAlign:(0,e.a1)(b.align),textBaseline:"middle",translation:[f,g]})}}var aU={id:"title",_element:b7,start(a,b,c){let d=new b7({ctx:a.ctx,options:c,chart:a});L.configure(a,d,c),L.addBox(a,d),a.titleBlock=d},stop(a){let b=a.titleBlock;L.removeBox(a,b),delete a.titleBlock},beforeUpdate(a,b,c){let d=a.titleBlock;L.configure(a,d,c),d.options=c},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let b8=new WeakMap;var aV={id:"subtitle",start(a,b,c){let d=new b7({ctx:a.ctx,options:c,chart:a});L.configure(a,d,c),L.addBox(a,d),b8.set(a,d)},stop(a){L.removeBox(a,b8.get(a)),b8.delete(a)},beforeUpdate(a,b,c){let d=b8.get(a);L.configure(a,d,c),d.options=c},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let b9={average(a){let b,c;if(!a.length)return!1;let d=new Set,e=0,f=0;for(b=0,c=a.length;b<c;++b){let c=a[b].element;if(c&&c.hasValue()){let a=c.tooltipPosition();d.add(a.x),e+=a.y,++f}}return 0!==f&&0!==d.size&&{x:[...d].reduce((a,b)=>a+b)/d.size,y:e/f}},nearest(a,b){let c,d,f;if(!a.length)return!1;let g=b.x,h=b.y,i=1/0;for(c=0,d=a.length;c<d;++c){let d=a[c].element;if(d&&d.hasValue()){let a=d.getCenterPoint(),c=(0,e.aF)(b,a);c<i&&(i=c,f=d)}}if(f){let a=f.tooltipPosition();g=a.x,h=a.y}return{x:g,y:h}}};function aW(a,b){return b&&((0,e.b)(b)?Array.prototype.push.apply(a,b):a.push(b)),a}function aX(a){return("string"==typeof a||a instanceof String)&&a.indexOf("\n")>-1?a.split("\n"):a}function aY(a,b){let c=a.chart.ctx,{body:d,footer:f,title:g}=a,{boxWidth:h,boxHeight:i}=b,j=(0,e.a0)(b.bodyFont),k=(0,e.a0)(b.titleFont),l=(0,e.a0)(b.footerFont),m=g.length,n=f.length,o=d.length,p=(0,e.E)(b.padding),q=p.height,r=0,s=d.reduce((a,b)=>a+b.before.length+b.lines.length+b.after.length,0);if(s+=a.beforeBody.length+a.afterBody.length,m&&(q+=m*k.lineHeight+(m-1)*b.titleSpacing+b.titleMarginBottom),s){let a=b.displayColors?Math.max(i,j.lineHeight):j.lineHeight;q+=o*a+(s-o)*j.lineHeight+(s-1)*b.bodySpacing}n&&(q+=b.footerMarginTop+n*l.lineHeight+(n-1)*b.footerSpacing);let t=0,u=function(a){r=Math.max(r,c.measureText(a).width+t)};return c.save(),c.font=k.string,(0,e.F)(a.title,u),c.font=j.string,(0,e.F)(a.beforeBody.concat(a.afterBody),u),t=b.displayColors?h+2+b.boxPadding:0,(0,e.F)(d,a=>{(0,e.F)(a.before,u),(0,e.F)(a.lines,u),(0,e.F)(a.after,u)}),t=0,c.font=l.string,(0,e.F)(a.footer,u),c.restore(),{width:r+=p.width,height:q}}function aZ(a,b,c){let d=c.yAlign||b.yAlign||function(a,b){let{y:c,height:d}=b;return c<d/2?"top":c>a.height-d/2?"bottom":"center"}(a,c);return{xAlign:c.xAlign||b.xAlign||function(a,b,c,d){let{x:e,width:f}=c,{width:g,chartArea:{left:h,right:i}}=a,j="center";return"center"===d?j=e<=(h+i)/2?"left":"right":e<=f/2?j="left":e>=g-f/2&&(j="right"),function(a,b,c,d){let{x:e,width:f}=d,g=c.caretSize+c.caretPadding;if("left"===a&&e+f+g>b.width||"right"===a&&e-f-g<0)return!0}(j,a,b,c)&&(j="center"),j}(a,b,c,d),yAlign:d}}function a$(a,b,c,d){let{caretSize:f,caretPadding:g,cornerRadius:h}=a,{xAlign:i,yAlign:j}=c,k=f+g,{topLeft:l,topRight:m,bottomLeft:n,bottomRight:o}=(0,e.ay)(h),p=function(a,b){let{x:c,width:d}=a;return"right"===b?c-=d:"center"===b&&(c-=d/2),c}(b,i),q=function(a,b,c){let{y:d,height:e}=a;return"top"===b?d+=c:"bottom"===b?d-=e+c:d-=e/2,d}(b,j,k);return"center"===j?"left"===i?p+=k:"right"===i&&(p-=k):"left"===i?p-=Math.max(l,n)+f:"right"===i&&(p+=Math.max(m,o)+f),{x:(0,e.S)(p,0,d.width-b.width),y:(0,e.S)(q,0,d.height-b.height)}}function a_(a,b,c){let d=(0,e.E)(c.padding);return"center"===b?a.x+a.width/2:"right"===b?a.x+a.width-d.right:a.x+d.left}function a0(a,b){let c=b&&b.dataset&&b.dataset.tooltip&&b.dataset.tooltip.callbacks;return c?a.override(c):a}let ca={beforeTitle:e.aG,title(a){if(a.length>0){let b=a[0],c=b.chart.data.labels,d=c?c.length:0;if(this&&this.options&&"dataset"===this.options.mode)return b.dataset.label||"";if(b.label)return b.label;if(d>0&&b.dataIndex<d)return c[b.dataIndex]}return""},afterTitle:e.aG,beforeBody:e.aG,beforeLabel:e.aG,label(a){if(this&&this.options&&"dataset"===this.options.mode)return a.label+": "+a.formattedValue||a.formattedValue;let b=a.dataset.label||"";b&&(b+=": ");let c=a.formattedValue;return(0,e.k)(c)||(b+=c),b},labelColor(a){let b=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{borderColor:b.borderColor,backgroundColor:b.backgroundColor,borderWidth:b.borderWidth,borderDash:b.borderDash,borderDashOffset:b.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(a){let b=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{pointStyle:b.pointStyle,rotation:b.rotation}},afterLabel:e.aG,afterBody:e.aG,beforeFooter:e.aG,footer:e.aG,afterFooter:e.aG};function a1(a,b,c,d){let e=a[b].call(c,d);return void 0===e?ca[b].call(c,d):e}class cb extends bJ{static{this.positioners=b9}constructor(a){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=a.chart,this.options=a.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(a){this.options=a,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let a=this._cachedAnimations;if(a)return a;let b=this.chart,c=this.options.setContext(this.getContext()),d=c.enabled&&b.options.animation&&c.animations,e=new bm(this.chart,d);return d._cacheable&&(this._cachedAnimations=Object.freeze(e)),e}getContext(){var a,b;return this.$context||(this.$context=(a=this.chart.getContext(),b=this._tooltipItems,(0,e.j)(a,{tooltip:this,tooltipItems:b,type:"tooltip"})))}getTitle(a,b){let{callbacks:c}=b,d=a1(c,"beforeTitle",this,a),e=a1(c,"title",this,a),f=a1(c,"afterTitle",this,a),g=[];return g=aW(g,aX(d)),g=aW(g,aX(e)),g=aW(g,aX(f))}getBeforeBody(a,b){var c;return c=a1(b.callbacks,"beforeBody",this,a),aW([],aX(c))}getBody(a,b){let{callbacks:c}=b,d=[];return(0,e.F)(a,a=>{let b={before:[],lines:[],after:[]},e=a0(c,a);aW(b.before,aX(a1(e,"beforeLabel",this,a))),aW(b.lines,a1(e,"label",this,a)),aW(b.after,aX(a1(e,"afterLabel",this,a))),d.push(b)}),d}getAfterBody(a,b){var c;return c=a1(b.callbacks,"afterBody",this,a),aW([],aX(c))}getFooter(a,b){let{callbacks:c}=b,d=a1(c,"beforeFooter",this,a),e=a1(c,"footer",this,a),f=a1(c,"afterFooter",this,a),g=[];return g=aW(g,aX(d)),g=aW(g,aX(e)),g=aW(g,aX(f))}_createItems(a){let b,c,d=this._active,f=this.chart.data,g=[],h=[],i=[],j=[];for(b=0,c=d.length;b<c;++b)j.push(function(a,b){let{element:c,datasetIndex:d,index:e}=b,f=a.getDatasetMeta(d).controller,{label:g,value:h}=f.getLabelAndValue(e);return{chart:a,label:g,parsed:f.getParsed(e),raw:a.data.datasets[d].data[e],formattedValue:h,dataset:f.getDataset(),dataIndex:e,datasetIndex:d,element:c}}(this.chart,d[b]));return a.filter&&(j=j.filter((b,c,d)=>a.filter(b,c,d,f))),a.itemSort&&(j=j.sort((b,c)=>a.itemSort(b,c,f))),(0,e.F)(j,b=>{let c=a0(a.callbacks,b);g.push(a1(c,"labelColor",this,b)),h.push(a1(c,"labelPointStyle",this,b)),i.push(a1(c,"labelTextColor",this,b))}),this.labelColors=g,this.labelPointStyles=h,this.labelTextColors=i,this.dataPoints=j,j}update(a,b){let c,d=this.options.setContext(this.getContext()),e=this._active,f=[];if(e.length){let a=b9[d.position].call(this,e,this._eventPosition);f=this._createItems(d),this.title=this.getTitle(f,d),this.beforeBody=this.getBeforeBody(f,d),this.body=this.getBody(f,d),this.afterBody=this.getAfterBody(f,d),this.footer=this.getFooter(f,d);let b=this._size=aY(this,d),g=Object.assign({},a,b),h=aZ(this.chart,d,g),i=a$(d,g,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,c={opacity:1,x:i.x,y:i.y,width:b.width,height:b.height,caretX:a.x,caretY:a.y}}else 0!==this.opacity&&(c={opacity:0});this._tooltipItems=f,this.$context=void 0,c&&this._resolveAnimations().update(this,c),a&&d.external&&d.external.call(this,{chart:this.chart,tooltip:this,replay:b})}drawCaret(a,b,c,d){let e=this.getCaretPosition(a,c,d);b.lineTo(e.x1,e.y1),b.lineTo(e.x2,e.y2),b.lineTo(e.x3,e.y3)}getCaretPosition(a,b,c){let d,f,g,h,i,j,{xAlign:k,yAlign:l}=this,{caretSize:m,cornerRadius:n}=c,{topLeft:o,topRight:p,bottomLeft:q,bottomRight:r}=(0,e.ay)(n),{x:s,y:t}=a,{width:u,height:v}=b;return"center"===l?(i=t+v/2,"left"===k?(f=(d=s)-m,h=i+m,j=i-m):(f=(d=s+u)+m,h=i-m,j=i+m),g=d):(f="left"===k?s+Math.max(o,q)+m:"right"===k?s+u-Math.max(p,r)-m:this.caretX,"top"===l?(i=(h=t)-m,d=f-m,g=f+m):(i=(h=t+v)+m,d=f+m,g=f-m),j=h),{x1:d,x2:f,x3:g,y1:h,y2:i,y3:j}}drawTitle(a,b,c){let d,f,g,h=this.title,i=h.length;if(i){let j=(0,e.aA)(c.rtl,this.x,this.width);for(g=0,a.x=a_(this,c.titleAlign,c),b.textAlign=j.textAlign(c.titleAlign),b.textBaseline="middle",d=(0,e.a0)(c.titleFont),f=c.titleSpacing,b.fillStyle=c.titleColor,b.font=d.string;g<i;++g)b.fillText(h[g],j.x(a.x),a.y+d.lineHeight/2),a.y+=d.lineHeight+f,g+1===i&&(a.y+=c.titleMarginBottom-f)}}_drawColorBox(a,b,c,d,f){let g=this.labelColors[c],h=this.labelPointStyles[c],{boxHeight:i,boxWidth:j}=f,k=(0,e.a0)(f.bodyFont),l=a_(this,"left",f),m=d.x(l),n=i<k.lineHeight?(k.lineHeight-i)/2:0,o=b.y+n;if(f.usePointStyle){let b={radius:Math.min(j,i)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},c=d.leftForLtr(m,j)+j/2,k=o+i/2;a.strokeStyle=f.multiKeyBackground,a.fillStyle=f.multiKeyBackground,(0,e.av)(a,b,c,k),a.strokeStyle=g.borderColor,a.fillStyle=g.backgroundColor,(0,e.av)(a,b,c,k)}else{a.lineWidth=(0,e.i)(g.borderWidth)?Math.max(...Object.values(g.borderWidth)):g.borderWidth||1,a.strokeStyle=g.borderColor,a.setLineDash(g.borderDash||[]),a.lineDashOffset=g.borderDashOffset||0;let b=d.leftForLtr(m,j),c=d.leftForLtr(d.xPlus(m,1),j-2),h=(0,e.ay)(g.borderRadius);Object.values(h).some(a=>0!==a)?(a.beginPath(),a.fillStyle=f.multiKeyBackground,(0,e.aw)(a,{x:b,y:o,w:j,h:i,radius:h}),a.fill(),a.stroke(),a.fillStyle=g.backgroundColor,a.beginPath(),(0,e.aw)(a,{x:c,y:o+1,w:j-2,h:i-2,radius:h}),a.fill()):(a.fillStyle=f.multiKeyBackground,a.fillRect(b,o,j,i),a.strokeRect(b,o,j,i),a.fillStyle=g.backgroundColor,a.fillRect(c,o+1,j-2,i-2))}a.fillStyle=this.labelTextColors[c]}drawBody(a,b,c){let d,f,g,h,i,j,{body:k}=this,{bodySpacing:l,bodyAlign:m,displayColors:n,boxHeight:o,boxWidth:p,boxPadding:q}=c,r=(0,e.a0)(c.bodyFont),s=r.lineHeight,t=0,u=(0,e.aA)(c.rtl,this.x,this.width),v=function(c){b.fillText(c,u.x(a.x+t),a.y+s/2),a.y+=s+l},w=u.textAlign(m);for(b.textAlign=m,b.textBaseline="middle",b.font=r.string,a.x=a_(this,w,c),b.fillStyle=c.bodyColor,(0,e.F)(this.beforeBody,v),t=n&&"right"!==w?"center"===m?p/2+q:p+2+q:0,g=0,i=k.length;g<i;++g){for(d=k[g],b.fillStyle=this.labelTextColors[g],(0,e.F)(d.before,v),f=d.lines,n&&f.length&&(this._drawColorBox(b,a,g,u,c),s=Math.max(r.lineHeight,o)),h=0,j=f.length;h<j;++h)v(f[h]),s=r.lineHeight;(0,e.F)(d.after,v)}t=0,s=r.lineHeight,(0,e.F)(this.afterBody,v),a.y-=l}drawFooter(a,b,c){let d,f,g=this.footer,h=g.length;if(h){let i=(0,e.aA)(c.rtl,this.x,this.width);for(a.x=a_(this,c.footerAlign,c),a.y+=c.footerMarginTop,b.textAlign=i.textAlign(c.footerAlign),b.textBaseline="middle",d=(0,e.a0)(c.footerFont),b.fillStyle=c.footerColor,b.font=d.string,f=0;f<h;++f)b.fillText(g[f],i.x(a.x),a.y+d.lineHeight/2),a.y+=d.lineHeight+c.footerSpacing}}drawBackground(a,b,c,d){let{xAlign:f,yAlign:g}=this,{x:h,y:i}=a,{width:j,height:k}=c,{topLeft:l,topRight:m,bottomLeft:n,bottomRight:o}=(0,e.ay)(d.cornerRadius);b.fillStyle=d.backgroundColor,b.strokeStyle=d.borderColor,b.lineWidth=d.borderWidth,b.beginPath(),b.moveTo(h+l,i),"top"===g&&this.drawCaret(a,b,c,d),b.lineTo(h+j-m,i),b.quadraticCurveTo(h+j,i,h+j,i+m),"center"===g&&"right"===f&&this.drawCaret(a,b,c,d),b.lineTo(h+j,i+k-o),b.quadraticCurveTo(h+j,i+k,h+j-o,i+k),"bottom"===g&&this.drawCaret(a,b,c,d),b.lineTo(h+n,i+k),b.quadraticCurveTo(h,i+k,h,i+k-n),"center"===g&&"left"===f&&this.drawCaret(a,b,c,d),b.lineTo(h,i+l),b.quadraticCurveTo(h,i,h+l,i),b.closePath(),b.fill(),d.borderWidth>0&&b.stroke()}_updateAnimationTarget(a){let b=this.chart,c=this.$animations,d=c&&c.x,e=c&&c.y;if(d||e){let c=b9[a.position].call(this,this._active,this._eventPosition);if(!c)return;let f=this._size=aY(this,a),g=Object.assign({},c,this._size),h=aZ(b,a,g),i=a$(a,g,h,b);(d._to!==i.x||e._to!==i.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=f.width,this.height=f.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,i))}}_willRender(){return!!this.opacity}draw(a){let b=this.options.setContext(this.getContext()),c=this.opacity;if(!c)return;this._updateAnimationTarget(b);let d={width:this.width,height:this.height},f={x:this.x,y:this.y};c=.001>Math.abs(c)?0:c;let g=(0,e.E)(b.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;b.enabled&&h&&(a.save(),a.globalAlpha=c,this.drawBackground(f,a,d,b),(0,e.aB)(a,b.textDirection),f.y+=g.top,this.drawTitle(f,a,b),this.drawBody(f,a,b),this.drawFooter(f,a,b),(0,e.aD)(a,b.textDirection),a.restore())}getActiveElements(){return this._active||[]}setActiveElements(a,b){let c=this._active,d=a.map(({datasetIndex:a,index:b})=>{let c=this.chart.getDatasetMeta(a);if(!c)throw Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[b],index:b}}),f=!(0,e.ai)(c,d),g=this._positionChanged(d,b);(f||g)&&(this._active=d,this._eventPosition=b,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(a,b,c=!0){if(b&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let d=this.options,f=this._active||[],g=this._getActiveElements(a,f,b,c),h=this._positionChanged(g,a),i=b||!(0,e.ai)(g,f)||h;return i&&(this._active=g,(d.enabled||d.external)&&(this._eventPosition={x:a.x,y:a.y},this.update(!0,b))),i}_getActiveElements(a,b,c,d){let e=this.options;if("mouseout"===a.type)return[];if(!d)return b.filter(a=>this.chart.data.datasets[a.datasetIndex]&&void 0!==this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index));let f=this.chart.getElementsAtEventForMode(a,e.mode,e,c);return e.reverse&&f.reverse(),f}_positionChanged(a,b){let{caretX:c,caretY:d,options:e}=this,f=b9[e.position].call(this,a,b);return!1!==f&&(c!==f.x||d!==f.y)}}var a2={id:"tooltip",_element:cb,positioners:b9,afterInit(a,b,c){c&&(a.tooltip=new cb({chart:a,options:c}))},beforeUpdate(a,b,c){a.tooltip&&a.tooltip.initialize(c)},reset(a,b,c){a.tooltip&&a.tooltip.initialize(c)},afterDraw(a){let b=a.tooltip;if(b&&b._willRender()){let c={tooltip:b};if(!1===a.notifyPlugins("beforeTooltipDraw",{...c,cancelable:!0}))return;b.draw(a.ctx),a.notifyPlugins("afterTooltipDraw",c)}},afterEvent(a,b){if(a.tooltip){let c=b.replay;a.tooltip.handleEvent(b.event,c,b.inChartArea)&&(b.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(a,b)=>b.bodyFont.size,boxWidth:(a,b)=>b.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ca},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:a=>"filter"!==a&&"itemSort"!==a&&"external"!==a,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},a3=Object.freeze({__proto__:null,Colors:aD,Decimation:aG,Filler:aR,Legend:aT,SubTitle:aV,Title:aU,Tooltip:a2});function a4(a){let b=this.getLabels();return a>=0&&a<b.length?b[a]:a}class cc extends bM{static{this.id="category"}static{this.defaults={ticks:{callback:a4}}}constructor(a){super(a),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(a){let b=this._addedLabels;if(b.length){let a=this.getLabels();for(let{index:c,label:d}of b)a[c]===d&&a.splice(c,1);this._addedLabels=[]}super.init(a)}parse(a,b){let c,d;if((0,e.k)(a))return null;let f=this.getLabels();return c=b=isFinite(b)&&f[b]===a?b:function(a,b,c,d){let e=a.indexOf(b);if(-1===e){var f;return f=c,"string"==typeof b?(f=a.push(b)-1,d.unshift({index:f,label:b})):isNaN(b)&&(f=null),f}let g=a.lastIndexOf(b);return e!==g?c:e}(f,a,(0,e.v)(b,a),this._addedLabels),d=f.length-1,null===c?null:(0,e.S)(Math.round(c),0,d)}determineDataLimits(){let{minDefined:a,maxDefined:b}=this.getUserBounds(),{min:c,max:d}=this.getMinMax(!0);"ticks"===this.options.bounds&&(a||(c=0),b||(d=this.getLabels().length-1)),this.min=c,this.max=d}buildTicks(){let a=this.min,b=this.max,c=this.options.offset,d=[],e=this.getLabels();e=0===a&&b===e.length-1?e:e.slice(a,b+1),this._valueRange=Math.max(e.length-!c,1),this._startValue=this.min-.5*!!c;for(let c=a;c<=b;c++)d.push({value:c});return d}getLabelForValue(a){return a4.call(this,a)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(a){return"number"!=typeof a&&(a=this.parse(a)),null===a?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getPixelForTick(a){let b=this.ticks;return a<0||a>b.length-1?null:this.getPixelForValue(b[a].value)}getValueForPixel(a){return Math.round(this._startValue+this.getDecimalForPixel(a)*this._valueRange)}getBasePixel(){return this.bottom}}function a5(a,b,{horizontal:c,minRotation:d}){let f=(0,e.t)(d),g=(c?Math.sin(f):Math.cos(f))||.001,h=.75*b*(""+a).length;return Math.min(b/g,h)}class cd extends bM{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(a,b){return(0,e.k)(a)||("number"==typeof a||a instanceof Number)&&!isFinite(+a)?null:+a}handleTickRangeOptions(){let{beginAtZero:a}=this.options,{minDefined:b,maxDefined:c}=this.getUserBounds(),{min:d,max:f}=this,g=a=>d=b?d:a,h=a=>f=c?f:a;if(a){let a=(0,e.s)(d),b=(0,e.s)(f);a<0&&b<0?h(0):a>0&&b>0&&g(0)}if(d===f){let b=0===f?1:Math.abs(.05*f);h(f+b),a||g(d-b)}this.min=d,this.max=f}getTickLimit(){let a,{maxTicksLimit:b,stepSize:c}=this.options.ticks;return c?(a=Math.ceil(this.max/c)-Math.floor(this.min/c)+1)>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3):(a=this.computeTickLimit(),b=b||11),b&&(a=Math.min(b,a)),a}computeTickLimit(){return 1/0}buildTicks(){let a=this.options,b=a.ticks,c=this.getTickLimit(),d={maxTicks:c=Math.max(2,c),bounds:a.bounds,min:a.min,max:a.max,precision:b.precision,step:b.stepSize,count:b.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:b.minRotation||0,includeBounds:!1!==b.includeBounds},f=this._range||this,g=function(a,b){let c,d,f,g,h=[],{bounds:i,step:j,min:k,max:l,precision:m,count:n,maxTicks:o,maxDigits:p,includeBounds:q}=a,r=j||1,s=o-1,{min:t,max:u}=b,v=!(0,e.k)(k),w=!(0,e.k)(l),x=!(0,e.k)(n),y=(u-t)/(p+1),z=(0,e.aI)((u-t)/s/r)*r;if(z<1e-14&&!v&&!w)return[{value:t},{value:u}];(g=Math.ceil(u/z)-Math.floor(t/z))>s&&(z=(0,e.aI)(g*z/s/r)*r),(0,e.k)(m)||(c=Math.pow(10,m),z=Math.ceil(z*c)/c),"ticks"===i?(d=Math.floor(t/z)*z,f=Math.ceil(u/z)*z):(d=t,f=u),v&&w&&j&&(0,e.aJ)((l-k)/j,z/1e3)?(g=Math.round(Math.min((l-k)/z,o)),z=(l-k)/g,d=k,f=l):x?(d=v?k:d,f=w?l:f,g=n-1,z=(f-d)/g):(g=(f-d)/z,g=(0,e.aK)(g,Math.round(g),z/1e3)?Math.round(g):Math.ceil(g));let A=Math.max((0,e.aL)(z),(0,e.aL)(d));c=Math.pow(10,(0,e.k)(m)?A:m),d=Math.round(d*c)/c,f=Math.round(f*c)/c;let B=0;for(v&&(q&&d!==k?(h.push({value:k}),d<k&&B++,(0,e.aK)(Math.round((d+B*z)*c)/c,k,a5(k,y,a))&&B++):d<k&&B++);B<g;++B){let a=Math.round((d+B*z)*c)/c;if(w&&a>l)break;h.push({value:a})}return w&&q&&f!==l?h.length&&(0,e.aK)(h[h.length-1].value,l,a5(l,y,a))?h[h.length-1].value=l:h.push({value:l}):w&&f!==l||h.push({value:f}),h}(d,f);return"ticks"===a.bounds&&(0,e.aH)(g,this,"value"),a.reverse?(g.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),g}configure(){let a=this.ticks,b=this.min,c=this.max;if(super.configure(),this.options.offset&&a.length){let d=(c-b)/Math.max(a.length-1,1)/2;b-=d,c+=d}this._startValue=b,this._endValue=c,this._valueRange=c-b}getLabelForValue(a){return(0,e.o)(a,this.chart.options.locale,this.options.ticks.format)}}class ce extends cd{static{this.id="linear"}static{this.defaults={ticks:{callback:e.aM.formatters.numeric}}}determineDataLimits(){let{min:a,max:b}=this.getMinMax(!0);this.min=(0,e.g)(a)?a:0,this.max=(0,e.g)(b)?b:1,this.handleTickRangeOptions()}computeTickLimit(){let a=this.isHorizontal(),b=a?this.width:this.height,c=(0,e.t)(this.options.ticks.minRotation),d=(a?Math.sin(c):Math.cos(c))||.001,f=this._resolveTickFontOptions(0);return Math.ceil(b/Math.min(40,f.lineHeight/d))}getPixelForValue(a){return null===a?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getValueForPixel(a){return this._startValue+this.getDecimalForPixel(a)*this._valueRange}}let cf=a=>Math.floor((0,e.aN)(a)),cg=(a,b)=>Math.pow(10,cf(a)+b);function a6(a){let b=a/Math.pow(10,cf(a));return 1===b}function a7(a,b,c){let d=Math.pow(10,c),e=Math.floor(a/d);return Math.ceil(b/d)-e}class ch extends bM{static{this.id="logarithmic"}static{this.defaults={ticks:{callback:e.aM.formatters.logarithmic,major:{enabled:!0}}}}constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(a,b){let c=cd.prototype.parse.apply(this,[a,b]);if(0===c){this._zero=!0;return}return(0,e.g)(c)&&c>0?c:null}determineDataLimits(){let{min:a,max:b}=this.getMinMax(!0);this.min=(0,e.g)(a)?Math.max(0,a):null,this.max=(0,e.g)(b)?Math.max(0,b):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,e.g)(this._userMin)&&(this.min=a===cg(this.min,0)?cg(this.min,-1):cg(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:a,maxDefined:b}=this.getUserBounds(),c=this.min,d=this.max,e=b=>c=a?c:b,f=a=>d=b?d:a;c===d&&(c<=0?(e(1),f(10)):(e(cg(c,-1)),f(cg(d,1)))),c<=0&&e(cg(d,-1)),d<=0&&f(cg(c,1)),this.min=c,this.max=d}buildTicks(){let a=this.options,b={min:this._userMin,max:this._userMax},c=function(a,{min:b,max:c}){b=(0,e.O)(a.min,b);let d=[],f=cf(b),g=function(a,b){let c=b-a,d=cf(c);for(;a7(a,b,d)>10;)d++;for(;10>a7(a,b,d);)d--;return Math.min(d,cf(a))}(b,c),h=g<0?Math.pow(10,Math.abs(g)):1,i=Math.pow(10,g),j=f>g?Math.pow(10,f):0,k=Math.round((b-j)*h)/h,l=Math.floor((b-j)/i/10)*i*10,m=Math.floor((k-l)/Math.pow(10,g)),n=(0,e.O)(a.min,Math.round((j+l+m*Math.pow(10,g))*h)/h);for(;n<c;)d.push({value:n,major:a6(n),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(g++,m=2,h=g>=0?1:h),n=Math.round((j+l+m*Math.pow(10,g))*h)/h;let o=(0,e.O)(a.max,n);return d.push({value:o,major:a6(o),significand:m}),d}(b,this);return"ticks"===a.bounds&&(0,e.aH)(c,this,"value"),a.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}getLabelForValue(a){return void 0===a?"0":(0,e.o)(a,this.chart.options.locale,this.options.ticks.format)}configure(){let a=this.min;super.configure(),this._startValue=(0,e.aN)(a),this._valueRange=(0,e.aN)(this.max)-(0,e.aN)(a)}getPixelForValue(a){return((void 0===a||0===a)&&(a=this.min),null===a||isNaN(a))?NaN:this.getPixelForDecimal(a===this.min?0:((0,e.aN)(a)-this._startValue)/this._valueRange)}getValueForPixel(a){let b=this.getDecimalForPixel(a);return Math.pow(10,this._startValue+b*this._valueRange)}}function a8(a){let b=a.ticks;if(b.display&&a.display){let a=(0,e.E)(b.backdropPadding);return(0,e.v)(b.font&&b.font.size,e.d.font.size)+a.height}return 0}function a9(a,b,c,d,e){return a===d||a===e?{start:b-c/2,end:b+c/2}:a<d||a>e?{start:b-c,end:b}:{start:b,end:b+c}}function ba(a,b,c,d){let{ctx:f}=a;if(c)f.arc(a.xCenter,a.yCenter,b,0,e.T);else{let c=a.getPointPosition(0,b);f.moveTo(c.x,c.y);for(let e=1;e<d;e++)c=a.getPointPosition(e,b),f.lineTo(c.x,c.y)}}class ci extends cd{static{this.id="radialLinear"}static{this.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:e.aM.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:a=>a,padding:5,centerPointLabels:!1}}}static{this.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}}static{this.descriptors={angleLines:{_fallback:"grid"}}}constructor(a){super(a),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let a=this._padding=(0,e.E)(a8(this.options)/2),b=this.width=this.maxWidth-a.width,c=this.height=this.maxHeight-a.height;this.xCenter=Math.floor(this.left+b/2+a.left),this.yCenter=Math.floor(this.top+c/2+a.top),this.drawingArea=Math.floor(Math.min(b,c)/2)}determineDataLimits(){let{min:a,max:b}=this.getMinMax(!1);this.min=(0,e.g)(a)&&!isNaN(a)?a:0,this.max=(0,e.g)(b)&&!isNaN(b)?b:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/a8(this.options))}generateTickLabels(a){cd.prototype.generateTickLabels.call(this,a),this._pointLabels=this.getLabels().map((a,b)=>{let c=(0,e.Q)(this.options.pointLabels.callback,[a,b],this);return c||0===c?c:""}).filter((a,b)=>this.chart.getDataVisibility(b))}fit(){let a=this.options;a.display&&a.pointLabels.display?function(a){let b={l:a.left+a._padding.left,r:a.right-a._padding.right,t:a.top+a._padding.top,b:a.bottom-a._padding.bottom},c=Object.assign({},b),d=[],f=[],g=a._pointLabels.length,h=a.options.pointLabels,i=h.centerPointLabels?e.P/g:0;for(let l=0;l<g;l++){var j,k;let g=h.setContext(a.getPointLabelContext(l));f[l]=g.padding;let m=a.getPointPosition(l,a.drawingArea+f[l],i),n=(0,e.a0)(g.font),o=(j=a.ctx,k=a._pointLabels[l],k=(0,e.b)(k)?k:[k],{w:(0,e.aO)(j,n.string,k),h:k.length*n.lineHeight});d[l]=o;let p=(0,e.al)(a.getIndexAngle(l)+i),q=Math.round((0,e.U)(p)),r=a9(q,m.x,o.w,0,180),s=a9(q,m.y,o.h,90,270);!function(a,b,c,d,e){let f=Math.abs(Math.sin(c)),g=Math.abs(Math.cos(c)),h=0,i=0;d.start<b.l?(h=(b.l-d.start)/f,a.l=Math.min(a.l,b.l-h)):d.end>b.r&&(h=(d.end-b.r)/f,a.r=Math.max(a.r,b.r+h)),e.start<b.t?(i=(b.t-e.start)/g,a.t=Math.min(a.t,b.t-i)):e.end>b.b&&(i=(e.end-b.b)/g,a.b=Math.max(a.b,b.b+i))}(c,b,p,r,s)}a.setCenterPoint(b.l-c.l,c.r-b.r,b.t-c.t,c.b-b.b),a._pointLabelItems=function(a,b,c){let d,f=[],g=a._pointLabels.length,h=a.options,{centerPointLabels:i,display:j}=h.pointLabels,k={extra:a8(h)/2,additionalAngle:i?e.P/g:0};for(let h=0;h<g;h++){k.padding=c[h],k.size=b[h];let g=function(a,b,c){var d,f,g,h,i,j,k;let l=a.drawingArea,{extra:m,additionalAngle:n,padding:o,size:p}=c,q=a.getPointPosition(b,l+m+o,n),r=Math.round((0,e.U)((0,e.al)(q.angle+e.H))),s=(d=q.y,f=p.h,g=r,90===g||270===g?d-=f/2:(g>270||g<90)&&(d-=f),d),t=(h=r,0===h||180===h?"center":h<180?"left":"right"),u=(i=q.x,j=p.w,k=t,"right"===k?i-=j:"center"===k&&(i-=j/2),i);return{visible:!0,x:q.x,y:s,textAlign:t,left:u,top:s,right:u+p.w,bottom:s+p.h}}(a,h,k);f.push(g),"auto"===j&&(g.visible=function(a,b){if(!b)return!0;let{left:c,top:d,right:f,bottom:g}=a;return!((0,e.C)({x:c,y:d},b)||(0,e.C)({x:c,y:g},b)||(0,e.C)({x:f,y:d},b)||(0,e.C)({x:f,y:g},b))}(g,d),g.visible&&(d=g))}return f}(a,d,f)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(a,b,c,d){this.xCenter+=Math.floor((a-b)/2),this.yCenter+=Math.floor((c-d)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(a,b,c,d))}getIndexAngle(a){let b=e.T/(this._pointLabels.length||1),c=this.options.startAngle||0;return(0,e.al)(a*b+(0,e.t)(c))}getDistanceFromCenterForValue(a){if((0,e.k)(a))return NaN;let b=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-a)*b:(a-this.min)*b}getValueForDistanceFromCenter(a){if((0,e.k)(a))return NaN;let b=a/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-b:this.min+b}getPointLabelContext(a){let b=this._pointLabels||[];if(a>=0&&a<b.length){var c;let d=b[a];return c=this.getContext(),(0,e.j)(c,{label:d,index:a,type:"pointLabel"})}}getPointPosition(a,b,c=0){let d=this.getIndexAngle(a)-e.H+c;return{x:Math.cos(d)*b+this.xCenter,y:Math.sin(d)*b+this.yCenter,angle:d}}getPointPositionForValue(a,b){return this.getPointPosition(a,this.getDistanceFromCenterForValue(b))}getBasePosition(a){return this.getPointPositionForValue(a||0,this.getBaseValue())}getPointLabelPosition(a){let{left:b,top:c,right:d,bottom:e}=this._pointLabelItems[a];return{left:b,top:c,right:d,bottom:e}}drawBackground(){let{backgroundColor:a,grid:{circular:b}}=this.options;if(a){let c=this.ctx;c.save(),c.beginPath(),ba(this,this.getDistanceFromCenterForValue(this._endValue),b,this._pointLabels.length),c.closePath(),c.fillStyle=a,c.fill(),c.restore()}}drawGrid(){let a,b,c,d=this.ctx,f=this.options,{angleLines:g,grid:h,border:i}=f,j=this._pointLabels.length;if(f.pointLabels.display&&function(a,b){let{ctx:c,options:{pointLabels:d}}=a;for(let f=b-1;f>=0;f--){let b=a._pointLabelItems[f];if(!b.visible)continue;let g=d.setContext(a.getPointLabelContext(f));!function(a,b,c){let{left:d,top:f,right:g,bottom:h}=c,{backdropColor:i}=b;if(!(0,e.k)(i)){let c=(0,e.ay)(b.borderRadius),j=(0,e.E)(b.backdropPadding);a.fillStyle=i;let k=d-j.left,l=f-j.top,m=g-d+j.width,n=h-f+j.height;Object.values(c).some(a=>0!==a)?(a.beginPath(),(0,e.aw)(a,{x:k,y:l,w:m,h:n,radius:c}),a.fill()):a.fillRect(k,l,m,n)}}(c,g,b);let h=(0,e.a0)(g.font),{x:i,y:j,textAlign:k}=b;(0,e.Z)(c,a._pointLabels[f],i,j+h.lineHeight/2,h,{color:g.color,textAlign:k,textBaseline:"middle"})}}(this,j),h.display&&this.ticks.forEach((a,c)=>{if(0!==c||0===c&&this.min<0){b=this.getDistanceFromCenterForValue(a.value);let d=this.getContext(c),e=h.setContext(d),f=i.setContext(d);!function(a,b,c,d,e){let f=a.ctx,g=b.circular,{color:h,lineWidth:i}=b;(g||d)&&h&&i&&!(c<0)&&(f.save(),f.strokeStyle=h,f.lineWidth=i,f.setLineDash(e.dash||[]),f.lineDashOffset=e.dashOffset,f.beginPath(),ba(a,c,g,d),f.closePath(),f.stroke(),f.restore())}(this,e,b,j,f)}}),g.display){for(d.save(),a=j-1;a>=0;a--){let e=g.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:i}=e;i&&h&&(d.lineWidth=i,d.strokeStyle=h,d.setLineDash(e.borderDash),d.lineDashOffset=e.borderDashOffset,b=this.getDistanceFromCenterForValue(f.reverse?this.min:this.max),c=this.getPointPosition(a,b),d.beginPath(),d.moveTo(this.xCenter,this.yCenter),d.lineTo(c.x,c.y),d.stroke())}d.restore()}}drawBorder(){}drawLabels(){let a,b,c=this.ctx,d=this.options,f=d.ticks;if(!f.display)return;let g=this.getIndexAngle(0);c.save(),c.translate(this.xCenter,this.yCenter),c.rotate(g),c.textAlign="center",c.textBaseline="middle",this.ticks.forEach((g,h)=>{if(0===h&&this.min>=0&&!d.reverse)return;let i=f.setContext(this.getContext(h)),j=(0,e.a0)(i.font);if(a=this.getDistanceFromCenterForValue(this.ticks[h].value),i.showLabelBackdrop){c.font=j.string,b=c.measureText(g.label).width,c.fillStyle=i.backdropColor;let d=(0,e.E)(i.backdropPadding);c.fillRect(-b/2-d.left,-a-j.size/2-d.top,b+d.width,j.size+d.height)}(0,e.Z)(c,g.label,0,-a,j,{color:i.color,strokeColor:i.textStrokeColor,strokeWidth:i.textStrokeWidth})}),c.restore()}drawTitle(){}}let cj={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ck=Object.keys(cj);function bb(a,b){return a-b}function bc(a,b){if((0,e.k)(b))return null;let c=a._adapter,{parser:d,round:f,isoWeekday:g}=a._parseOpts,h=b;return("function"==typeof d&&(h=d(h)),(0,e.g)(h)||(h="string"==typeof d?c.parse(h,d):c.parse(h)),null===h)?null:(f&&(h="week"===f&&((0,e.x)(g)||!0===g)?c.startOf(h,"isoWeek",g):c.startOf(h,f)),+h)}function bd(a,b,c,d){let e=ck.length;for(let f=ck.indexOf(a);f<e-1;++f){let a=cj[ck[f]],e=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((c-b)/(e*a.size))<=d)return ck[f]}return ck[e-1]}function be(a,b,c){if(c){if(c.length){let{lo:d,hi:f}=(0,e.aQ)(c,b);a[c[d]>=b?c[d]:c[f]]=!0}}else a[b]=!0}function bf(a,b,c){let d,e,f=[],g={},h=b.length;for(d=0;d<h;++d)g[e=b[d]]=d,f.push({value:e,major:!1});return 0!==h&&c?function(a,b,c,d){let e,f,g=a._adapter,h=+g.startOf(b[0].value,d),i=b[b.length-1].value;for(e=h;e<=i;e=+g.add(e,1,d))(f=c[e])>=0&&(b[f].major=!0);return b}(a,f,g,c):f}class cl extends bM{static{this.id="time"}static{this.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}}}constructor(a){super(a),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(a,b={}){let c=a.time||(a.time={}),d=this._adapter=new x._date(a.adapters.date);d.init(b),(0,e.ab)(c.displayFormats,d.formats()),this._parseOpts={parser:c.parser,round:c.round,isoWeekday:c.isoWeekday},super.init(a),this._normalized=b.normalized}parse(a,b){return void 0===a?null:bc(this,a)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let a=this.options,b=this._adapter,c=a.time.unit||"day",{min:d,max:f,minDefined:g,maxDefined:h}=this.getUserBounds();function i(a){g||isNaN(a.min)||(d=Math.min(d,a.min)),h||isNaN(a.max)||(f=Math.max(f,a.max))}g&&h||(i(this._getLabelBounds()),("ticks"!==a.bounds||"labels"!==a.ticks.source)&&i(this.getMinMax(!1))),d=(0,e.g)(d)&&!isNaN(d)?d:+b.startOf(Date.now(),c),f=(0,e.g)(f)&&!isNaN(f)?f:+b.endOf(Date.now(),c)+1,this.min=Math.min(d,f-1),this.max=Math.max(d+1,f)}_getLabelBounds(){let a=this.getLabelTimestamps(),b=1/0,c=-1/0;return a.length&&(b=a[0],c=a[a.length-1]),{min:b,max:c}}buildTicks(){let a=this.options,b=a.time,c=a.ticks,d="labels"===c.source?this.getLabelTimestamps():this._generate();"ticks"===a.bounds&&d.length&&(this.min=this._userMin||d[0],this.max=this._userMax||d[d.length-1]);let f=this.min,g=this.max,h=(0,e.aP)(d,f,g);return this._unit=b.unit||(c.autoSkip?bd(b.minUnit,this.min,this.max,this._getLabelCapacity(f)):function(a,b,c,d,e){for(let f=ck.length-1;f>=ck.indexOf(c);f--){let c=ck[f];if(cj[c].common&&a._adapter.diff(e,d,c)>=b-1)return c}return ck[c?ck.indexOf(c):0]}(this,h.length,b.minUnit,this.min,this.max)),this._majorUnit=c.major.enabled&&"year"!==this._unit?function(a){for(let b=ck.indexOf(a)+1,c=ck.length;b<c;++b)if(cj[ck[b]].common)return ck[b]}(this._unit):void 0,this.initOffsets(d),a.reverse&&h.reverse(),bf(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(a=>+a.value))}initOffsets(a=[]){let b,c,d=0,f=0;this.options.offset&&a.length&&(b=this.getDecimalForValue(a[0]),d=1===a.length?1-b:(this.getDecimalForValue(a[1])-b)/2,c=this.getDecimalForValue(a[a.length-1]),f=1===a.length?c:(c-this.getDecimalForValue(a[a.length-2]))/2);let g=a.length<3?.5:.25;d=(0,e.S)(d,0,g),f=(0,e.S)(f,0,g),this._offsets={start:d,end:f,factor:1/(d+1+f)}}_generate(){let a,b,c=this._adapter,d=this.min,f=this.max,g=this.options,h=g.time,i=h.unit||bd(h.minUnit,d,f,this._getLabelCapacity(d)),j=(0,e.v)(g.ticks.stepSize,1),k="week"===i&&h.isoWeekday,l=(0,e.x)(k)||!0===k,m={},n=d;if(l&&(n=+c.startOf(n,"isoWeek",k)),n=+c.startOf(n,l?"day":i),c.diff(f,d,i)>1e5*j)throw Error(d+" and "+f+" are too far apart with stepSize of "+j+" "+i);let o="data"===g.ticks.source&&this.getDataTimestamps();for(a=n,b=0;a<f;a=+c.add(a,j,i),b++)be(m,a,o);return(a===f||"ticks"===g.bounds||1===b)&&be(m,a,o),Object.keys(m).sort(bb).map(a=>+a)}getLabelForValue(a){let b=this._adapter,c=this.options.time;return c.tooltipFormat?b.format(a,c.tooltipFormat):b.format(a,c.displayFormats.datetime)}format(a,b){let c=this.options.time.displayFormats,d=this._unit,e=b||c[d];return this._adapter.format(a,e)}_tickFormatFunction(a,b,c,d){let f=this.options,g=f.ticks.callback;if(g)return(0,e.Q)(g,[a,b,c],this);let h=f.time.displayFormats,i=this._unit,j=this._majorUnit,k=i&&h[i],l=j&&h[j],m=c[b],n=j&&l&&m&&m.major;return this._adapter.format(a,d||(n?l:k))}generateTickLabels(a){let b,c,d;for(b=0,c=a.length;b<c;++b)(d=a[b]).label=this._tickFormatFunction(d.value,b,a)}getDecimalForValue(a){return null===a?NaN:(a-this.min)/(this.max-this.min)}getPixelForValue(a){let b=this._offsets,c=this.getDecimalForValue(a);return this.getPixelForDecimal((b.start+c)*b.factor)}getValueForPixel(a){let b=this._offsets,c=this.getDecimalForPixel(a)/b.factor-b.end;return this.min+c*(this.max-this.min)}_getLabelSize(a){let b=this.options.ticks,c=this.ctx.measureText(a).width,d=(0,e.t)(this.isHorizontal()?b.maxRotation:b.minRotation),f=Math.cos(d),g=Math.sin(d),h=this._resolveTickFontOptions(0).size;return{w:c*f+h*g,h:c*g+h*f}}_getLabelCapacity(a){let b=this.options.time,c=b.displayFormats,d=c[b.unit]||c.millisecond,e=this._tickFormatFunction(a,0,bf(this,[a],this._majorUnit),d),f=this._getLabelSize(e),g=Math.floor(this.isHorizontal()?this.width/f.w:this.height/f.h)-1;return g>0?g:1}getDataTimestamps(){let a,b,c=this._cache.data||[];if(c.length)return c;let d=this.getMatchingVisibleMetas();if(this._normalized&&d.length)return this._cache.data=d[0].controller.getAllParsedValues(this);for(a=0,b=d.length;a<b;++a)c=c.concat(d[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(c)}getLabelTimestamps(){let a,b,c=this._cache.labels||[];if(c.length)return c;let d=this.getLabels();for(a=0,b=d.length;a<b;++a)c.push(bc(this,d[a]));return this._cache.labels=this._normalized?c:this.normalize(c)}normalize(a){return(0,e._)(a.sort(bb))}}function bg(a,b,c){let d,f,g,h,i=0,j=a.length-1;c?(b>=a[i].pos&&b<=a[j].pos&&({lo:i,hi:j}=(0,e.B)(a,"pos",b)),{pos:d,time:g}=a[i],{pos:f,time:h}=a[j]):(b>=a[i].time&&b<=a[j].time&&({lo:i,hi:j}=(0,e.B)(a,"time",b)),{time:d,pos:g}=a[i],{time:f,pos:h}=a[j]);let k=f-d;return k?g+(h-g)*(b-d)/k:g}class cm extends cl{static{this.id="timeseries"}static{this.defaults=cl.defaults}constructor(a){super(a),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let a=this._getTimestampsForTable(),b=this._table=this.buildLookupTable(a);this._minPos=bg(b,this.min),this._tableRange=bg(b,this.max)-this._minPos,super.initOffsets(a)}buildLookupTable(a){let b,c,d,e,f,{min:g,max:h}=this,i=[],j=[];for(b=0,c=a.length;b<c;++b)(e=a[b])>=g&&e<=h&&i.push(e);if(i.length<2)return[{time:g,pos:0},{time:h,pos:1}];for(b=0,c=i.length;b<c;++b)f=i[b+1],d=i[b-1],e=i[b],Math.round((f+d)/2)!==e&&j.push({time:e,pos:b/(c-1)});return j}_generate(){let a=this.min,b=this.max,c=super.getDataTimestamps();return c.includes(a)&&c.length||c.splice(0,0,a),c.includes(b)&&1!==c.length||c.push(b),c.sort((a,b)=>a-b)}_getTimestampsForTable(){let a=this._cache.all||[];if(a.length)return a;let b=this.getDataTimestamps(),c=this.getLabelTimestamps();return a=b.length&&c.length?this.normalize(b.concat(c)):b.length?b:c,a=this._cache.all=a}getDecimalForValue(a){return(bg(this._table,a)-this._minPos)/this._tableRange}getValueForPixel(a){let b=this._offsets,c=this.getDecimalForPixel(a)/b.factor-b.end;return bg(this._table,c*this._tableRange+this._minPos,!0)}}var bh=Object.freeze({__proto__:null,CategoryScale:cc,LinearScale:ce,LogarithmicScale:ch,RadialLinearScale:ci,TimeScale:cl,TimeSeriesScale:cm});let cn=[v,az,a3,bh];d()}catch(a){d(a)}})}};