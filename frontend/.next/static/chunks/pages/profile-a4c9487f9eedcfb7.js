(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{7827:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>o});var r=s(7876),a=s(4232);let t=e=>{let{label:l,htmlFor:s,description:a,children:t,className:n=""}=e;return(0,r.jsxs)("div",{className:"flex flex-col space-y-2 ".concat(n),children:[(0,r.jsx)("label",{htmlFor:s,className:"text-sm font-medium text-gray-700",children:l}),t,a&&(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:a})]})},n=e=>{let{progress:l}=e;return(0,r.jsxs)("div",{className:"mb-8 p-4 bg-white border border-blue-100 rounded-lg shadow-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Profile Completion"}),(0,r.jsxs)("span",{className:"text-sm font-bold text-blue-600",children:[l,"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(l,"%")}})})]})},i={firstName:"",lastName:"",email:"",phone:"",experienceLevel:"beginner",investmentGoals:[],riskTolerance:"moderate",preferredAssetClasses:[],timeHorizon:"5-10",initialCapital:1e4,monthlyContribution:500,riskScore:5};function o(){let[e,l]=(0,a.useState)(i),[s,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),[m,u]=(0,a.useState)(!1),b=(0,a.useMemo)(()=>Math.min(100,Math.round(([e.firstName,e.lastName,e.email,e.phone].filter(e=>""!==e.trim()).length+(+(e.investmentGoals.length>0)+ +("beginner"!==e.experienceLevel)+ +("moderate"!==e.riskTolerance)+ +(e.initialCapital>0)))/8*100)||30),[e]),x=async l=>{l.preventDefault(),o(!0),c(null);try{await new Promise(e=>setTimeout(e,500));let l=await fetch("/api/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!l.ok)throw Error("Failed to update profile. Status: "+l.status);u(!0),setTimeout(()=>u(!1),3e3)}catch(e){c(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}},h=(0,a.useCallback)(s=>{let{name:r,value:a,type:t}=s.target;if("checkbox"===t){let t=s.target.checked,n=[...e[r]];l(e=>({...e,[r]:t?[...n,a]:n.filter(e=>e!==a)}))}else l(e=>({...e,[r]:"number"===t?parseFloat(a)||0:a}))},[e]);return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8 bg-white shadow-xl rounded-xl border border-gray-100",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6 font-serif",children:"Investor Profile Setup"}),(0,r.jsx)(n,{progress:b}),(0,r.jsxs)("form",{onSubmit:x,className:"space-y-10",children:[(0,r.jsxs)("section",{className:"p-6 border border-gray-200 rounded-lg bg-gray-50/50",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-blue-800 mb-6 border-b pb-3 border-blue-100",children:"1. Personal Information \uD83D\uDCDD"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(t,{label:"First Name",htmlFor:"firstName",children:(0,r.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:h,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2.5",required:!0})}),(0,r.jsx)(t,{label:"Last Name",htmlFor:"lastName",children:(0,r.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:e.lastName,onChange:h,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2.5",required:!0})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,r.jsx)(t,{label:"Email",htmlFor:"email",children:(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:h,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2.5",required:!0})}),(0,r.jsx)(t,{label:"Phone",htmlFor:"phone",description:"Optional: Used for important account alerts.",children:(0,r.jsx)("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:h,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2.5"})})]})]}),(0,r.jsxs)("section",{className:"p-6 border border-gray-200 rounded-lg bg-gray-50/50",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-blue-800 mb-6 border-b pb-3 border-blue-100",children:"2. Investment Profile \uD83D\uDCCA"}),(0,r.jsx)(t,{label:"Investment Experience",htmlFor:"experienceLevel",className:"mb-6",children:(0,r.jsxs)("select",{id:"experienceLevel",name:"experienceLevel",value:e.experienceLevel,onChange:h,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2.5 bg-white",required:!0,children:[(0,r.jsx)("option",{value:"beginner",children:"Beginner (0-2 years)"}),(0,r.jsx)("option",{value:"intermediate",children:"Intermediate (2-5 years)"}),(0,r.jsx)("option",{value:"advanced",children:"Advanced (5+ years)"}),(0,r.jsx)("option",{value:"professional",children:"Professional"})]})}),(0,r.jsx)(t,{label:"Investment Goals",description:"Select all that apply.",className:"mb-6",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-4",children:["Retirement","Wealth Building","Education","Major Purchase","Other"].map(l=>(0,r.jsxs)("label",{className:"inline-flex items-center space-x-2 text-sm text-gray-700 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",name:"investmentGoals",value:l.toLowerCase().replace(" ","-"),checked:e.investmentGoals.includes(l.toLowerCase().replace(" ","-")),onChange:h,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("span",{children:l})]},l))})}),(0,r.jsx)(t,{label:"Risk Tolerance",description:"How willing are you to accept market fluctuations for higher potential returns?",className:"mb-6",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-4 items-center",children:[{value:"conservative",label:"Conservative"},{value:"moderate",label:"Moderate"},{value:"balanced",label:"Balanced"},{value:"growth",label:"Growth"},{value:"aggressive",label:"Aggressive"}].map(l=>(0,r.jsxs)("label",{className:"inline-flex items-center space-x-2 text-sm text-gray-700 cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",name:"riskTolerance",value:l.value,checked:e.riskTolerance===l.value,onChange:h,className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(e.riskTolerance===l.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:l.label})]},l.value))})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(t,{label:"Initial Investment Capital",htmlFor:"initialCapital",children:(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),(0,r.jsx)("input",{type:"number",id:"initialCapital",name:"initialCapital",value:e.initialCapital,onChange:h,min:"0",step:"100",className:"block w-full pl-7 pr-3 rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2.5",required:!0})]})}),(0,r.jsx)(t,{label:"Monthly Contribution",htmlFor:"monthlyContribution",children:(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),(0,r.jsx)("input",{type:"number",id:"monthlyContribution",name:"monthlyContribution",value:e.monthlyContribution,onChange:h,min:"0",step:"10",className:"block w-full pl-7 pr-3 rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2.5",required:!0})]})})]})]}),(0,r.jsxs)("div",{className:"min-h-[40px] flex justify-center items-center",children:[m&&(0,r.jsxs)("div",{className:"w-full p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg flex items-center justify-center transition-all duration-300",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Profile updated successfully!"]}),d&&(0,r.jsxs)("div",{className:"w-full p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center justify-center transition-all duration-300",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),d]})]}),(0,r.jsxs)("div",{className:"flex justify-between gap-4 pt-4 border-t border-gray-200",children:[(0,r.jsx)("button",{type:"button",className:"flex-1 inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm disabled:opacity-50",onClick:()=>window.history.back(),disabled:s,children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"flex-1 inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:s,children:s?(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]})]})}},8172:(e,l,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return s(7827)}])}},e=>{e.O(0,[636,593,792],()=>e(e.s=8172)),_N_E=e.O()}]);